const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlantDetail-B1FmGjbh.js","assets/ui-wPK-3RQ8.js","assets/vendor-B7436CdZ.js","assets/router-CZ3lJY9Y.js","assets/utils-CRBKYUSN.js","assets/firebase-xL_IlaqF.js","assets/Chat-DGhNpxQf.js","assets/Camera-DvTpJASt.js","assets/GardenChat-BWe0PfT5.js","assets/Settings-DGrrQmQa.js","assets/Auth-CwhyMbJC.js"])))=>i.map(i=>d[i]);
import{j as t,R as e,L as s,C as n,B as i,I as r,a,b as o,c as l,X as c,T as u,W as d,S as h,E as p,H as m,d as f,e as g,f as y,g as v}from"./ui-wPK-3RQ8.js";import{b,r as x,a as w,c as E}from"./vendor-B7436CdZ.js";import{u as S,L as P,O as j,a as C,B as T,R as k,b as A,N as I}from"./router-CZ3lJY9Y.js";import{c as R,p as M}from"./utils-CRBKYUSN.js";import{G as D,i as N,g as O,a as V,b as F,d as L,c as B,s as z,e as _,f as U,h as q,j as Q,o as $,k as K,q as W,l as H,m as Y,u as G,n as X,p as Z,r as J,w as tt,t as et,v as st}from"./firebase-xL_IlaqF.js";import{testValueType as nt}from"../node_modules/motion-dom/dist/es/value/types/test.mjs";import"../node_modules/lucide-react/dist/esm/icons/inspection-panel.js";import"../node_modules/lucide-react/dist/esm/icons/test-tube-diagonal.js";import"../node_modules/lucide-react/dist/esm/icons/test-tube.js";import"../node_modules/lucide-react/dist/esm/icons/test-tubes.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var it={},rt=b;it.createRoot=rt.createRoot,it.hydrateRoot=rt.hydrateRoot;const at={},ot=function(t,e,s){let n=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),s=t?.nonce||t?.getAttribute("nonce");n=Promise.allSettled(e.map(t=>{if((t=function(t){return"/plantitas-app/"+t}(t))in at)return;at[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const i=document.createElement("link");return i.rel=e?"stylesheet":"modulepreload",e||(i.as="script"),i.crossOrigin="",i.href=t,s&&i.setAttribute("nonce",s),document.head.appendChild(i),e?new Promise((e,s)=>{i.addEventListener("load",e),i.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function i(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return n.then(e=>{for(const t of e||[])"rejected"===t.status&&i(t.reason);return t().catch(i)})};function lt(t,e){let s;try{s=t()}catch(n){return}return{getItem:t=>{var e;const n=t=>null===t?null:JSON.parse(t,void 0),i=null!=(e=s.getItem(t))?e:null;return i instanceof Promise?i.then(n):n(i)},setItem:(t,e)=>s.setItem(t,JSON.stringify(e,void 0)),removeItem:t=>s.removeItem(t)}}const ct=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then:t=>ct(t)(s),catch(t){return this}}}catch(s){return{then(t){return this},catch:t=>ct(t)(s)}}},ut=(t,e)=>(s,n,i)=>{let r={storage:lt(()=>localStorage),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},a=!1;const o=new Set,l=new Set;let c=r.storage;if(!c)return t((...t)=>{s(...t)},n,i);const u=()=>{const t=r.partialize({...n()});return c.setItem(r.name,{state:t,version:r.version})},d=i.setState;i.setState=(t,e)=>{d(t,e),u()};const h=t((...t)=>{s(...t),u()},n,i);let p;i.getInitialState=()=>h;const m=()=>{var t,e;if(!c)return;a=!1,o.forEach(t=>{var e;return t(null!=(e=n())?e:h)});const i=(null==(e=r.onRehydrateStorage)?void 0:e.call(r,null!=(t=n())?t:h))||void 0;return ct(c.getItem.bind(c))(r.name).then(t=>{if(t){if("number"!=typeof t.version||t.version===r.version)return[!1,t.state];if(r.migrate){const e=r.migrate(t.state,t.version);return e instanceof Promise?e.then(t=>[!0,t]):[!0,e]}}return[!1,void 0]}).then(t=>{var e;const[i,a]=t;if(p=r.merge(a,null!=(e=n())?e:h),s(p,!0),i)return u()}).then(()=>{null==i||i(p,void 0),p=n(),a=!0,l.forEach(t=>t(p))}).catch(t=>{null==i||i(void 0,t)})};return i.persist={setOptions:t=>{r={...r,...t},t.storage&&(c=t.storage)},clearStorage:()=>{null==c||c.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:t=>(o.add(t),()=>{o.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},r.skipHydration||m(),p||h};class dt{static instance=null;app=null;auth=null;db=null;storage=null;isInitialized=!1;initializationPromise=null;retryCount=0;maxRetries=3;constructor(){}static getInstance(){return dt.instance||(dt.instance=new dt),dt.instance}validateConfig(){const t=[],e={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0};return["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].forEach(s=>{e[s]||t.push(`Missing ${s} (VITE_FIREBASE_${s.toUpperCase()})`)}),{isValid:0===t.length,config:0===t.length?e:null,errors:t}}async initializeWithRetry(){const{isValid:t,config:e,errors:s}=this.validateConfig();if(!t){const t=`Firebase configuration invalid: ${s.join(", ")}`;throw new Error(t)}for(;this.retryCount<this.maxRetries;)try{return this.app=N(e),this.auth=O(this.app),this.db=V(this.app),this.storage=F(this.app),await this.performHealthCheck(),this.isInitialized=!0,window.firebaseManager=this,!0}catch(n){this.retryCount++;const t=Math.min(1e3*Math.pow(2,this.retryCount),1e4);if(!(this.retryCount<this.maxRetries))throw n;await new Promise(e=>setTimeout(e,t))}return!1}async performHealthCheck(){if(!this.db)throw new Error("Firestore not initialized");try{const t=L(this.db,"__health__","test");await B(t)}catch(t){}}async initialize(){return!!this.isInitialized||(this.initializationPromise||(this.initializationPromise=this.initializeWithRetry()),this.initializationPromise)}getAuth(){if(!this.isInitialized||!this.auth)throw new Error("Firebase Auth not initialized. Call initialize() first.");return this.auth}getFirestore(){if(!this.isInitialized||!this.db)throw new Error("Firestore not initialized. Call initialize() first.");return this.db}getStorage(){if(!this.isInitialized||!this.storage)throw new Error("Firebase Storage not initialized. Call initialize() first.");return this.storage}getApp(){return this.app}isReady(){return this.isInitialized}}const ht=dt.getInstance();ht.initialize().catch(t=>{});const pt=()=>ht.getAuth(),mt=()=>ht.getFirestore(),ft=()=>ht.isReady();ht.isReady()&&ht.getAuth(),ht.isReady()&&ht.getFirestore(),ht.isReady()&&ht.getStorage();const gt=new D;var yt=R()(ut((t,e)=>({user:null,initialized:!1,get isInitialized(){return e().initialized},isLoading:!1,isSigningIn:!1,isSigningUp:!1,isSigningOut:!1,error:null,connection:{isOnline:navigator.onLine,isConnectedToFirebase:!1,lastConnectionCheck:null,connectionError:null},retryQueue:[],checkConnection:async()=>{t(M(t=>{t.connection.lastConnectionCheck=new Date}));try{if(!ft())throw new Error("Firebase not initialized");const e=mt(),s=L(e,"__connection_test__","test");return await B(s),t(M(t=>{t.connection.isConnectedToFirebase=!0,t.connection.connectionError=null})),!0}catch(e){return t(M(t=>{t.connection.isConnectedToFirebase=!1,t.connection.connectionError=e instanceof Error?e.message:"Connection failed"})),!1}},retryFailedOperations:async()=>{const{retryQueue:s}=e();if(0===s.length)return;if(!(await e().checkConnection()))return;t(M(t=>{t.isLoading=!0}));const n=[];for(const t of s)try{await t()}catch(i){n.push(t)}t(M(t=>{t.retryQueue=n,t.isLoading=!1}))},initialize:()=>{if(window.addEventListener("online",()=>{t(M(t=>{t.connection.isOnline=!0})),e().checkConnection(),e().retryFailedOperations()}),window.addEventListener("offline",()=>{t(M(t=>{t.connection.isOnline=!1,t.connection.isConnectedToFirebase=!1}))}),!ft())return void t(M(t=>{t.initialized=!0,t.error="Firebase not configured properly",t.connection.isConnectedToFirebase=!1}));const s=pt();$(s,async s=>{t(M(t=>{t.isLoading=!0}));try{if(s){if(!(await e().checkConnection()))return void t(M(e=>{e.retryQueue.push(async()=>{const e=mt(),n=L(e,"profiles",s.uid),i=await B(n);if(i.exists()){const e=i.data();t(M(t=>{t.user={id:s.uid,...e}}))}})}));const n=mt(),i=L(n,"profiles",s.uid),r=await B(i);if(r.exists()){const e=r.data();t(M(t=>{t.user={id:s.uid,...e},t.initialized=!0,t.isLoading=!1,t.error=null}))}else{const e={id:s.uid,email:s.email,fullName:s.displayName||null,avatarUrl:s.photoURL||null,preferences:{},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await z(i,e),t(M(t=>{t.user=e,t.initialized=!0,t.isLoading=!1,t.error=null}))}}else t(M(t=>{t.user=null,t.initialized=!0,t.isLoading=!1,t.error=null}))}catch(n){t(M(t=>{t.error=n instanceof Error?n.message:"Authentication error",t.initialized=!0,t.isLoading=!1}))}}),e().checkConnection()},signIn:async(s,n)=>{t(M(t=>{t.isSigningIn=!0,t.error=null}));try{if(!(await e().checkConnection()))throw new Error("No connection to Firebase. Please check your internet connection.");const t=pt();await Q(t,s,n)}catch(i){throw t(M(t=>{t.error=i.message||"Failed to sign in.",t.isSigningIn=!1})),i}finally{t(M(t=>{t.isSigningIn=!1}))}},signUp:async(s,n,i,r)=>{t(M(t=>{t.isSigningUp=!0,t.error=null}));try{if(!(await e().checkConnection()))throw new Error("No connection to Firebase. Please check your internet connection.");if(i&&n!==i)throw new Error("Passwords do not match");const t=pt(),a=mt(),o=(await q(t,s,n)).user;if(o){const t={id:o.uid,email:o.email,fullName:r||null,avatarUrl:null,preferences:{},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},e=L(a,"profiles",o.uid);await z(e,t)}}catch(a){throw t(M(t=>{t.error=a.message||"Failed to sign up."})),a}finally{t(M(t=>{t.isSigningUp=!1}))}},signInWithGoogle:async()=>{t(M(t=>{t.isSigningIn=!0,t.error=null}));try{if(!(await e().checkConnection()))throw new Error("No connection to Firebase. Please check your internet connection.");const t=pt();await U(t,gt)}catch(s){throw t(M(t=>{t.error=s.message||"Failed to sign in with Google."})),s}finally{t(M(t=>{t.isSigningIn=!1}))}},signOut:async()=>{t(M(t=>{t.isSigningOut=!0}));try{const t=pt();await _(t)}catch(e){throw t(M(t=>{t.error=e.message||"Failed to sign out."})),e}finally{t(M(t=>{t.isSigningOut=!1}))}},updateProfile:async s=>{const{user:n}=e();if(!n)throw new Error("User not authenticated");try{if(!(await e().checkConnection()))return t(M(e=>{e.retryQueue.push(async()=>{const e=mt(),i=L(e,"profiles",n.id),r={...s,updatedAt:(new Date).toISOString()};await z(i,r,{merge:!0}),t(M(t=>{t.user&&Object.assign(t.user,r)}))})})),void t(M(t=>{t.user&&Object.assign(t.user,s)}));const i=mt(),r=L(i,"profiles",n.id),a={...s,updatedAt:(new Date).toISOString()};await z(r,a,{merge:!0}),t(M(t=>{t.user&&Object.assign(t.user,a)}))}catch(i){throw t(M(t=>{t.error=i.message||"Failed to update profile."})),i}},clearError:()=>{t(M(t=>{t.error=null}))}}),{name:"auth-store",partialize:t=>({user:t.user,connection:{isOnline:t.connection.isOnline,lastConnectionCheck:t.connection.lastConnectionCheck}})}));const vt=t=>(e,s,n)=>(n.setState=(t,s,...n)=>{const i="function"==typeof t?M(t):t;return e(i,s,...n)},t(n.setState,s,n)),bt=()=>{const t=mt();if(!t)throw new Error("Firebase Firestore not initialized");return t},xt=async t=>{const e=bt();try{const s=H(e,"plants"),n=W(s,et("userId","==",t)),i=await K(n),r=[];for(const t of i.docs){const s={id:t.id,...t.data()},n=W(H(e,"plants",t.id,"plant_images"),et("isProfileImage","==",!0),st(1)),i=await K(n);i.empty||(s.profileImage={id:i.docs[0].id,...i.docs[0].data()}),r.push(s)}return r}catch(s){throw s}},wt=async(t,e=!0)=>{const s=bt();try{const n=L(s,"plants",t),i=await B(n);if(!i.exists())return null;const r={id:i.id,...i.data()};if(e){const[e,n,i]=await Promise.all([K(W(H(s,"plants",t,"plant_images"),Y("createdAt","asc"))),K(W(H(s,"plants",t,"chat_messages"),Y("createdAt","asc"))),K(W(H(s,"plants",t,"plant_notifications"),Y("createdAt","asc")))]);r.images=e.docs.map(t=>({id:t.id,...t.data()})),r.chatMessages=n.docs.map(t=>({id:t.id,...t.data()})),r.notifications=i.docs.map(t=>({id:t.id,...t.data()}))}return r}catch(n){throw n}},Et=async t=>{const e=bt();try{const s=H(e,"plants");return(await Z(s,{...t,createdAt:X(),updatedAt:X(),healthScore:t.healthScore||85,dateAdded:new Date})).id}catch(s){throw s}},St=async(t,e)=>{const s=bt();try{const n=L(s,"plants",t);await G(n,{...e,updatedAt:X()})}catch(n){throw n}},Pt=async t=>{const e=bt();try{const s=async s=>{const n=H(e,"plants",t,s),i=await K(n),r=tt(e);i.docs.forEach(t=>{r.delete(t.ref)}),await r.commit()};await Promise.all([s("plant_images"),s("chat_messages"),s("plant_notifications")]);const n=L(e,"plants",t);await J(n)}catch(s){throw s}},jt=async(t,e)=>{const s=bt();try{const n=H(s,"plants",t,"chat_messages");return(await Z(n,{...e,createdAt:X()})).id}catch(n){throw n}},Ct=async(t,e)=>{const s=bt();try{const n=H(s,"plants",t,"chat_messages"),i=L(n,e.id);await z(i,{...e,createdAt:e.createdAt||X()})}catch(n){throw n}},Tt=async(t,e)=>{const s=bt();try{const n=H(s,"plants",t,"plant_images");return(await Z(n,{...e,createdAt:X()})).id}catch(n){throw n}},kt=async(t,e,s)=>{const n=bt();try{const i=L(n,"plants",t,"plant_images",e);await G(i,{...s,updatedAt:X()})}catch(i){throw i}},At=async(t,e)=>{const s=bt();try{const n=H(s,"plants",t,"plant_images"),i=tt(s);(await K(n)).docs.forEach(t=>{i.update(t.ref,{isProfileImage:!1})});const r=L(n,e);i.update(r,{isProfileImage:!0});const a=L(s,"plants",t);i.update(a,{profileImageId:e}),await i.commit()}catch(n){throw n}},It=async(t,e)=>{const s=bt();try{const n=L(s,"plants",t,"plant_images",e);await J(n)}catch(n){throw n}},Rt=async(t,e)=>{const s=bt();try{const n=H(s,"plants",t,"plant_notifications");return(await Z(n,{...e,createdAt:X(),isRead:!1})).id}catch(n){throw n}},Mt=async(t,e)=>{const s=bt();try{const n=L(s,"plants",t,"plant_notifications",e);await G(n,{isRead:!0,readAt:X()})}catch(n){throw n}},Dt=async(t,e)=>{const s=bt();try{const n=L(s,"plants",t);await G(n,{healthScore:e,updatedAt:X()})}catch(n){throw n}};var Nt={getUserPlants:xt,getPlantById:wt,createPlant:Et,updatePlant:St,deletePlant:Pt,addChatMessage:jt,saveChatMessage:Ct,addPlantImage:Tt,updatePlantImage:kt,setProfileImage:At,deletePlantImage:It,addPlantNotification:Rt,markNotificationAsRead:Mt,updatePlantHealthScore:Dt};const Ot=Object.freeze(Object.defineProperty({__proto__:null,addChatMessage:jt,addPlantImage:Tt,addPlantNotification:Rt,createPlant:Et,default:Nt,deletePlant:Pt,deletePlantImage:It,getPlantById:wt,getUserPlants:xt,markNotificationAsRead:Mt,saveChatMessage:Ct,setProfileImage:At,updatePlant:St,updatePlantHealthScore:Dt,updatePlantImage:kt},Symbol.toStringTag,{value:"Module"}));var Vt=R()(vt(t=>({plants:[],selectedPlant:null,isLoading:!1,error:null,loadPlants:async e=>{t(t=>{t.isLoading=!0,t.error=null});try{const s=await Nt.getUserPlants(e);t(t=>{t.plants=s,t.isLoading=!1})}catch(s){t(t=>{t.error=s instanceof Error?s.message:"Failed to load plants",t.isLoading=!1})}},loadPlantById:async e=>{try{const s=await Nt.getPlantById(e);return s&&t(t=>{t.selectedPlant=s}),s}catch(s){return t(t=>{t.error=s instanceof Error?s.message:"Failed to load plant"}),null}},createPlant:async e=>{t(t=>{t.isLoading=!0,t.error=null});try{const s=await Nt.createPlant({...e,createdAt:new Date,updatedAt:new Date}),n={...e,id:s,createdAt:new Date,updatedAt:new Date};return t(t=>{t.plants.push(n),t.isLoading=!1}),s}catch(s){throw t(t=>{t.error=s instanceof Error?s.message:"Failed to create plant",t.isLoading=!1}),s}},updatePlant:async(e,s)=>{try{await Nt.updatePlant(e,s),t(t=>{const n=t.plants.findIndex(t=>t.id===e);-1!==n&&(t.plants[n]={...t.plants[n],...s}),t.selectedPlant&&t.selectedPlant.id===e&&(t.selectedPlant={...t.selectedPlant,...s})})}catch(n){throw t(t=>{t.error=n instanceof Error?n.message:"Failed to update plant"}),n}},deletePlant:async e=>{try{await Nt.deletePlant(e),t(t=>{t.plants=t.plants.filter(t=>t.id!==e),t.selectedPlant&&t.selectedPlant.id===e&&(t.selectedPlant=null)})}catch(s){throw t(t=>{t.error=s instanceof Error?s.message:"Failed to delete plant"}),s}},setSelectedPlant:e=>{t(t=>{t.selectedPlant=e})},sendChatMessage:async(e,s,n)=>{try{const i={plantId:e,userId:n,sender:"user",content:s,timestamp:new Date,createdAt:new Date};await Nt.addChatMessage(e,i);const r={plantId:e,userId:n,sender:"plant",content:"Â¡Gracias por tu mensaje! Como una planta, aprecio mucho tu atenciÃ³n. ðŸŒ±",emotion:"alegre",timestamp:new Date,createdAt:new Date};await Nt.addChatMessage(e,r);const a=await Nt.getPlantById(e,!0);a&&t(t=>{t.selectedPlant&&t.selectedPlant.id===e&&(t.selectedPlant=a);const s=t.plants.findIndex(t=>t.id===e);-1!==s&&(t.plants[s]=a)})}catch(i){throw t(t=>{t.error=i instanceof Error?i.message:"Failed to send message"}),i}},clearError:()=>{t(t=>{t.error=null})}}))),Ft=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lt="undefined"==typeof window||"Deno"in globalThis;function Bt(){}function zt(t){return"number"==typeof t&&t>=0&&t!==1/0}function _t(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ut(t,e){return"function"==typeof t?t(e):t}function qt(t,e){return"function"==typeof t?t(e):t}function Qt(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:r,queryKey:a,stale:o}=t;if(a)if(n){if(e.queryHash!==Kt(a,e.options))return!1}else if(!Ht(e.queryKey,a))return!1;if("all"!==s){const t=e.isActive();if("active"===s&&!t)return!1;if("inactive"===s&&t)return!1}return("boolean"!=typeof o||e.isStale()===o)&&((!i||i===e.state.fetchStatus)&&!(r&&!r(e)))}function $t(t,e){const{exact:s,status:n,predicate:i,mutationKey:r}=t;if(r){if(!e.options.mutationKey)return!1;if(s){if(Wt(e.options.mutationKey)!==Wt(r))return!1}else if(!Ht(e.options.mutationKey,r))return!1}return(!n||e.state.status===n)&&!(i&&!i(e))}function Kt(t,e){return(e?.queryKeyHashFn||Wt)(t)}function Wt(t){return JSON.stringify(t,(t,e)=>Zt(e)?Object.keys(e).sort().reduce((t,s)=>(t[s]=e[s],t),{}):e)}function Ht(t,e){return t===e||typeof t==typeof e&&(!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&Object.keys(e).every(s=>Ht(t[s],e[s])))}function Yt(t,e){if(t===e)return t;const s=Xt(t)&&Xt(e);if(s||Zt(t)&&Zt(e)){const n=s?t:Object.keys(t),i=n.length,r=s?e:Object.keys(e),a=r.length,o=s?[]:{},l=new Set(n);let c=0;for(let u=0;u<a;u++){const n=s?u:r[u];(!s&&l.has(n)||s)&&void 0===t[n]&&void 0===e[n]?(o[n]=void 0,c++):(o[n]=Yt(t[n],e[n]),o[n]===t[n]&&void 0!==t[n]&&c++)}return i===a&&c===i?t:o}return e}function Gt(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Xt(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zt(t){if(!Jt(t))return!1;const e=t.constructor;if(void 0===e)return!0;const s=e.prototype;return!!Jt(s)&&(!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype)}function Jt(t){return"[object Object]"===Object.prototype.toString.call(t)}function te(t,e,s){return"function"==typeof s.structuralSharing?s.structuralSharing(t,e):!1!==s.structuralSharing?Yt(t,e):e}function ee(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function se(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var ne=Symbol();function ie(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==ne?t.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`))}var re=new class extends Ft{#t;#e;#s;constructor(){super(),this.#s=t=>{if(!Lt&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof this.#t?this.#t:"hidden"!==globalThis.document?.visibilityState}},ae=new class extends Ft{#n=!0;#e;#s;constructor(){super(),this.#s=t=>{if(!Lt&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#n!==t&&(this.#n=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#n}};function oe(){let t,e;const s=new Promise((s,n)=>{t=s,e=n});function n(t){Object.assign(s,t),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=e=>{n({status:"fulfilled",value:e}),t(e)},s.reject=t=>{n({status:"rejected",reason:t}),e(t)},s}function le(t){return Math.min(1e3*2**t,3e4)}function ce(t){return"online"!==(t??"online")||ae.isOnline()}var ue=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function de(t){return t instanceof ue}function he(t){let e,s=!1,n=0,i=!1;const r=oe(),a=()=>re.isFocused()&&("always"===t.networkMode||ae.isOnline())&&t.canRun(),o=()=>ce(t.networkMode)&&t.canRun(),l=s=>{i||(i=!0,t.onSuccess?.(s),e?.(),r.resolve(s))},c=s=>{i||(i=!0,t.onError?.(s),e?.(),r.reject(s))},u=()=>new Promise(s=>{e=t=>{(i||a())&&s(t)},t.onPause?.()}).then(()=>{e=void 0,i||t.onContinue?.()}),d=()=>{if(i)return;let e;const r=0===n?t.initialPromise:void 0;try{e=r??t.fn()}catch(o){e=Promise.reject(o)}Promise.resolve(e).then(l).catch(e=>{if(i)return;const r=t.retry??(Lt?0:3),o=t.retryDelay??le,l="function"==typeof o?o(n,e):o,h=!0===r||"number"==typeof r&&n<r||"function"==typeof r&&r(n,e);var p;!s&&h?(n++,t.onFail?.(n,e),(p=l,new Promise(t=>{setTimeout(t,p)})).then(()=>a()?void 0:u()).then(()=>{s?c(e):d()})):c(e)})};return{promise:r,cancel:e=>{i||(c(new ue(e)),t.abort?.())},continue:()=>(e?.(),r),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:o,start:()=>(o()?d():u().then(d),r)}}var pe=t=>setTimeout(t,0);var me=function(){let t=[],e=0,s=t=>{t()},n=t=>{t()},i=pe;const r=n=>{e?t.push(n):i(()=>{s(n)})};return{batch:r=>{let a;e++;try{a=r()}finally{e--,e||(()=>{const e=t;t=[],e.length&&i(()=>{n(()=>{e.forEach(t=>{s(t)})})})})()}return a},batchCalls:t=>(...e)=>{r(()=>{t(...e)})},schedule:r,setNotifyFunction:t=>{s=t},setBatchNotifyFunction:t=>{n=t},setScheduler:t=>{i=t}}}(),fe=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zt(this.gcTime)&&(this.#i=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lt?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},ge=class extends fe{#r;#a;#o;#l;#c;#u;#d;constructor(t){super(),this.#d=!1,this.#u=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#l=t.client,this.#o=this.#l.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#r=function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,s=void 0!==e,n=s?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=t.state??this.#r,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(t){this.options={...this.#u,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(t,e){const s=te(this.state.data,t,this.options);return this.#h({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){this.#h({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#c?.promise;return this.#c?.cancel(t),e?e.then(Bt).catch(Bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#r)}isActive(){return this.observers.some(t=>!1!==qt(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ne||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(t=>"static"===Ut(t.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(t=0){return void 0===this.state.data||"static"!==t&&(!!this.state.isInvalidated||!_t(this.state.dataUpdatedAt,t))}onFocus(){const t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#c&&(this.#d?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}const s=new AbortController,n=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#d=!0,s.signal)})},i=()=>{const t=ie(this.options,e),s=(()=>{const t={client:this.#l,queryKey:this.queryKey,meta:this.meta};return n(t),t})();return this.#d=!1,this.options.persister?this.options.persister(t,s,this):t(s)},r=(()=>{const t={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:i};return n(t),t})();this.options.behavior?.onFetch(r,this),this.#a=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===r.fetchOptions?.meta||this.#h({type:"fetch",meta:r.fetchOptions?.meta});const a=t=>{de(t)&&t.silent||this.#h({type:"error",error:t}),de(t)||(this.#o.config.onError?.(t,this),this.#o.config.onSettled?.(this.state.data,t,this)),this.scheduleGc()};return this.#c=he({initialPromise:e?.initialPromise,fn:r.fetchFn,abort:s.abort.bind(s),onSuccess:t=>{if(void 0!==t){try{this.setData(t)}catch(e){return void a(e)}this.#o.config.onSuccess?.(t,this),this.#o.config.onSettled?.(t,this.state.error,this),this.scheduleGc()}else a(new Error(`${this.queryHash} data is undefined`))},onError:a,onFail:(t,e)=>{this.#h({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:r.options.retry,retryDelay:r.options.retryDelay,networkMode:r.options.networkMode,canRun:()=>!0}),this.#c.start()}#h(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...ye(e.data,this.options),fetchMeta:t.meta??null};case"success":return this.#a=void 0,{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return de(s)&&s.revert&&this.#a?{...this.#a,fetchStatus:"idle"}:{...e,error:s,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),me.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:t})})}};function ye(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ce(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}var ve=class extends Ft{constructor(t={}){super(),this.config=t,this.#p=new Map}#p;build(t,e,s){const n=e.queryKey,i=e.queryHash??Kt(n,e);let r=this.get(i);return r||(r=new ge({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(n)}),this.add(r)),r}add(t){this.#p.has(t.queryHash)||(this.#p.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#p.get(t.queryHash);e&&(t.destroy(),e===t&&this.#p.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){me.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#p.get(t)}getAll(){return[...this.#p.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(t=>Qt(e,t))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(e=>Qt(t,e)):e}notify(t){me.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){me.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){me.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},be=class extends fe{#m;#f;#c;constructor(t){super(),this.mutationId=t.mutationId,this.#f=t.mutationCache,this.#m=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#m.includes(t)||(this.#m.push(t),this.clearGcTimeout(),this.#f.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#m=this.#m.filter(e=>e!==t),this.scheduleGc(),this.#f.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#m.length||("pending"===this.state.status?this.scheduleGc():this.#f.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#h({type:"continue"})};this.#c=he({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(t,e)=>{this.#h({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#h({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#f.canRun(this)});const s="pending"===this.state.status,n=!this.#c.canStart();try{if(s)e();else{this.#h({type:"pending",variables:t,isPaused:n}),await(this.#f.config.onMutate?.(t,this));const e=await(this.options.onMutate?.(t));e!==this.state.context&&this.#h({type:"pending",context:e,variables:t,isPaused:n})}const i=await this.#c.start();return await(this.#f.config.onSuccess?.(i,t,this.state.context,this)),await(this.options.onSuccess?.(i,t,this.state.context)),await(this.#f.config.onSettled?.(i,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(i,null,t,this.state.context)),this.#h({type:"success",data:i}),i}catch(i){try{throw await(this.#f.config.onError?.(i,t,this.state.context,this)),await(this.options.onError?.(i,t,this.state.context)),await(this.#f.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,i,t,this.state.context)),i}finally{this.#h({type:"error",error:i})}}finally{this.#f.runNext(this)}}#h(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),me.batch(()=>{this.#m.forEach(e=>{e.onMutationUpdate(t)}),this.#f.notify({mutation:this,type:"updated",action:t})})}};var xe=class extends Ft{constructor(t={}){super(),this.config=t,this.#g=new Set,this.#y=new Map,this.#v=0}#g;#y;#v;build(t,e,s){const n=new be({mutationCache:this,mutationId:++this.#v,options:t.defaultMutationOptions(e),state:s});return this.add(n),n}add(t){this.#g.add(t);const e=we(t);if("string"==typeof e){const s=this.#y.get(e);s?s.push(t):this.#y.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#g.delete(t)){const e=we(t);if("string"==typeof e){const s=this.#y.get(e);if(s)if(s.length>1){const e=s.indexOf(t);-1!==e&&s.splice(e,1)}else s[0]===t&&this.#y.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=we(t);if("string"==typeof e){const s=this.#y.get(e),n=s?.find(t=>"pending"===t.state.status);return!n||n===t}return!0}runNext(t){const e=we(t);if("string"==typeof e){const s=this.#y.get(e)?.find(e=>e!==t&&e.state.isPaused);return s?.continue()??Promise.resolve()}return Promise.resolve()}clear(){me.batch(()=>{this.#g.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#g.clear(),this.#y.clear()})}getAll(){return Array.from(this.#g)}find(t){const e={exact:!0,...t};return this.getAll().find(t=>$t(e,t))}findAll(t={}){return this.getAll().filter(e=>$t(t,e))}notify(t){me.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(t=>t.state.isPaused);return me.batch(()=>Promise.all(t.map(t=>t.continue().catch(Bt))))}};function we(t){return t.options.scope?.id}function Ee(t){return{onFetch:(e,s)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let s=!1;const c=ie(e.options,e.fetchOptions),u=async(t,n,i)=>{if(s)return Promise.reject();if(null==n&&t.pages.length)return Promise.resolve(t);const r=(()=>{const t={client:e.client,queryKey:e.queryKey,pageParam:n,direction:i?"backward":"forward",meta:e.options.meta};var r;return r=t,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(e.signal.aborted?s=!0:e.signal.addEventListener("abort",()=>{s=!0}),e.signal)}),t})(),a=await c(r),{maxPages:o}=e.options,l=i?se:ee;return{pages:l(t.pages,a,o),pageParams:l(t.pageParams,n,o)}};if(i&&r.length){const t="backward"===i,e={pages:r,pageParams:a},s=(t?Pe:Se)(n,e);o=await u(e,s,t)}else{const e=t??r.length;do{const t=0===l?a[0]??n.initialPageParam:Se(n,o);if(l>0&&null==t)break;o=await u(o,t),l++}while(l<e)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=c}}}function Se(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function Pe(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var je=class{#b;#f;#u;#x;#w;#E;#S;#P;constructor(t={}){this.#b=t.queryCache||new ve,this.#f=t.mutationCache||new xe,this.#u=t.defaultOptions||{},this.#x=new Map,this.#w=new Map,this.#E=0}mount(){this.#E++,1===this.#E&&(this.#S=re.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#b.onFocus())}),this.#P=ae.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#b.onOnline())}))}unmount(){this.#E--,0===this.#E&&(this.#S?.(),this.#S=void 0,this.#P?.(),this.#P=void 0)}isFetching(t){return this.#b.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#f.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#b.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=this.#b.build(this,e),n=s.state.data;return void 0===n?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Ut(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#b.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),i=this.#b.get(n.queryHash),r=i?.state.data,a=function(t,e){return"function"==typeof t?t(e):t}(e,r);if(void 0!==a)return this.#b.build(this,n).setData(a,{...s,manual:!0})}setQueriesData(t,e,s){return me.batch(()=>this.#b.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#b.get(e.queryHash)?.state}removeQueries(t){const e=this.#b;me.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){const s=this.#b;return me.batch(()=>(s.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=me.batch(()=>this.#b.findAll(t).map(t=>t.cancel(s)));return Promise.all(n).then(Bt).catch(Bt)}invalidateQueries(t,e={}){return me.batch(()=>(this.#b.findAll(t).forEach(t=>{t.invalidate()}),"none"===t?.refetchType?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=me.batch(()=>this.#b.findAll(t).filter(t=>!t.isDisabled()&&!t.isStatic()).map(t=>{let e=t.fetch(void 0,s);return s.throwOnError||(e=e.catch(Bt)),"paused"===t.state.fetchStatus?Promise.resolve():e}));return Promise.all(n).then(Bt)}fetchQuery(t){const e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);const s=this.#b.build(this,e);return s.isStaleByTime(Ut(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bt).catch(Bt)}fetchInfiniteQuery(t){return t.behavior=Ee(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bt).catch(Bt)}ensureInfiniteQueryData(t){return t.behavior=Ee(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ae.isOnline()?this.#f.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#b}getMutationCache(){return this.#f}getDefaultOptions(){return this.#u}setDefaultOptions(t){this.#u=t}setQueryDefaults(t,e){this.#x.set(Wt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#x.values()],s={};return e.forEach(e=>{Ht(t,e.queryKey)&&Object.assign(s,e.defaultOptions)}),s}setMutationDefaults(t,e){this.#w.set(Wt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#w.values()],s={};return e.forEach(e=>{Ht(t,e.mutationKey)&&Object.assign(s,e.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#u.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Kt(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ne&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#u.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#b.clear(),this.#f.clear()}},Ce=class extends Ft{constructor(t,e){super(),this.options=e,this.#l=t,this.#j=null,this.#C=oe(),this.options.experimental_prefetchInRender||this.#C.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#l;#T=void 0;#k=void 0;#A=void 0;#I;#R;#C;#j;#M;#D;#N;#O;#V;#F;#L=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#T.addObserver(this),Te(this.#T,this.options)?this.#B():this.updateResult(),this.#z())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ke(this.#T,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ke(this.#T,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#U(),this.#T.removeObserver(this)}setOptions(t){const e=this.options,s=this.#T;if(this.options=this.#l.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof qt(this.options.enabled,this.#T))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#q(),this.#T.setOptions(this.options),e._defaulted&&!Gt(this.options,e)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#T,observer:this});const n=this.hasListeners();n&&Ae(this.#T,s,this.options,e)&&this.#B(),this.updateResult(),!n||this.#T===s&&qt(this.options.enabled,this.#T)===qt(e.enabled,this.#T)&&Ut(this.options.staleTime,this.#T)===Ut(e.staleTime,this.#T)||this.#Q();const i=this.#$();!n||this.#T===s&&qt(this.options.enabled,this.#T)===qt(e.enabled,this.#T)&&i===this.#F||this.#K(i)}getOptimisticResult(t){const e=this.#l.getQueryCache().build(this.#l,t),s=this.createResult(e,t);return function(t,e){if(!Gt(t.getCurrentResult(),e))return!0;return!1}(this,s)&&(this.#A=s,this.#R=this.options,this.#I=this.#T.state),s}getCurrentResult(){return this.#A}trackResult(t,e){return new Proxy(t,{get:(t,s)=>(this.trackProp(s),e?.(s),Reflect.get(t,s))})}trackProp(t){this.#L.add(t)}getCurrentQuery(){return this.#T}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#l.defaultQueryOptions(t),s=this.#l.getQueryCache().build(this.#l,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#B({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#A))}#B(t){this.#q();let e=this.#T.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Bt)),e}#Q(){this.#_();const t=Ut(this.options.staleTime,this.#T);if(Lt||this.#A.isStale||!zt(t))return;const e=_t(this.#A.dataUpdatedAt,t)+1;this.#O=setTimeout(()=>{this.#A.isStale||this.updateResult()},e)}#$(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#T):this.options.refetchInterval)??!1}#K(t){this.#U(),this.#F=t,!Lt&&!1!==qt(this.options.enabled,this.#T)&&zt(this.#F)&&0!==this.#F&&(this.#V=setInterval(()=>{(this.options.refetchIntervalInBackground||re.isFocused())&&this.#B()},this.#F))}#z(){this.#Q(),this.#K(this.#$())}#_(){this.#O&&(clearTimeout(this.#O),this.#O=void 0)}#U(){this.#V&&(clearInterval(this.#V),this.#V=void 0)}createResult(t,e){const s=this.#T,n=this.options,i=this.#A,r=this.#I,a=this.#R,o=t!==s?t.state:this.#k,{state:l}=t;let c,u={...l},d=!1;if(e._optimisticResults){const i=this.hasListeners(),r=!i&&Te(t,e),a=i&&Ae(t,s,e,n);(r||a)&&(u={...u,...ye(l.data,t.options)}),"isRestoring"===e._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:m}=u;c=u.data;let f=!1;if(void 0!==e.placeholderData&&void 0===c&&"pending"===m){let t;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(t=i.data,f=!0):t="function"==typeof e.placeholderData?e.placeholderData(this.#N?.state.data,this.#N):e.placeholderData,void 0!==t&&(m="success",c=te(i?.data,t,e),d=!0)}if(e.select&&void 0!==c&&!f)if(i&&c===r?.data&&e.select===this.#M)c=this.#D;else try{this.#M=e.select,c=e.select(c),c=te(i?.data,c,e),this.#D=c,this.#j=null}catch(E){this.#j=E}this.#j&&(h=this.#j,c=this.#D,p=Date.now(),m="error");const g="fetching"===u.fetchStatus,y="pending"===m,v="error"===m,b=y&&g,x=void 0!==c,w={status:m,fetchStatus:u.fetchStatus,isPending:y,isSuccess:"success"===m,isError:v,isInitialLoading:b,isLoading:b,data:c,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:v&&!x,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:v&&x,isStale:Ie(t,e),refetch:this.refetch,promise:this.#C,isEnabled:!1!==qt(e.enabled,t)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===w.status?t.reject(w.error):void 0!==w.data&&t.resolve(w.data)},n=()=>{const t=this.#C=w.promise=oe();e(t)},i=this.#C;switch(i.status){case"pending":t.queryHash===s.queryHash&&e(i);break;case"fulfilled":"error"!==w.status&&w.data===i.value||n();break;case"rejected":"error"===w.status&&w.error===i.reason||n()}}return w}updateResult(){const t=this.#A,e=this.createResult(this.#T,this.options);if(this.#I=this.#T.state,this.#R=this.options,void 0!==this.#I.data&&(this.#N=this.#T),Gt(e,t))return;this.#A=e;this.#W({listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!this.#L.size)return!0;const n=new Set(s??this.#L);return this.options.throwOnError&&n.add("error"),Object.keys(this.#A).some(e=>{const s=e;return this.#A[s]!==t[s]&&n.has(s)})})()})}#q(){const t=this.#l.getQueryCache().build(this.#l,this.options);if(t===this.#T)return;const e=this.#T;this.#T=t,this.#k=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#z()}#W(t){me.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#A)}),this.#l.getQueryCache().notify({query:this.#T,type:"observerResultsUpdated"})})}};function Te(t,e){return function(t,e){return!1!==qt(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&ke(t,e,e.refetchOnMount)}function ke(t,e,s){if(!1!==qt(e.enabled,t)&&"static"!==Ut(e.staleTime,t)){const n="function"==typeof s?s(t):s;return"always"===n||!1!==n&&Ie(t,e)}return!1}function Ae(t,e,s,n){return(t!==e||!1===qt(n.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&Ie(t,s)}function Ie(t,e){return!1!==qt(e.enabled,t)&&t.isStaleByTime(Ut(e.staleTime,t))}var Re=x.createContext(void 0),Me=({client:e,children:s})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(Re.Provider,{value:e,children:s})),De=x.createContext(!1);De.Provider;var Ne=x.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}()),Oe=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Ve(t,e,s){const n=x.useContext(De),i=x.useContext(Ne),r=(()=>{const t=x.useContext(Re);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t})(),a=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=n?"isRestoring":"optimistic",(t=>{if(t.suspense){const e=t=>"static"===t?t:Math.max(t??1e3,1e3),s=t.staleTime;t.staleTime="function"==typeof s?(...t)=>e(s(...t)):e(s),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3))}})(a),((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))})(a,i),(t=>{x.useEffect(()=>{t.clearReset()},[t])})(i);const o=!r.getQueryCache().get(a.queryHash),[l]=x.useState(()=>new e(r,a)),c=l.getOptimisticResult(a),u=!n&&!1!==t.subscribed;if(x.useSyncExternalStore(x.useCallback(t=>{const e=u?l.subscribe(me.batchCalls(t)):Bt;return l.updateResult(),e},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(a)},[a,l]),((t,e)=>t?.suspense&&e.isPending)(a,c))throw Oe(a,l,i);if((({result:t,errorResetBoundary:e,throwOnError:s,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&void 0===t.data||function(t,e){return"function"==typeof t?t(...e):!!t}(s,[t.error,n])))({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if(r.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!Lt&&((t,e)=>t.isLoading&&t.isFetching&&!e)(c,n)){const t=o?Oe(a,l,i):r.getQueryCache().get(a.queryHash)?.promise;t?.catch(Bt).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}const Fe=Array(12).fill(0),Le=({visible:t,className:e})=>w.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},w.createElement("div",{className:"sonner-spinner"},Fe.map((t,e)=>w.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${e}`})))),Be=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ze=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_e=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ue=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qe=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},w.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),w.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Qe=1;const $e=new class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:s,...n}=t,i="number"==typeof(null==t?void 0:t.id)||(null==(e=t.id)?void 0:e.length)>0?t.id:Qe++,r=this.toasts.find(t=>t.id===i),a=void 0===t.dismissible||t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),r?this.toasts=this.toasts.map(e=>e.id===i?(this.publish({...e,...t,id:i,title:s}),{...e,...t,id:i,dismissible:a,title:s}):e):this.addToast({title:s,...n,dismissible:a,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(e=>e({id:t.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;void 0!==e.loading&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:"function"!=typeof e.description?e.description:void 0}));const n=Promise.resolve(t instanceof Function?t():t);let i,r=void 0!==s;const a=n.then(async t=>{i=["resolve",t];if(w.isValidElement(t))r=!1,this.create({id:s,type:"default",message:t});else if(Ke(t)&&!t.ok){r=!1;const n="function"==typeof e.error?await e.error(`HTTP error! status: ${t.status}`):e.error,i="function"==typeof e.description?await e.description(`HTTP error! status: ${t.status}`):e.description,a="object"==typeof n&&!w.isValidElement(n)?n:{message:n};this.create({id:s,type:"error",description:i,...a})}else if(t instanceof Error){r=!1;const n="function"==typeof e.error?await e.error(t):e.error,i="function"==typeof e.description?await e.description(t):e.description,a="object"==typeof n&&!w.isValidElement(n)?n:{message:n};this.create({id:s,type:"error",description:i,...a})}else if(void 0!==e.success){r=!1;const n="function"==typeof e.success?await e.success(t):e.success,i="function"==typeof e.description?await e.description(t):e.description,a="object"==typeof n&&!w.isValidElement(n)?n:{message:n};this.create({id:s,type:"success",description:i,...a})}}).catch(async t=>{if(i=["reject",t],void 0!==e.error){r=!1;const n="function"==typeof e.error?await e.error(t):e.error,i="function"==typeof e.description?await e.description(t):e.description,a="object"==typeof n&&!w.isValidElement(n)?n:{message:n};this.create({id:s,type:"error",description:i,...a})}}).finally(()=>{r&&(this.dismiss(s),s=void 0),null==e.finally||e.finally.call(e)}),o=()=>new Promise((t,e)=>a.then(()=>"reject"===i[0]?e(i[1]):t(i[1])).catch(e));return"string"!=typeof s&&"number"!=typeof s?{unwrap:o}:Object.assign(s,{unwrap:o})},this.custom=(t,e)=>{const s=(null==e?void 0:e.id)||Qe++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ke=t=>t&&"object"==typeof t&&"ok"in t&&"boolean"==typeof t.ok&&"status"in t&&"number"==typeof t.status,We=(t,e)=>{const s=(null==e?void 0:e.id)||Qe++;return $e.addToast({title:t,...e,id:s}),s};function He(t){return void 0!==t.label}Object.assign(We,{success:$e.success,info:$e.info,warning:$e.warning,error:$e.error,custom:$e.custom,message:$e.message,promise:$e.promise,dismiss:$e.dismiss,loading:$e.loading},{getHistory:()=>$e.toasts,getToasts:()=>$e.getActiveToasts()}),function(t){if("undefined"==typeof document)return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ye=3,Ge=14;function Xe(...t){return t.filter(Boolean).join(" ")}const Ze=t=>{var e,s,n,i,r,a,o,l,c;const{invert:u,toast:d,unstyled:h,interacting:p,setHeights:m,visibleToasts:f,heights:g,index:y,toasts:v,expanded:b,removeToast:x,defaultRichColors:E,closeButton:S,style:P,cancelButtonStyle:j,actionButtonStyle:C,className:T="",descriptionClassName:k="",duration:A,position:I,gap:R,expandByDefault:M,classNames:D,icons:N,closeButtonAriaLabel:O="Close toast"}=t,[V,F]=w.useState(null),[L,B]=w.useState(null),[z,_]=w.useState(!1),[U,q]=w.useState(!1),[Q,$]=w.useState(!1),[K,W]=w.useState(!1),[H,Y]=w.useState(!1),[G,X]=w.useState(0),[Z,J]=w.useState(0),tt=w.useRef(d.duration||A||4e3),et=w.useRef(null),st=w.useRef(null),nt=0===y,it=y+1<=f,rt=d.type,at=!1!==d.dismissible,ot=d.className||"",lt=d.descriptionClassName||"",ct=w.useMemo(()=>g.findIndex(t=>t.toastId===d.id)||0,[g,d.id]),ut=w.useMemo(()=>{var t;return null!=(t=d.closeButton)?t:S},[d.closeButton,S]),dt=w.useMemo(()=>d.duration||A||4e3,[d.duration,A]),ht=w.useRef(0),pt=w.useRef(0),mt=w.useRef(0),ft=w.useRef(null),[gt,yt]=I.split("-"),vt=w.useMemo(()=>g.reduce((t,e,s)=>s>=ct?t:t+e.height,0),[g,ct]),bt=(()=>{const[t,e]=w.useState(document.hidden);return w.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),t})(),xt=d.invert||u,wt="loading"===rt;pt.current=w.useMemo(()=>ct*R+vt,[ct,vt]),w.useEffect(()=>{tt.current=dt},[dt]),w.useEffect(()=>{_(!0)},[]),w.useEffect(()=>{const t=st.current;if(t){const e=t.getBoundingClientRect().height;return J(e),m(t=>[{toastId:d.id,height:e,position:d.position},...t]),()=>m(t=>t.filter(t=>t.toastId!==d.id))}},[m,d.id]),w.useLayoutEffect(()=>{if(!z)return;const t=st.current,e=t.style.height;t.style.height="auto";const s=t.getBoundingClientRect().height;t.style.height=e,J(s),m(t=>t.find(t=>t.toastId===d.id)?t.map(t=>t.toastId===d.id?{...t,height:s}:t):[{toastId:d.id,height:s,position:d.position},...t])},[z,d.title,d.description,m,d.id,d.jsx,d.action,d.cancel]);const Et=w.useCallback(()=>{q(!0),X(pt.current),m(t=>t.filter(t=>t.toastId!==d.id)),setTimeout(()=>{x(d)},200)},[d,x,m,pt]);w.useEffect(()=>{if(d.promise&&"loading"===rt||d.duration===1/0||"loading"===d.type)return;let t;return b||p||bt?(()=>{if(mt.current<ht.current){const t=(new Date).getTime()-ht.current;tt.current=tt.current-t}mt.current=(new Date).getTime()})():tt.current!==1/0&&(ht.current=(new Date).getTime(),t=setTimeout(()=>{null==d.onAutoClose||d.onAutoClose.call(d,d),Et()},tt.current)),()=>clearTimeout(t)},[b,p,d,rt,bt,Et]),w.useEffect(()=>{d.delete&&(Et(),null==d.onDismiss||d.onDismiss.call(d,d))},[Et,d.delete]);const St=d.icon||(null==N?void 0:N[rt])||(t=>{switch(t){case"success":return Be;case"info":return _e;case"warning":return ze;case"error":return Ue;default:return null}})(rt);var Pt,jt;return w.createElement("li",{tabIndex:0,ref:st,className:Xe(T,ot,null==D?void 0:D.toast,null==d||null==(e=d.classNames)?void 0:e.toast,null==D?void 0:D.default,null==D?void 0:D[rt],null==d||null==(s=d.classNames)?void 0:s[rt]),"data-sonner-toast":"","data-rich-colors":null!=(Pt=d.richColors)?Pt:E,"data-styled":!Boolean(d.jsx||d.unstyled||h),"data-mounted":z,"data-promise":Boolean(d.promise),"data-swiped":H,"data-removed":U,"data-visible":it,"data-y-position":gt,"data-x-position":yt,"data-index":y,"data-front":nt,"data-swiping":Q,"data-dismissible":at,"data-type":rt,"data-invert":xt,"data-swipe-out":K,"data-swipe-direction":L,"data-expanded":Boolean(b||M&&z),style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${U?G:pt.current}px`,"--initial-height":M?"auto":`${Z}px`,...P,...d.style},onDragEnd:()=>{$(!1),F(null),ft.current=null},onPointerDown:t=>{2!==t.button&&!wt&&at&&(et.current=new Date,X(pt.current),t.target.setPointerCapture(t.pointerId),"BUTTON"!==t.target.tagName&&($(!0),ft.current={x:t.clientX,y:t.clientY}))},onPointerUp:()=>{var t,e,s;if(K||!at)return;ft.current=null;const n=Number((null==(t=st.current)?void 0:t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(e=st.current)?void 0:e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=(new Date).getTime()-(null==(s=et.current)?void 0:s.getTime()),a="x"===V?n:i,o=Math.abs(a)/r;if(Math.abs(a)>=45||o>.11)return X(pt.current),null==d.onDismiss||d.onDismiss.call(d,d),B("x"===V?n>0?"right":"left":i>0?"down":"up"),Et(),void W(!0);var l,c;null==(l=st.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=st.current)||c.style.setProperty("--swipe-amount-y","0px"),Y(!1),$(!1),F(null)},onPointerMove:e=>{var s,n,i;if(!ft.current||!at)return;if((null==(s=window.getSelection())?void 0:s.toString().length)>0)return;const r=e.clientY-ft.current.y,a=e.clientX-ft.current.x;var o;const l=null!=(o=t.swipeDirections)?o:function(t){const[e,s]=t.split("-"),n=[];return e&&n.push(e),s&&n.push(s),n}(I);!V&&(Math.abs(a)>1||Math.abs(r)>1)&&F(Math.abs(a)>Math.abs(r)?"x":"y");let c={x:0,y:0};const u=t=>1/(1.5+Math.abs(t)/20);if("y"===V){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&r<0||l.includes("bottom")&&r>0)c.y=r;else{const t=r*u(r);c.y=Math.abs(t)<Math.abs(r)?t:r}}else if("x"===V&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&a<0||l.includes("right")&&a>0)c.x=a;else{const t=a*u(a);c.x=Math.abs(t)<Math.abs(a)?t:a}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Y(!0),null==(n=st.current)||n.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(i=st.current)||i.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ut&&!d.jsx&&"loading"!==rt?w.createElement("button",{"aria-label":O,"data-disabled":wt,"data-close-button":!0,onClick:wt||!at?()=>{}:()=>{Et(),null==d.onDismiss||d.onDismiss.call(d,d)},className:Xe(null==D?void 0:D.closeButton,null==d||null==(n=d.classNames)?void 0:n.closeButton)},null!=(jt=null==N?void 0:N.close)?jt:qe):null,(rt||d.icon||d.promise)&&null!==d.icon&&(null!==(null==N?void 0:N[rt])||d.icon)?w.createElement("div",{"data-icon":"",className:Xe(null==D?void 0:D.icon,null==d||null==(i=d.classNames)?void 0:i.icon)},d.promise||"loading"===d.type&&!d.icon?d.icon||function(){var t,e;return(null==N?void 0:N.loading)?w.createElement("div",{className:Xe(null==D?void 0:D.loader,null==d||null==(e=d.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===rt},N.loading):w.createElement(Le,{className:Xe(null==D?void 0:D.loader,null==d||null==(t=d.classNames)?void 0:t.loader),visible:"loading"===rt})}():null,"loading"!==d.type?St:null):null,w.createElement("div",{"data-content":"",className:Xe(null==D?void 0:D.content,null==d||null==(r=d.classNames)?void 0:r.content)},w.createElement("div",{"data-title":"",className:Xe(null==D?void 0:D.title,null==d||null==(a=d.classNames)?void 0:a.title)},d.jsx?d.jsx:"function"==typeof d.title?d.title():d.title),d.description?w.createElement("div",{"data-description":"",className:Xe(k,lt,null==D?void 0:D.description,null==d||null==(o=d.classNames)?void 0:o.description)},"function"==typeof d.description?d.description():d.description):null),w.isValidElement(d.cancel)?d.cancel:d.cancel&&He(d.cancel)?w.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||j,onClick:t=>{He(d.cancel)&&at&&(null==d.cancel.onClick||d.cancel.onClick.call(d.cancel,t),Et())},className:Xe(null==D?void 0:D.cancelButton,null==d||null==(l=d.classNames)?void 0:l.cancelButton)},d.cancel.label):null,w.isValidElement(d.action)?d.action:d.action&&He(d.action)?w.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||C,onClick:t=>{He(d.action)&&(null==d.action.onClick||d.action.onClick.call(d.action,t),t.defaultPrevented||Et())},className:Xe(null==D?void 0:D.actionButton,null==d||null==(c=d.classNames)?void 0:c.actionButton)},d.action.label):null)};function Je(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const t=document.documentElement.getAttribute("dir");return"auto"!==t&&t?t:window.getComputedStyle(document.documentElement).direction}function ts(t,e){const s={};return[t,e].forEach((t,e)=>{const n=1===e,i=n?"--mobile-offset":"--offset",r=n?"16px":"24px";function a(t){["top","right","bottom","left"].forEach(e=>{s[`${i}-${e}`]="number"==typeof t?`${t}px`:t})}"number"==typeof t||"string"==typeof t?a(t):"object"==typeof t?["top","right","bottom","left"].forEach(e=>{void 0===t[e]?s[`${i}-${e}`]=r:s[`${i}-${e}`]="number"==typeof t[e]?`${t[e]}px`:t[e]}):a(r)}),s}const es=w.forwardRef(function(t,e){const{invert:s,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:p,visibleToasts:m=Ye,toastOptions:f,dir:g=Je(),gap:y=Ge,icons:v,containerAriaLabel:b="Notifications"}=t,[x,S]=w.useState([]),P=w.useMemo(()=>Array.from(new Set([n].concat(x.filter(t=>t.position).map(t=>t.position)))),[x,n]),[j,C]=w.useState([]),[T,k]=w.useState(!1),[A,I]=w.useState(!1),[R,M]=w.useState("system"!==u?u:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=w.useRef(null),N=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=w.useRef(null),V=w.useRef(!1),F=w.useCallback(t=>{S(e=>{var s;return(null==(s=e.find(e=>e.id===t.id))?void 0:s.delete)||$e.dismiss(t.id),e.filter(({id:e})=>e!==t.id)})},[]);return w.useEffect(()=>$e.subscribe(t=>{t.dismiss?requestAnimationFrame(()=>{S(e=>e.map(e=>e.id===t.id?{...e,delete:!0}:e))}):setTimeout(()=>{E.flushSync(()=>{S(e=>{const s=e.findIndex(e=>e.id===t.id);return-1!==s?[...e.slice(0,s),{...e[s],...t},...e.slice(s+1)]:[t,...e]})})})}),[x]),w.useEffect(()=>{if("system"!==u)return void M(u);if("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),"undefined"==typeof window)return;const t=window.matchMedia("(prefers-color-scheme: dark)");try{t.addEventListener("change",({matches:t})=>{M(t?"dark":"light")})}catch(e){t.addListener(({matches:t})=>{try{M(t?"dark":"light")}catch(e){}})}},[u]),w.useEffect(()=>{x.length<=1&&k(!1)},[x]),w.useEffect(()=>{const t=t=>{var e;var s;i.every(e=>t[e]||t.code===e)&&(k(!0),null==(s=D.current)||s.focus());"Escape"!==t.code||document.activeElement!==D.current&&!(null==(e=D.current)?void 0:e.contains(document.activeElement))||k(!1)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[i]),w.useEffect(()=>{if(D.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,V.current=!1)}},[D.current]),w.createElement("section",{ref:e,"aria-label":`${b} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((e,n)=>{var i;const[u,b]=e.split("-");return x.length?w.createElement("ol",{key:e,dir:"auto"===g?Je():g,tabIndex:-1,ref:D,className:o,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":u,"data-x-position":b,style:{"--front-toast-height":`${(null==(i=j[0])?void 0:i.height)||0}px`,"--width":"356px","--gap":`${y}px`,...p,...ts(l,c)},onBlur:t=>{V.current&&!t.currentTarget.contains(t.relatedTarget)&&(V.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:t=>{t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible||V.current||(V.current=!0,O.current=t.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{A||k(!1)},onDragEnd:()=>k(!1),onPointerDown:t=>{t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible||I(!0)},onPointerUp:()=>I(!1)},x.filter(t=>!t.position&&0===n||t.position===e).map((n,i)=>{var o,l;return w.createElement(Ze,{key:n.id,icons:v,index:i,toast:n,defaultRichColors:d,duration:null!=(o=null==f?void 0:f.duration)?o:h,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:s,visibleToasts:m,closeButton:null!=(l=null==f?void 0:f.closeButton)?l:a,interacting:A,position:e,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,closeButtonAriaLabel:null==f?void 0:f.closeButtonAriaLabel,removeToast:F,toasts:x.filter(t=>t.position==n.position),heights:j.filter(t=>t.position==n.position),setHeights:C,expandByDefault:r,gap:y,expanded:T,swipeDirections:t.swipeDirections})})):null}))}),ss=x.createContext({});function ns(t){const e=x.useRef(null);return null===e.current&&(e.current=t()),e.current}const is="undefined"!=typeof window,rs=is?x.useLayoutEffect:x.useEffect,as=x.createContext(null);function os(t,e){-1===t.indexOf(e)&&t.push(e)}function ls(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const cs=(t,e,s)=>s>e?e:s<t?t:s;const us={},ds=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hs(t){return"object"==typeof t&&null!==t}const ps=t=>/^0[^.\s]+$/u.test(t);function ms(t){let e;return()=>(void 0===e&&(e=t()),e)}const fs=t=>t,gs=(t,e)=>s=>e(t(s)),ys=(...t)=>t.reduce(gs),vs=(t,e,s)=>{const n=e-t;return 0===n?1:(s-t)/n};class bs{constructor(){this.subscriptions=[]}add(t){return os(this.subscriptions,t),()=>ls(this.subscriptions,t)}notify(t,e,s){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](t,e,s);else for(let i=0;i<n;i++){const n=this.subscriptions[i];n&&n(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xs=t=>1e3*t,ws=t=>t/1e3;function Es(t,e){return e?t*(1e3/e):0}const Ss=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t;function Ps(t,e,s,n){if(t===e&&s===n)return fs;const i=e=>function(t,e,s,n,i){let r,a,o=0;do{a=e+(s-e)/2,r=Ss(a,n,i)-t,r>0?s=a:e=a}while(Math.abs(r)>1e-7&&++o<12);return a}(e,0,1,t,s);return t=>0===t||1===t?t:Ss(i(t),e,n)}const js=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Cs=t=>e=>1-t(1-e),Ts=Ps(.33,1.53,.69,.99),ks=Cs(Ts),As=js(ks),Is=t=>(t*=2)<1?.5*ks(t):.5*(2-Math.pow(2,-10*(t-1))),Rs=t=>1-Math.sin(Math.acos(t)),Ms=Cs(Rs),Ds=js(Rs),Ns=Ps(.42,0,1,1),Os=Ps(0,0,.58,1),Vs=Ps(.42,0,.58,1),Fs=t=>Array.isArray(t)&&"number"==typeof t[0],Ls={linear:fs,easeIn:Ns,easeInOut:Vs,easeOut:Os,circIn:Rs,circInOut:Ds,circOut:Ms,backIn:ks,backInOut:As,backOut:Ts,anticipate:Is},Bs=t=>{if(Fs(t)){t.length;const[e,s,n,i]=t;return Ps(e,s,n,i)}return"string"==typeof t?Ls[t]:t},zs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _s(t,e){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>s=!0,a=zs.reduce((t,e)=>(t[e]=function(t){let e=new Set,s=new Set,n=!1,i=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(e){r.has(e)&&(l.schedule(e),t()),e(a)}const l={schedule:(t,i=!1,a=!1)=>{const o=a&&n?e:s;return i&&r.add(t),o.has(t)||o.add(t),t},cancel:t=>{s.delete(t),r.delete(t)},process:t=>{a=t,n?i=!0:(n=!0,[e,s]=[s,e],e.forEach(o),e.clear(),n=!1,i&&(i=!1,l.process(t)))}};return l}(r),t),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:m}=a,f=()=>{const r=us.useManualTiming?i.timestamp:performance.now();s=!1,us.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(r-i.timestamp,40),1)),i.timestamp=r,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,s&&e&&(n=!1,t(f))};return{schedule:zs.reduce((e,r)=>{const o=a[r];return e[r]=(e,r=!1,a=!1)=>(s||(s=!0,n=!0,i.isProcessing||t(f)),o.schedule(e,r,a)),e},{}),cancel:t=>{for(let e=0;e<zs.length;e++)a[zs[e]].cancel(t)},state:i,steps:a}}const{schedule:Us,cancel:qs,state:Qs,steps:$s}=_s("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:fs,!0);let Ks;function Ws(){Ks=void 0}const Hs={now:()=>(void 0===Ks&&Hs.set(Qs.isProcessing||us.useManualTiming?Qs.timestamp:performance.now()),Ks),set:t=>{Ks=t,queueMicrotask(Ws)}},Ys=t=>e=>"string"==typeof e&&e.startsWith(t),Gs=Ys("--"),Xs=Ys("var(--"),Zs=t=>!!Xs(t)&&Js.test(t.split("/*")[0].trim()),Js=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tn={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},en={...tn,transform:t=>cs(0,1,t)},sn={...tn,default:1},nn=t=>Math.round(1e5*t)/1e5,rn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const an=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,on=(t,e)=>s=>Boolean("string"==typeof s&&an.test(s)&&s.startsWith(t)||e&&!function(t){return null==t}(s)&&Object.prototype.hasOwnProperty.call(s,e)),ln=(t,e,s)=>n=>{if("string"!=typeof n)return n;const[i,r,a,o]=n.match(rn);return{[t]:parseFloat(i),[e]:parseFloat(r),[s]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},cn={...tn,transform:t=>Math.round((t=>cs(0,255,t))(t))},un={test:on("rgb","red"),parse:ln("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+cn.transform(t)+", "+cn.transform(e)+", "+cn.transform(s)+", "+nn(en.transform(n))+")"};const dn={test:on("#"),parse:function(t){let e="",s="",n="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:un.transform},hn=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),pn=hn("deg"),mn=hn("%"),fn=hn("px"),gn=hn("vh"),yn=hn("vw"),vn=(()=>({...mn,parse:t=>mn.parse(t)/100,transform:t=>mn.transform(100*t)}))(),bn={test:on("hsl","hue"),parse:ln("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+mn.transform(nn(e))+", "+mn.transform(nn(s))+", "+nn(en.transform(n))+")"},xn={test:t=>un.test(t)||dn.test(t)||bn.test(t),parse:t=>un.test(t)?un.parse(t):bn.test(t)?bn.parse(t):dn.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?un.transform(t):bn.transform(t),getAnimatableNone:t=>{const e=xn.parse(t);return e.alpha=0,xn.transform(e)}},wn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const En="number",Sn="color",Pn=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jn(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},i=[];let r=0;const a=e.replace(Pn,t=>(xn.test(t)?(n.color.push(r),i.push(Sn),s.push(xn.parse(t))):t.startsWith("var(")?(n.var.push(r),i.push("var"),s.push(t)):(n.number.push(r),i.push(En),s.push(parseFloat(t))),++r,"${}")).split("${}");return{values:s,split:a,indexes:n,types:i}}function Cn(t){return jn(t).values}function Tn(t){const{split:e,types:s}=jn(t),n=e.length;return t=>{let i="";for(let r=0;r<n;r++)if(i+=e[r],void 0!==t[r]){const e=s[r];i+=e===En?nn(t[r]):e===Sn?xn.transform(t[r]):t[r]}return i}}const kn=t=>"number"==typeof t?0:xn.test(t)?xn.getAnimatableNone(t):t;const An={test:function(t){return isNaN(t)&&"string"==typeof t&&(t.match(rn)?.length||0)+(t.match(wn)?.length||0)>0},parse:Cn,createTransformer:Tn,getAnimatableNone:function(t){const e=Cn(t);return Tn(t)(e.map(kn))}};function In(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Rn(t,e){return s=>s>0?e:t}const Mn=(t,e,s)=>t+(e-t)*s,Dn=(t,e,s)=>{const n=t*t,i=s*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Nn=[dn,un,bn];function On(t){const e=(s=t,Nn.find(t=>t.test(s)));var s;if(!Boolean(e))return!1;let n=e.parse(t);return e===bn&&(n=function({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,s/=100;let i=0,r=0,a=0;if(e/=100){const n=s<.5?s*(1+e):s+e-s*e,o=2*s-n;i=In(o,n,t+1/3),r=In(o,n,t),a=In(o,n,t-1/3)}else i=r=a=s;return{red:Math.round(255*i),green:Math.round(255*r),blue:Math.round(255*a),alpha:n}}(n)),n}const Vn=(t,e)=>{const s=On(t),n=On(e);if(!s||!n)return Rn(t,e);const i={...s};return t=>(i.red=Dn(s.red,n.red,t),i.green=Dn(s.green,n.green,t),i.blue=Dn(s.blue,n.blue,t),i.alpha=Mn(s.alpha,n.alpha,t),un.transform(i))},Fn=new Set(["none","hidden"]);function Ln(t,e){return s=>Mn(t,e,s)}function Bn(t){return"number"==typeof t?Ln:"string"==typeof t?Zs(t)?Rn:xn.test(t)?Vn:Un:Array.isArray(t)?zn:"object"==typeof t?xn.test(t)?Vn:_n:Rn}function zn(t,e){const s=[...t],n=s.length,i=t.map((t,s)=>Bn(t)(t,e[s]));return t=>{for(let e=0;e<n;e++)s[e]=i[e](t);return s}}function _n(t,e){const s={...t,...e},n={};for(const i in s)void 0!==t[i]&&void 0!==e[i]&&(n[i]=Bn(t[i])(t[i],e[i]));return t=>{for(const e in n)s[e]=n[e](t);return s}}const Un=(t,e)=>{const s=An.createTransformer(e),n=jn(t),i=jn(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Fn.has(t)&&!i.values.length||Fn.has(e)&&!n.values.length?function(t,e){return Fn.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}(t,e):ys(zn(function(t,e){const s=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],a=t.indexes[r][n[r]],o=t.values[a]??0;s[i]=o,n[r]++}return s}(n,i),i.values),s):Rn(t,e)};function qn(t,e,s){if("number"==typeof t&&"number"==typeof e&&"number"==typeof s)return Mn(t,e,s);return Bn(t)(t,e)}const Qn=t=>{const e=({timestamp:e})=>t(e);return{start:(t=!0)=>Us.update(e,t),stop:()=>qs(e),now:()=>Qs.isProcessing?Qs.timestamp:Hs.now()}},$n=(t,e,s=10)=>{let n="";const i=Math.max(Math.round(e/s),2);for(let r=0;r<i;r++)n+=Math.round(1e4*t(r/(i-1)))/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Kn=2e4;function Wn(t){let e=0;let s=t.next(e);for(;!s.done&&e<Kn;)e+=50,s=t.next(e);return e>=Kn?1/0:e}function Hn(t,e,s){const n=Math.max(e-5,0);return Es(s-t(n),e-n)}const Yn=100,Gn=10,Xn=1,Zn=0,Jn=800,ti=.3,ei=.3,si={granular:.01,default:2},ni={granular:.005,default:.5},ii=.01,ri=10,ai=.05,oi=1,li=.001;function ci({duration:t=Jn,bounce:e=ti,velocity:s=Zn,mass:n=Xn}){let i,r,a=1-e;a=cs(ai,oi,a),t=cs(ii,ri,ws(t)),a<1?(i=e=>{const n=e*a,i=n*t,r=n-s,o=di(e,a),l=Math.exp(-i);return li-r/o*l},r=e=>{const n=e*a*t,r=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*t,l=Math.exp(-n),c=di(Math.pow(e,2),a);return(-i(e)+li>0?-1:1)*((r-o)*l)/c}):(i=e=>Math.exp(-e*t)*((e-s)*t+1)-.001,r=e=>Math.exp(-e*t)*(t*t*(s-e)));const o=function(t,e,s){let n=s;for(let i=1;i<ui;i++)n-=t(n)/e(n);return n}(i,r,5/t);if(t=xs(t),isNaN(o))return{stiffness:Yn,damping:Gn,duration:t};{const e=Math.pow(o,2)*n;return{stiffness:e,damping:2*a*Math.sqrt(n*e),duration:t}}}const ui=12;function di(t,e){return t*Math.sqrt(1-e*e)}const hi=["duration","bounce"],pi=["stiffness","damping","mass"];function mi(t,e){return e.some(e=>void 0!==t[e])}function fi(t=ei,e=ti){const s="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=s;const r=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(t){let e={velocity:Zn,stiffness:Yn,damping:Gn,mass:Xn,isResolvedFromDuration:!1,...t};if(!mi(t,pi)&&mi(t,hi))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(1.2*s),i=n*n,r=2*cs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Xn,stiffness:i,damping:r}}else{const s=ci(t);e={...e,...s,mass:Xn},e.isResolvedFromDuration=!0}return e}({...s,velocity:-ws(s.velocity||0)}),m=h||0,f=c/(2*Math.sqrt(l*u)),g=a-r,y=ws(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(n||(n=v?si.granular:si.default),i||(i=v?ni.granular:ni.default),f<1){const t=di(y,f);b=e=>{const s=Math.exp(-f*y*e);return a-s*((m+f*y*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===f)b=t=>a-Math.exp(-y*t)*(g+(m+y*g)*t);else{const t=y*Math.sqrt(f*f-1);b=e=>{const s=Math.exp(-f*y*e),n=Math.min(t*e,300);return a-s*((m+f*y*g)*Math.sinh(n)+t*g*Math.cosh(n))/t}}const x={calculatedDuration:p&&d||null,next:t=>{const e=b(t);if(p)o.done=t>=d;else{let s=0===t?m:0;f<1&&(s=0===t?xs(m):Hn(b,t,e));const r=Math.abs(s)<=n,l=Math.abs(a-e)<=i;o.done=r&&l}return o.value=o.done?a:e,o},toString:()=>{const t=Math.min(Wn(x),Kn),e=$n(e=>x.next(t*e).value,t,30);return t+"ms "+e},toTransition:()=>{}};return x}function gi({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=t=>void 0===o?l:void 0===l||Math.abs(o-t)<Math.abs(l-t)?o:l;let m=s*e;const f=d+m,g=void 0===a?f:a(f);g!==f&&(m=g-d);const y=t=>-m*Math.exp(-t/n),v=t=>g+y(t),b=t=>{const e=y(t),s=v(t);h.done=Math.abs(e)<=c,h.value=h.done?g:s};let x,w;const E=t=>{var e;(e=h.value,void 0!==o&&e<o||void 0!==l&&e>l)&&(x=t,w=fi({keyframes:[h.value,p(h.value)],velocity:Hn(v,t,h.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:t=>{let e=!1;return w||void 0!==x||(e=!0,b(t),E(t)),void 0!==x&&t>=x?w.next(t-x):(!e&&b(t),h)}}}function yi(t,e,{clamp:s=!0,ease:n,mixer:i}={}){const r=t.length;if(e.length,1===r)return()=>e[0];if(2===r&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=function(t,e,s){const n=[],i=s||us.mix||qn,r=t.length-1;for(let a=0;a<r;a++){let s=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]||fs:e;s=ys(t,s)}n.push(s)}return n}(e,n,i),l=o.length,c=s=>{if(a&&s<t[0])return e[0];let n=0;if(l>1)for(;n<t.length-2&&!(s<t[n+1]);n++);const i=vs(t[n],t[n+1],s);return o[n](i)};return s?e=>c(cs(t[0],t[r-1],e)):c}function vi(t){const e=[0];return function(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const i=vs(0,e,n);t.push(Mn(s,1,i))}}(e,t.length-1),e}function bi({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const i=(t=>Array.isArray(t)&&"number"!=typeof t[0])(n)?n.map(Bs):Bs(n),r={done:!1,value:e[0]},a=function(t,e){return t.map(t=>t*e)}(s&&s.length===e.length?s:vi(e),t),o=yi(a,e,{ease:Array.isArray(i)?i:(l=e,c=i,l.map(()=>c||Vs).splice(0,l.length-1))});var l,c;return{calculatedDuration:t,next:e=>(r.value=o(e),r.done=e>=t,r)}}fi.applyToOptions=t=>{const e=function(t,e=100,s){const n=s({...t,keyframes:[0,e]}),i=Math.min(Wn(n),Kn);return{type:"keyframes",ease:t=>n.next(i*t).value/e,duration:ws(i)}}(t,100,fi);return t.ease=e.ease,t.duration=xs(e.duration),t.type="keyframes",t};const xi=t=>null!==t;function wi(t,{repeat:e,repeatType:s="loop"},n,i=1){const r=t.filter(xi),a=i<0||e&&"loop"!==s&&e%2==1?0:r.length-1;return a&&void 0!==n?n:r[a]}const Ei={decay:gi,inertia:gi,tween:bi,keyframes:bi,spring:fi};function Si(t){"string"==typeof t.type&&(t.type=Ei[t.type])}class Pi{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const ji=t=>t/100;class Ci extends Pi{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Hs.now()&&this.tick(Hs.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),!1===t.autoplay&&this.pause()}initAnimation(){const{options:t}=this;Si(t);const{type:e=bi,repeat:s=0,repeatDelay:n=0,repeatType:i,velocity:r=0}=t;let{keyframes:a}=t;const o=e||bi;o!==bi&&"number"!=typeof a[0]&&(this.mixKeyframes=ys(ji,qn(a[0],a[1])),a=[0,100]);const l=o({...t,keyframes:a});"mirror"===i&&(this.mirroredGenerator=o({...t,keyframes:[...a].reverse(),velocity:-r})),null===l.calculatedDuration&&(l.calculatedDuration=Wn(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+n,this.totalDuration=this.resolvedDuration*(s+1)-n,this.generator=l}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:n,mixKeyframes:i,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return s.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>n;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let v=this.currentTime,b=s;if(u){const t=Math.min(this.currentTime,n)/a;let e=Math.floor(t),s=t%1;!s&&t>=1&&(s=1),1===s&&e--,e=Math.min(e,u+1);Boolean(e%2)&&("reverse"===d?(s=1-s,h&&(s-=h/a)):"mirror"===d&&(b=r)),v=cs(0,1,s)*a}const x=y?{done:!1,value:c[0]}:b.next(v);i&&(x.value=i(x.value));let{done:w}=x;y||null===o||(w=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return E&&p!==gi&&(x.value=wi(c,this.options,f,this.speed)),m&&m(x.value),E&&this.finish(),x}then(t,e){return this.finished.then(t,e)}get duration(){return ws(this.calculatedDuration)}get time(){return ws(this.currentTime)}set time(t){t=xs(t),this.currentTime=t,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Hs.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ws(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Qn,startTime:e}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),this.options.onPlay?.();const s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hs.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}const Ti=t=>180*t/Math.PI,ki=t=>{const e=Ti(Math.atan2(t[1],t[0]));return Ii(e)},Ai={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ki,rotateZ:ki,skewX:t=>Ti(Math.atan(t[1])),skewY:t=>Ti(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ii=t=>((t%=360)<0&&(t+=360),t),Ri=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Mi=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Di={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ri,scaleY:Mi,scale:t=>(Ri(t)+Mi(t))/2,rotateX:t=>Ii(Ti(Math.atan2(t[6],t[5]))),rotateY:t=>Ii(Ti(Math.atan2(-t[2],t[0]))),rotateZ:ki,rotate:ki,skewX:t=>Ti(Math.atan(t[4])),skewY:t=>Ti(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ni(t){return t.includes("scale")?1:0}function Oi(t,e){if(!t||"none"===t)return Ni(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=Di,i=s;else{const e=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Ai,i=e}if(!i)return Ni(e);const r=n[e],a=i[1].split(",").map(Vi);return"function"==typeof r?r(a):a[r]}function Vi(t){return parseFloat(t.trim())}const Fi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Li=(()=>new Set(Fi))(),Bi=t=>t===tn||t===fn,zi=new Set(["x","y","z"]),_i=Fi.filter(t=>!zi.has(t));const Ui={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Oi(e,"x"),y:(t,{transform:e})=>Oi(e,"y")};Ui.translateX=Ui.x,Ui.translateY=Ui.y;const qi=new Set;let Qi=!1,$i=!1,Ki=!1;function Wi(){if($i){const t=Array.from(qi).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),s=new Map;e.forEach(t=>{const e=function(t){const e=[];return _i.forEach(s=>{const n=t.getValue(s);void 0!==n&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}(t);e.length&&(s.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();const e=s.get(t);e&&e.forEach(([e,s])=>{t.getValue(e)?.set(s)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}$i=!1,Qi=!1,qi.forEach(t=>t.complete(Ki)),qi.clear()}function Hi(){qi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($i=!0)})}class Yi{constructor(t,e,s,n,i,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=n,this.element=i,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(qi.add(this),Qi||(Qi=!0,Us.read(Hi),Us.resolveKeyframes(Wi))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:n}=this;if(null===t[0]){const i=n?.get(),r=t[t.length-1];if(void 0!==i)t[0]=i;else if(s&&e){const n=s.readValue(e,r);null!=n&&(t[0]=n)}void 0===t[0]&&(t[0]=r),n&&void 0===i&&n.set(t[0])}!function(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qi.delete(this)}cancel(){"scheduled"===this.state&&(qi.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Gi=ms(()=>void 0!==window.ScrollTimeline),Xi={};function Zi(t,e){const s=ms(t);return()=>Xi[e]??s()}const Ji=Zi(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),tr=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,er={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tr([0,.65,.55,1]),circOut:tr([.55,0,1,.45]),backIn:tr([.31,.01,.66,-.59]),backOut:tr([.33,1.53,.69,.99])};function sr(t,e){return t?"function"==typeof t?Ji()?$n(t,e):"ease-out":Fs(t)?tr(t):Array.isArray(t)?t.map(t=>sr(t,e)||er.easeOut):er[t]:void 0}function nr(t,e,s,{delay:n=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:s};l&&(u.offset=l);const d=sr(o,i);Array.isArray(d)&&(u.easing=d);const h={delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);return t.animate(u,h)}function ir(t){return"function"==typeof t&&"applyToOptions"in t}class rr extends Pi{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:n,pseudoElement:i,allowFlatten:r=!1,finalKeyframe:a,onComplete:o}=t;this.isPseudoElement=Boolean(i),this.allowFlatten=r,this.options=t,t.type;const l=function({type:t,...e}){return ir(t)&&Ji()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}(t);this.animation=nr(e,s,n,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const t=wi(n,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(t):function(t,e,s){(t=>t.startsWith("--"))(e)?t.style.setProperty(e,s):t.style[e]=s}(e,s,t),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;"idle"!==t&&"finished"!==t&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ws(Number(t))}get time(){return ws(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=xs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Gi()?(this.animation.timeline=t,fs):e(this)}}const ar={anticipate:Is,backInOut:As,circInOut:Ds};function or(t){"string"==typeof t.ease&&t.ease in ar&&(t.ease=ar[t.ease])}class lr extends rr{constructor(t){or(t),Si(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:n,element:i,...r}=this.options;if(!e)return;if(void 0!==t)return void e.set(t);const a=new Ci({...r,autoplay:!1}),o=xs(this.finishedTime??this.time);e.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}const cr=(t,e)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!An.test(t)&&"0"!==t||t.startsWith("url(")));function ur(t){t.duration=0,t.type}const dr=new Set(["opacity","clipPath","filter","transform"]),hr=ms(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class pr extends Pi{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:r="loop",keyframes:a,name:o,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hs.now();const d={autoplay:t,delay:e,type:s,repeat:n,repeatDelay:i,repeatType:r,name:o,motionValue:l,element:c,...u},h=c?.KeyframeResolver||Yi;this.keyframeResolver=new h(a,(t,e,s)=>this.onKeyframesResolved(t,e,d,!s),o,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,n){this.keyframeResolver=void 0;const{name:i,type:r,velocity:a,delay:o,isHandoff:l,onUpdate:c}=s;this.resolvedAt=Hs.now(),function(t,e,s,n){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const r=t[t.length-1],a=cr(i,e),o=cr(r,e);return!(!a||!o)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}(t)||("spring"===s||ir(s))&&n)}(t,i,r,a)||(!us.instantAnimations&&o||c?.(wi(t,s,e)),t[0]=t[t.length-1],ur(s),s.repeat=0);const u={startTime:n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},d=!l&&function(t){const{motionValue:e,name:s,repeatDelay:n,repeatType:i,damping:r,type:a}=t,o=e?.owner?.current;if(!(o instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return hr()&&s&&dr.has(s)&&("transform"!==s||!c)&&!l&&!n&&"mirror"!==i&&0!==r&&"inertia"!==a}(u)?new lr({...u,element:u.motionValue.owner.current}):new Ci(u);d.finished.then(()=>this.notifyFinished()).catch(fs),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ki=!0,Hi(),Wi(),Ki=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const mr=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fr(t,e,s=1){const[n,i]=function(t){const e=mr.exec(t);if(!e)return[,];const[,s,n,i]=e;return[`--${s??n}`,i]}(t);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const t=r.trim();return ds(t)?parseFloat(t):t}return Zs(i)?fr(i,e,s+1):i}function gr(t,e){return t?.[e]??t?.default??t}const yr=new Set(["width","height","top","left","right","bottom",...Fi]),vr=[tn,fn,mn,pn,yn,gn,{test:t=>"auto"===t,parse:t=>t}],br=t=>vr.find(nt(t));function xr(t){return"number"==typeof t?0===t:null===t||("none"===t||"0"===t||ps(t))}const wr=new Set(["brightness","contrast","saturate","opacity"]);function Er(t){const[e,s]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[n]=s.match(rn)||[];if(!n)return t;const i=s.replace(n,"");let r=wr.has(e)?1:0;return n!==s&&(r*=100),e+"("+r+i+")"}const Sr=/\b([a-z-]*)\(.*?\)/gu,Pr={...An,getAnimatableNone:t=>{const e=t.match(Sr);return e?e.map(Er).join(" "):t}},jr={...tn,transform:Math.round},Cr={borderWidth:fn,borderTopWidth:fn,borderRightWidth:fn,borderBottomWidth:fn,borderLeftWidth:fn,borderRadius:fn,radius:fn,borderTopLeftRadius:fn,borderTopRightRadius:fn,borderBottomRightRadius:fn,borderBottomLeftRadius:fn,width:fn,maxWidth:fn,height:fn,maxHeight:fn,top:fn,right:fn,bottom:fn,left:fn,padding:fn,paddingTop:fn,paddingRight:fn,paddingBottom:fn,paddingLeft:fn,margin:fn,marginTop:fn,marginRight:fn,marginBottom:fn,marginLeft:fn,backgroundPositionX:fn,backgroundPositionY:fn,...{rotate:pn,rotateX:pn,rotateY:pn,rotateZ:pn,scale:sn,scaleX:sn,scaleY:sn,scaleZ:sn,skew:pn,skewX:pn,skewY:pn,distance:fn,translateX:fn,translateY:fn,translateZ:fn,x:fn,y:fn,z:fn,perspective:fn,transformPerspective:fn,opacity:en,originX:vn,originY:vn,originZ:fn},zIndex:jr,fillOpacity:en,strokeOpacity:en,numOctaves:jr},Tr={...Cr,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:Pr,WebkitFilter:Pr},kr=t=>Tr[t];function Ar(t,e){let s=kr(t);return s!==Pr&&(s=An),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const Ir=new Set(["auto","none","0"]);class Rr extends Yi{constructor(t,e,s,n,i){super(t,e,s,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let s=t[o];if("string"==typeof s&&(s=s.trim(),Zs(s))){const n=fr(s,e.current);void 0!==n&&(t[o]=n),o===t.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!yr.has(s)||2!==t.length)return;const[n,i]=t,r=br(n),a=br(i);if(r!==a)if(Bi(r)&&Bi(a))for(let o=0;o<t.length;o++){const e=t[o];"string"==typeof e&&(t[o]=parseFloat(e))}else Ui[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let n=0;n<t.length;n++)(null===t[n]||xr(t[n]))&&s.push(n);s.length&&function(t,e,s){let n,i=0;for(;i<t.length&&!n;){const e=t[i];"string"==typeof e&&!Ir.has(e)&&jn(e).values.length&&(n=t[i]),i++}if(n&&s)for(const r of e)t[r]=Ar(s,n)}(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ui[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const n=e[e.length-1];void 0!==n&&t.getValue(s,n).jump(n,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const n=t.getValue(e);n&&n.jump(this.measuredOrigin,!1);const i=s.length-1,r=s[i];s[i]=Ui[e](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==r&&void 0===this.finalKeyframe&&(this.finalKeyframe=r),this.removedTransforms?.length&&this.removedTransforms.forEach(([e,s])=>{t.getValue(e).set(s)}),this.resolveNoneKeyframes()}}const Mr=(t,e)=>e&&"number"==typeof t?e.transform(t):t;function Dr(t){return hs(t)&&"offsetHeight"in t}class Nr{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=t=>{const e=Hs.now();if(this.updatedAt!==e&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=Hs.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new bs);const s=this.events[t].add(e);return"change"===t?()=>{s(),Us.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hs.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Es(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Or(t,e){return new Nr(t,e)}const{schedule:Vr}=_s(queueMicrotask,!1),Fr={x:!1,y:!1};function Lr(){return Fr.x||Fr.y}function Br(t,e){const s=function(t,e,s){if(t instanceof EventTarget)return[t];if("string"==typeof t){let e=document;const n=s?.[t]??e.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}(t),n=new AbortController;return[s,{passive:!0,...e,signal:n.signal},()=>n.abort()]}function zr(t){return!("touch"===t.pointerType||Lr())}const _r=(t,e)=>!!e&&(t===e||_r(t,e.parentElement)),Ur=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,qr=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Qr=new WeakSet;function $r(t){return e=>{"Enter"===e.key&&t(e)}}function Kr(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function Wr(t){return Ur(t)&&!Lr()}function Hr(t,e,s={}){const[n,i,r]=Br(t,s),a=t=>{const n=t.currentTarget;if(!Wr(t))return;Qr.add(n);const r=e(n,t),a=(t,e)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Qr.has(n)&&Qr.delete(n),Wr(t)&&"function"==typeof r&&r(t,{success:e})},o=t=>{a(t,n===window||n===document||s.useGlobalTarget||_r(n,t.target))},l=t=>{a(t,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return n.forEach(t=>{var e;(s.useGlobalTarget?window:t).addEventListener("pointerdown",a,i),Dr(t)&&(t.addEventListener("focus",t=>((t,e)=>{const s=t.currentTarget;if(!s)return;const n=$r(()=>{if(Qr.has(s))return;Kr(s,"down");const t=$r(()=>{Kr(s,"up")});s.addEventListener("keyup",t,e),s.addEventListener("blur",()=>Kr(s,"cancel"),e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)})(t,i)),e=t,qr.has(e.tagName)||-1!==e.tabIndex||t.hasAttribute("tabindex")||(t.tabIndex=0))}),r}function Yr(t){return hs(t)&&"ownerSVGElement"in t}const Gr=t=>Boolean(t&&t.getVelocity),Xr=[...vr,xn,An],Zr=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Jr extends x.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=e.offsetParent,s=Dr(t)&&t.offsetWidth||0,n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft,n.right=s-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ta({children:e,isPresent:s,anchorX:n,root:i}){const r=x.useId(),a=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(Zr);return x.useInsertionEffect(()=>{const{width:t,height:e,top:c,left:u,right:d}=o.current;if(s||!a.current||!t||!e)return;const h="left"===n?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=r;const p=document.createElement("style");l&&(p.nonce=l);const m=i??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${e}px !important;\n            ${h}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{m.contains(p)&&m.removeChild(p)}},[s]),t.jsx(Jr,{isPresent:s,childRef:a,sizeRef:o,children:x.cloneElement(e,{ref:a})})}const ea=({children:e,initial:s,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const u=ns(sa),d=x.useId();let h=!0,p=x.useMemo(()=>(h=!1,{id:d,initial:s,isPresent:n,custom:r,onExitComplete:t=>{u.set(t,!0);for(const e of u.values())if(!e)return;i&&i()},register:t=>(u.set(t,!1),()=>u.delete(t))}),[n,u,i]);return a&&h&&(p={...p}),x.useMemo(()=>{u.forEach((t,e)=>u.set(e,!1))},[n]),x.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),"popLayout"===o&&(e=t.jsx(ta,{isPresent:n,anchorX:l,root:c,children:e})),t.jsx(as.Provider,{value:p,children:e})};function sa(){return new Map}function na(t=!0){const e=x.useContext(as);if(null===e)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=e,r=x.useId();x.useEffect(()=>{if(t)return i(r)},[t]);const a=x.useCallback(()=>t&&n&&n(r),[r,n,t]);return!s&&n?[!1,a]:[!0]}const ia=t=>t.key||"";function ra(t){const e=[];return x.Children.forEach(t,t=>{x.isValidElement(t)&&e.push(t)}),e}const aa=({children:e,custom:s,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=na(o),h=x.useMemo(()=>ra(e),[e]),p=o&&!u?[]:h.map(ia),m=x.useRef(!0),f=x.useRef(h),g=ns(()=>new Map),[y,v]=x.useState(h),[b,w]=x.useState(h);rs(()=>{m.current=!1,f.current=h;for(let t=0;t<b.length;t++){const e=ia(b[t]);p.includes(e)?g.delete(e):!0!==g.get(e)&&g.set(e,!1)}},[b,p.length,p.join("-")]);const E=[];if(h!==y){let t=[...h];for(let e=0;e<b.length;e++){const s=b[e],n=ia(s);p.includes(n)||(t.splice(e,0,s),E.push(s))}return"wait"===a&&E.length&&(t=E),w(ra(t)),v(h),null}const{forceRender:S}=x.useContext(ss);return t.jsx(t.Fragment,{children:b.map(e=>{const y=ia(e),v=!(o&&!u)&&(h===b||p.includes(y));return t.jsx(ea,{isPresent:v,initial:!(m.current&&!n)&&void 0,custom:s,presenceAffectsLayout:r,mode:a,root:c,onExitComplete:v?void 0:()=>{if(!g.has(y))return;g.set(y,!0);let t=!0;g.forEach(e=>{e||(t=!1)}),t&&(S?.(),w(f.current),o&&d?.(),i&&i())},anchorX:l,children:e},y)})})},oa=x.createContext({strict:!1}),la={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ca={};for(const Ih in la)ca[Ih]={isEnabled:t=>la[Ih].some(e=>!!t[e])};const ua=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function da(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ua.has(t)}let ha=t=>!da(t);try{"function"==typeof(pa=require("@emotion/is-prop-valid").default)&&(ha=t=>t.startsWith("on")?!da(t):pa(t))}catch{}var pa;const ma=x.createContext({});function fa(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}function ga(t){return"string"==typeof t||Array.isArray(t)}const ya=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],va=["initial",...ya];function ba(t){return fa(t.animate)||va.some(e=>ga(t[e]))}function xa(t){return Boolean(ba(t)||t.variants)}function wa(t){const{initial:e,animate:s}=function(t,e){if(ba(t)){const{initial:e,animate:s}=t;return{initial:!1===e||ga(e)?e:void 0,animate:ga(s)?s:void 0}}return!1!==t.inherit?e:{}}(t,x.useContext(ma));return x.useMemo(()=>({initial:e,animate:s}),[Ea(e),Ea(s)])}function Ea(t){return Array.isArray(t)?t.join(" "):t}const Sa={};function Pa(t,{layout:e,layoutId:s}){return Li.has(t)||t.startsWith("origin")||(e||void 0!==s)&&(!!Sa[t]||"opacity"===t)}const ja={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ca=Fi.length;function Ta(t,e,s){const{style:n,vars:i,transformOrigin:r}=t;let a=!1,o=!1;for(const l in e){const t=e[l];if(Li.has(l))a=!0;else if(Gs(l))i[l]=t;else{const e=Mr(t,Cr[l]);l.startsWith("origin")?(o=!0,r[l]=e):n[l]=e}}if(e.transform||(a||s?n.transform=function(t,e,s){let n="",i=!0;for(let r=0;r<Ca;r++){const a=Fi[r],o=t[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||s){const t=Mr(o,Cr[a]);l||(i=!1,n+=`${ja[a]||a}(${t}) `),s&&(e[a]=t)}}return n=n.trim(),s?n=s(e,i?"":n):i&&(n="none"),n}(e,t.transform,s):n.transform&&(n.transform="none")),o){const{originX:t="50%",originY:e="50%",originZ:s=0}=r;n.transformOrigin=`${t} ${e} ${s}`}}const ka=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Aa(t,e,s){for(const n in e)Gr(e[n])||Pa(n,s)||(t[n]=e[n])}function Ia(t,e){const s={};return Aa(s,t.style||{},t),Object.assign(s,function({transformTemplate:t},e){return x.useMemo(()=>{const s={style:{},transform:{},transformOrigin:{},vars:{}};return Ta(s,e,t),Object.assign({},s.vars,s.style)},[e])}(t,e)),s}function Ra(t,e){const s={},n=Ia(t,e);return t.drag&&!1!==t.dragListener&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}const Ma={offset:"stroke-dashoffset",array:"stroke-dasharray"},Da={offset:"strokeDashoffset",array:"strokeDasharray"};function Na(t,{attrX:e,attrY:s,attrScale:n,pathLength:i,pathSpacing:r=1,pathOffset:a=0,...o},l,c,u){if(Ta(t,o,c),l)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete d.transformBox),void 0!==e&&(d.x=e),void 0!==s&&(d.y=s),void 0!==n&&(d.scale=n),void 0!==i&&function(t,e,s=1,n=0,i=!0){t.pathLength=1;const r=i?Ma:Da;t[r.offset]=fn.transform(-n);const a=fn.transform(e),o=fn.transform(s);t[r.array]=`${a} ${o}`}(d,i,r,a,!1)}const Oa=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Va=t=>"string"==typeof t&&"svg"===t.toLowerCase();function Fa(t,e,s,n){const i=x.useMemo(()=>{const s={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Na(s,e,Va(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const e={};Aa(e,t.style,t),i.style={...e,...i.style}}return i}const La=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ba(t){return"string"==typeof t&&!t.includes("-")&&!!(La.indexOf(t)>-1||/[A-Z]/u.test(t))}function za(t,e,s,{latestValues:n},i,r=!1){const a=(Ba(t)?Fa:Ra)(e,n,i,t),o=function(t,e,s){const n={};for(const i in t)"values"===i&&"object"==typeof t.values||(ha(i)||!0===s&&da(i)||!e&&!da(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}(e,"string"==typeof t,r),l=t!==x.Fragment?{...o,...a,ref:s}:{},{children:c}=e,u=x.useMemo(()=>Gr(c)?c.get():c,[c]);return x.createElement(t,{...l,children:u})}function _a(t){const e=[{},{}];return t?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function Ua(t,e,s,n){if("function"==typeof e){const[i,r]=_a(n);e=e(void 0!==s?s:t.custom,i,r)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){const[i,r]=_a(n);e=e(void 0!==s?s:t.custom,i,r)}return e}function qa(t){return Gr(t)?t.get():t}function Qa(t,e,s,n){const i={},r=n(t,{});for(const h in r)i[h]=qa(r[h]);let{initial:a,animate:o}=t;const l=ba(t),c=xa(t);e&&c&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===o&&(o=e.animate));let u=!!s&&!1===s.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!=typeof d&&!fa(d)){const e=Array.isArray(d)?d:[d];for(let s=0;s<e.length;s++){const n=Ua(t,e[s]);if(n){const{transitionEnd:t,transition:e,...s}=n;for(const n in s){let t=s[n];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[n]=t)}for(const n in t)i[n]=t[n]}}}return i}const $a=t=>(e,s)=>{const n=x.useContext(ma),i=x.useContext(as),r=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e},s,n,i){return{latestValues:Qa(s,n,i,t),renderState:e()}}(t,e,n,i);return s?r():ns(r)};function Ka(t,e,s){const{style:n}=t,i={};for(const r in n)(Gr(n[r])||e.style&&Gr(e.style[r])||Pa(r,t)||void 0!==s?.getValue(r)?.liveStyle)&&(i[r]=n[r]);return i}const Wa=$a({scrapeMotionValuesFromProps:Ka,createRenderState:ka});function Ha(t,e,s){const n=Ka(t,e,s);for(const i in t)if(Gr(t[i])||Gr(e[i])){n[-1!==Fi.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]}return n}const Ya=$a({scrapeMotionValuesFromProps:Ha,createRenderState:Oa}),Ga=Symbol.for("motionComponentSymbol");function Xa(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function Za(t,e,s){return x.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&("function"==typeof s?s(n):Xa(s)&&(s.current=n))},[e])}const Ja=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),to="data-"+Ja("framerAppearId"),eo=x.createContext({});function so(t,e,s,n,i){const{visualElement:r}=x.useContext(ma),a=x.useContext(oa),o=x.useContext(as),l=x.useContext(Zr).reducedMotion,c=x.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:r,props:s,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current,d=x.useContext(eo);!u||u.projection||!i||"html"!==u.type&&"svg"!==u.type||function(t,e,s,n){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:no(t.parent)),t.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:Boolean(a)||o&&Xa(o),visualElement:t,animationType:"string"==typeof r?r:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}(c.current,s,i,d);const h=x.useRef(!1);x.useInsertionEffect(()=>{u&&h.current&&u.update(s,o)});const p=s[to],m=x.useRef(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return rs(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),m.current=!1))}),u}function no(t){if(t)return!1!==t.options.allowProjection?t.projection:no(t.parent)}function io(e,{forwardMotionProps:s=!1}={},n,i){n&&function(t){for(const e in t)ca[e]={...ca[e],...t[e]}}(n);const r=Ba(e)?Ya:Wa;function a(n,a){let o;const l={...x.useContext(Zr),...n,layoutId:ro(n)},{isStatic:c}=l,u=wa(n),d=r(n,c);if(!c&&is){x.useContext(oa).strict;const t=function(t){const{drag:e,layout:s}=ca;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);o=t.MeasureLayout,u.visualElement=so(e,d,l,i,t.ProjectionNode)}return t.jsxs(ma.Provider,{value:u,children:[o&&u.visualElement?t.jsx(o,{visualElement:u.visualElement,...l}):null,za(e,n,Za(d,u.visualElement,a),d,c,s)]})}a.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(a);return o[Ga]=e,o}function ro({layoutId:t}){const e=x.useContext(ss).id;return e&&void 0!==t?e+"-"+t:t}function ao(t,e){if("undefined"==typeof Proxy)return io;const s=new Map,n=(s,n)=>io(s,n,t,e);return new Proxy((t,e)=>n(t,e),{get:(i,r)=>"create"===r?n:(s.has(r)||s.set(r,io(r,void 0,t,e)),s.get(r))})}function oo({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function lo(t){return void 0===t||1===t}function co({scale:t,scaleX:e,scaleY:s}){return!lo(t)||!lo(e)||!lo(s)}function uo(t){return co(t)||ho(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ho(t){return po(t.x)||po(t.y)}function po(t){return t&&"0%"!==t}function mo(t,e,s){return s+e*(t-s)}function fo(t,e,s,n,i){return void 0!==i&&(t=mo(t,i,n)),mo(t,s,n)+e}function go(t,e=0,s=1,n,i){t.min=fo(t.min,e,s,n,i),t.max=fo(t.max,e,s,n,i)}function yo(t,{x:e,y:s}){go(t.x,e.translate,e.scale,e.originPoint),go(t.y,s.translate,s.scale,s.originPoint)}const vo=.999999999999,bo=1.0000000000001;function xo(t,e){t.min=t.min+e,t.max=t.max+e}function wo(t,e,s,n,i=.5){go(t,e,s,Mn(t.min,t.max,i),n)}function Eo(t,e){wo(t.x,e.x,e.scaleX,e.scale,e.originX),wo(t.y,e.y,e.scaleY,e.scale,e.originY)}function So(t,e){return oo(function(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}(t.getBoundingClientRect(),e))}const Po=()=>({x:{min:0,max:0},y:{min:0,max:0}}),jo={current:null},Co={current:!1};const To=new WeakMap;const ko=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ao{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:i,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=Hs.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,Us.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=e.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=ba(e),this.isVariantNode=xa(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(e,{},this);for(const d in u){const t=u[d];void 0!==o[d]&&Gr(t)&&t.set(o[d])}}mount(t){this.current=t,To.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),Co.current||function(){if(Co.current=!0,is)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jo.current=t.matches;t.addEventListener("change",e),e()}else jo.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||jo.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qs(this.notifyUpdate),qs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Li.has(t);s&&this.onBindTransform&&this.onBindTransform();const n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&Us.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in ca){const e=ca[t];if(!e)continue;const{isEnabled:s,Feature:n}=e;if(!this.features[t]&&n&&s(this.props)&&(this.features[t]=new n(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<ko.length;s++){const e=ko[s];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const n=t["on"+e];n&&(this.propEventSubscriptions[e]=this.on(e,n))}this.prevMotionValues=function(t,e,s){for(const n in e){const i=e[n],r=s[n];if(Gr(i))t.addValue(n,i);else if(Gr(r))t.addValue(n,Or(i,{owner:t}));else if(r!==i)if(t.hasValue(n)){const e=t.getValue(n);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(n);t.addValue(n,Or(void 0!==e?e:i,{owner:t}))}}for(const n in s)void 0===e[n]&&t.removeValue(n);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return void 0===s&&void 0!==e&&(s=Or(null===e?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=void 0===this.latestValues[t]&&this.current?this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var n;return null!=s&&("string"==typeof s&&(ds(s)||ps(s))?s=parseFloat(s):(n=s,!Xr.find(nt(n))&&An.test(e)&&(s=Ar(t,e))),this.setBaseTarget(t,Gr(s)?s.get():s)),Gr(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if("string"==typeof e||"object"==typeof e){const n=Ua(this.props,e,this.presenceContext?.custom);n&&(s=n[t])}if(e&&void 0!==s)return s;const n=this.getBaseTargetFromProps(this.props,t);return void 0===n||Gr(n)?void 0!==this.initialValues[t]&&void 0===s?void 0:this.baseTarget[t]:n}on(t,e){return this.events[t]||(this.events[t]=new bs),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Vr.render(this.render)}}class Io extends Ao{constructor(){super(...arguments),this.KeyframeResolver=Rr}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gr(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Ro(t,{style:e,vars:s},n,i){const r=t.style;let a;for(a in e)r[a]=e[a];for(a in i?.applyProjectionStyles(r,n),s)r.setProperty(a,s[a])}class Mo extends Io{constructor(){super(...arguments),this.type="html",this.renderInstance=Ro}readValueFromInstance(t,e){if(Li.has(e))return this.projection?.isProjecting?Ni(e):((t,e)=>{const{transform:s="none"}=getComputedStyle(t);return Oi(s,e)})(t,e);{const n=(s=t,window.getComputedStyle(s)),i=(Gs(e)?n.getPropertyValue(e):n[e])||0;return"string"==typeof i?i.trim():i}var s}measureInstanceViewportBox(t,{transformPagePoint:e}){return So(t,e)}build(t,e,s){Ta(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Ka(t,e,s)}}const Do=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class No extends Io{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Po}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Li.has(e)){const t=kr(e);return t&&t.default||0}return e=Do.has(e)?e:Ja(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return Ha(t,e,s)}build(t,e,s){Na(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,n){!function(t,e,s,n){Ro(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Do.has(i)?i:Ja(i),e.attrs[i])}(t,e,0,n)}mount(t){this.isSVGTag=Va(t.tagName),super.mount(t)}}const Oo=(t,e)=>Ba(t)?new No(e):new Mo(e,{allowProjection:t!==x.Fragment});function Vo(t,e,s){const n=t.getProps();return Ua(n,e,void 0!==s?s:n.custom,t)}const Fo=t=>Array.isArray(t);function Lo(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Or(s))}function Bo(t){return Fo(t)?t[t.length-1]||0:t}function zo(t,e){const s=t.getValue("willChange");if(n=s,Boolean(Gr(n)&&n.add))return s.add(e);if(!s&&us.WillChange){const s=new us.WillChange("auto");t.addValue("willChange",s),s.add(e)}var n}function _o(t){return t.props[to]}const Uo=t=>null!==t;const qo={type:"spring",stiffness:500,damping:25,restSpeed:10},Qo={type:"keyframes",duration:.8},$o={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ko=(t,{keyframes:e})=>e.length>2?Qo:Li.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:qo:$o;const Wo=(t,e,s,n={},i,r)=>a=>{const o=gr(n,t)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c-=xs(l);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:t=>{e.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:r?void 0:i};(function({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(o)||Object.assign(u,Ko(t,u)),u.duration&&(u.duration=xs(u.duration)),u.repeatDelay&&(u.repeatDelay=xs(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(ur(u),0===u.delay&&(d=!0)),(us.instantAnimations||us.skipAnimations)&&(d=!0,ur(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!r&&void 0!==e.get()){const t=function(t,{repeat:e,repeatType:s="loop"}){const n=t.filter(Uo);return n[e&&"loop"!==s&&e%2==1?0:n.length-1]}(u.keyframes,o);if(void 0!==t)return void Us.update(()=>{u.onUpdate(t),u.onComplete()})}return o.isSync?new Ci(u):new pr(u)};function Ho({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&!0!==e[s];return e[s]=!1,n}function Yo(t,e,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(r=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in o){const e=t.getValue(u,t.latestValues[u]??null),n=o[u];if(void 0===n||c&&Ho(c,u))continue;const i={delay:s,...gr(r||{},u)},a=e.get();if(void 0!==a&&!e.isAnimating&&!Array.isArray(n)&&n===a&&!i.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const e=_o(t);if(e){const t=window.MotionHandoffAnimation(e,u,Us);null!==t&&(i.startTime=t,d=!0)}}zo(t,u),e.start(Wo(u,e,n,t.shouldReduceMotion&&yr.has(u)?{type:!1}:i,t,d));const h=e.animation;h&&l.push(h)}return a&&Promise.all(l).then(()=>{Us.update(()=>{a&&function(t,e){const s=Vo(t,e);let{transitionEnd:n={},transition:i={},...r}=s||{};r={...r,...n};for(const a in r)Lo(t,a,Bo(r[a]))}(t,a)})}),l}function Go(t,e,s={}){const n=Vo(t,e,"exit"===s.type?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const r=n?()=>Promise.all(Yo(t,n,s)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(n=0)=>{const{delayChildren:r=0,staggerChildren:a,staggerDirection:o}=i;return function(t,e,s=0,n=0,i=0,r=1,a){const o=[],l=t.variantChildren.size,c=(l-1)*i,u="function"==typeof n,d=u?t=>n(t,l):1===r?(t=0)=>t*i:(t=0)=>c-t*i;return Array.from(t.variantChildren).sort(Xo).forEach((t,i)=>{t.notify("AnimationStart",e),o.push(Go(t,e,{...a,delay:s+(u?0:n)+d(i)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(o)}(t,e,n,r,a,o,s)}:()=>Promise.resolve(),{when:o}=i;if(o){const[t,e]="beforeChildren"===o?[r,a]:[a,r];return t().then(()=>e())}return Promise.all([r(),a(s.delay)])}function Xo(t,e){return t.sortNodePosition(e)}function Zo(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}const Jo=va.length;function tl(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&tl(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let s=0;s<Jo;s++){const n=va[s],i=t.props[n];(ga(i)||!1===i)&&(e[n]=i)}return e}const el=[...ya].reverse(),sl=ya.length;function nl(t){return e=>Promise.all(e.map(({animation:e,options:s})=>function(t,e,s={}){let n;if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map(e=>Go(t,e,s));n=Promise.all(i)}else if("string"==typeof e)n=Go(t,e,s);else{const i="function"==typeof e?Vo(t,e,s.custom):e;n=Promise.all(Yo(t,i,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}(t,e,s)))}function il(t){let e=nl(t),s=ol(),n=!0;const i=e=>(s,n)=>{const i=Vo(t,n,"exit"===e?t.presenceContext?.custom:void 0);if(i){const{transition:t,transitionEnd:e,...n}=i;s={...s,...n,...e}}return s};function r(r){const{props:a}=t,o=tl(t.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let e=0;e<sl;e++){const h=el[e],p=s[h],m=void 0!==a[h]?a[h]:o[h],f=ga(m),g=h===r?p.isActive:null;!1===g&&(d=e);let y=m===o[h]&&m!==a[h]&&f;if(y&&n&&t.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...u},!p.isActive&&null===g||!m&&!p.prevProp||fa(m)||"boolean"==typeof m)continue;const v=rl(p.prevProp,m);let b=v||h===r&&p.isActive&&!y&&f||e>d&&f,x=!1;const w=Array.isArray(m)?m:[m];let E=w.reduce(i(h),{});!1===g&&(E={});const{prevResolvedValues:S={}}=p,P={...S,...E},j=e=>{b=!0,c.has(e)&&(x=!0,c.delete(e)),p.needsAnimating[e]=!0;const s=t.getValue(e);s&&(s.liveStyle=!1)};for(const t in P){const e=E[t],s=S[t];if(u.hasOwnProperty(t))continue;let n=!1;n=Fo(e)&&Fo(s)?!Zo(e,s):e!==s,n?null!=e?j(t):c.add(t):void 0!==e&&c.has(t)?j(t):p.protectedKeys[t]=!0}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(u={...u,...E}),n&&t.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map(t=>({animation:t,options:{type:h}})))}if(c.size){const e={};if("boolean"!=typeof a.initial){const s=Vo(t,Array.isArray(a.initial)?a.initial[0]:a.initial);s&&s.transition&&(e.transition=s.transition)}c.forEach(s=>{const n=t.getBaseTarget(s),i=t.getValue(s);i&&(i.liveStyle=!0),e[s]=n??null}),l.push({animation:e})}let h=Boolean(l.length);return!n||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(h=!1),n=!1,h?e(l):Promise.resolve()}return{animateChanges:r,setActive:function(e,n){if(s[e].isActive===n)return Promise.resolve();t.variantChildren?.forEach(t=>t.animationState?.setActive(e,n)),s[e].isActive=n;const i=r(e);for(const t in s)s[t].protectedKeys={};return i},setAnimateFunction:function(s){e=s(t)},getState:()=>s,reset:()=>{s=ol(),n=!0}}}function rl(t,e){return"string"==typeof e?e!==t:!!Array.isArray(e)&&!Zo(e,t)}function al(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ol(){return{animate:al(!0),whileInView:al(),whileHover:al(),whileTap:al(),whileDrag:al(),whileFocus:al(),exit:al()}}class ll{constructor(t){this.isMounted=!1,this.node=t}update(){}}let cl=0;const ul={animation:{Feature:class extends ll{constructor(t){super(t),t.animationState||(t.animationState=il(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends ll{constructor(){super(...arguments),this.id=cl++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const n=this.node.animationState.setActive("exit",!t);e&&!t&&n.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}}};function dl(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function hl(t){return{point:{x:t.pageX,y:t.pageY}}}function pl(t,e,s,n){return dl(t,e,(t=>e=>Ur(e)&&t(e,hl(e)))(s),n)}function ml(t){return t.max-t.min}function fl(t,e,s,n=.5){t.origin=n,t.originPoint=Mn(e.min,e.max,t.origin),t.scale=ml(s)/ml(e),t.translate=Mn(s.min,s.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function gl(t,e,s,n){fl(t.x,e.x,s.x,n?n.originX:void 0),fl(t.y,e.y,s.y,n?n.originY:void 0)}function yl(t,e,s){t.min=s.min+e.min,t.max=t.min+ml(e)}function vl(t,e,s){t.min=e.min-s.min,t.max=t.min+ml(e)}function bl(t,e,s){vl(t.x,e.x,s.x),vl(t.y,e.y,s.y)}function xl(t){return[t("x"),t("y")]}const wl=({current:t})=>t?t.ownerDocument.defaultView:null,El=(t,e)=>Math.abs(t-e);class Sl{constructor(t,e,{transformPagePoint:s,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Cl(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,s=function(t,e){const s=El(t.x,e.x),n=El(t.y,e.y);return Math.sqrt(s**2+n**2)}(t.offset,{x:0,y:0})>=this.distanceThreshold;if(!e&&!s)return;const{point:n}=t,{timestamp:i}=Qs;this.history.push({...n,timestamp:i});const{onStart:r,onMove:a}=this.handlers;e||(r&&r(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Pl(e,this.transformPagePoint),Us.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:s,onSessionEnd:n,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const r=Cl("pointercancel"===t.type?this.lastMoveEventInfo:Pl(e,this.transformPagePoint),this.history);this.startEvent&&s&&s(t,r),n&&n(t,r)},!Ur(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=n||window;const a=Pl(hl(t),this.transformPagePoint),{point:o}=a,{timestamp:l}=Qs;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=e;c&&c(t,Cl(a,this.history)),this.removeListeners=ys(pl(this.contextWindow,"pointermove",this.handlePointerMove),pl(this.contextWindow,"pointerup",this.handlePointerUp),pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qs(this.updatePoint)}}function Pl(t,e){return e?{point:e(t.point)}:t}function jl(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cl({point:t},e){return{point:t,delta:jl(t,kl(e)),offset:jl(t,Tl(e)),velocity:Al(e,.1)}}function Tl(t){return t[0]}function kl(t){return t[t.length-1]}function Al(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const i=kl(t);for(;s>=0&&(n=t[s],!(i.timestamp-n.timestamp>xs(e)));)s--;if(!n)return{x:0,y:0};const r=ws(i.timestamp-n.timestamp);if(0===r)return{x:0,y:0};const a={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Il(t,e,s){return{min:void 0!==e?t.min+e:void 0,max:void 0!==s?t.max+s-(t.max-t.min):void 0}}function Rl(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}const Ml=.35;function Dl(t,e,s){return{min:Nl(t,e),max:Nl(t,s)}}function Nl(t,e){return"number"==typeof t?t:t[e]||0}const Ol=new WeakMap;class Vl{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new Sl(t,{onSessionStart:t=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(hl(t).point)},onStart:(t,e)=>{const{drag:s,dragPropagation:n,onDragStart:i}=this.getProps();if(s&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(r=s)||"y"===r?Fr[r]?null:(Fr[r]=!0,()=>{Fr[r]=!1}):Fr.x||Fr.y?null:(Fr.x=Fr.y=!0,()=>{Fr.x=Fr.y=!1}),!this.openDragLock))return;var r;this.latestPointerEvent=t,this.latestPanInfo=e,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xl(t=>{let e=this.getAxisMotionValue(t).get()||0;if(mn.test(e)){const{projection:s}=this.visualElement;if(s&&s.layout){const n=s.layout.layoutBox[t];if(n){e=ml(n)*(parseFloat(e)/100)}}}this.originPoint[t]=e}),i&&Us.postRender(()=>i(t,e)),zo(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e;const{dragPropagation:s,dragDirectionLock:n,onDirectionLock:i,onDrag:r}=this.getProps();if(!s&&!this.openDragLock)return;const{offset:a}=e;if(n&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let s=null;Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x");return s}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),r&&r(t,e)},onSessionEnd:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e,this.stop(t,e),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>xl(t=>"paused"===this.getAnimationState(t)&&this.getAxisMotionValue(t).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:s,contextWindow:wl(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,n=e||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Us.postRender(()=>a(s,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:n}=this.getProps();if(!s||!Fl(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=function(t,{min:e,max:s},n){return void 0!==e&&t<e?t=n?Mn(e,t,n.min):Math.max(t,e):void 0!==s&&t>s&&(t=n?Mn(s,t,n.max):Math.min(t,s)),t}(r,this.constraints[t],this.elastic[t])),i.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&Xa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!s)&&function(t,{top:e,left:s,bottom:n,right:i}){return{x:Il(t.x,s,i),y:Il(t.y,e,n)}}(s.layoutBox,t),this.elastic=function(t=Ml){return!1===t?t=0:!0===t&&(t=Ml),{x:Dl(t,"left","right"),y:Dl(t,"top","bottom")}}(e),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&xl(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const s={};return void 0!==e.min&&(s.min=e.min-t.min),void 0!==e.max&&(s.max=e.max-t.min),s}(s.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Xa(t))return!1;const s=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=function(t,e,s){const n=So(t,s),{scroll:i}=e;return i&&(xo(n.x,i.offset.x),xo(n.y,i.offset.y)),n}(s,n.root,this.visualElement.getTransformPagePoint());let r=function(t,e){return{x:Rl(t.x,e.x),y:Rl(t.y,e.y)}}(n.layout.layoutBox,i);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(r));this.hasMutatedConstraints=!!t,t&&(r=oo(t))}return r}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:n,dragTransition:i,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=xl(a=>{if(!Fl(a,e,this.currentDirection))return;let l=o&&o[a]||{};r&&(l={min:0,max:0});const c=n?200:1e6,u=n?40:1e7,d={type:"inertia",velocity:s?t[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return zo(this.visualElement,t),s.start(Wo(t,s,0,e,this.visualElement,!1))}stopAnimation(){xl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xl(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),n=s[e];return n||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){xl(e=>{const{drag:s}=this.getProps();if(!Fl(e,s,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(e);if(n&&n.layout){const{min:s,max:r}=n.layout.layoutBox[e];i.set(t[e]-Mn(s,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Xa(e)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};xl(t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const s=e.get();n[t]=function(t,e){let s=.5;const n=ml(t),i=ml(e);return i>n?s=vs(e.min,e.max-n,t.min):n>i&&(s=vs(t.min,t.max-i,e.min)),cs(0,1,s)}({min:s,max:s},this.constraints[t])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),xl(e=>{if(!Fl(e,t,null))return;const s=this.getAxisMotionValue(e),{min:i,max:r}=this.constraints[e];s.set(Mn(i,r,n[e]))})}addListeners(){if(!this.visualElement.current)return;Ol.set(this.visualElement,this);const t=pl(this.visualElement.current,"pointerdown",t=>{const{drag:e,dragListener:s=!0}=this.getProps();e&&s&&this.start(t)}),e=()=>{const{dragConstraints:t}=this.getProps();Xa(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,n=s.addEventListener("measure",e);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Us.read(e);const i=dl(window,"resize",()=>this.scalePositionWithinConstraints()),r=s.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(xl(e=>{const s=this.getAxisMotionValue(e);s&&(this.originPoint[e]+=t[e].translate,s.set(s.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),t(),n(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:r=Ml,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:n,dragConstraints:i,dragElastic:r,dragMomentum:a}}}function Fl(t,e,s){return!(!0!==e&&e!==t||null!==s&&s!==t)}const Ll=t=>(e,s)=>{t&&Us.postRender(()=>t(e,s))};const Bl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zl(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _l={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!fn.test(t))return t;t=parseFloat(t)}return`${zl(t,e.target.x)}% ${zl(t,e.target.y)}%`}},Ul={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,i=An.parse(t);if(i.length>5)return n;const r=An.createTransformer(t),a="number"!=typeof i[0]?1:0,o=s.x.scale*e.x,l=s.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Mn(o,l,.5);return"number"==typeof i[2+a]&&(i[2+a]/=c),"number"==typeof i[3+a]&&(i[3+a]/=c),r(i)}};let ql=!1;class Ql extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:n}=this.props,{projection:i}=t;!function(t){for(const e in t)Sa[e]=t[e],Gs(e)&&(Sa[e].isCSSVariable=!0)}(Kl),i&&(e.group&&e.group.add(i),s&&s.register&&n&&s.register(i),ql&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:n,isPresent:i}=this.props,{projection:r}=s;return r?(r.isPresent=i,ql=!0,n||t.layoutDependency!==e||void 0===e||t.isPresent!==i?r.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?r.promote():r.relegate()||Us.postRender(()=>{const t=r.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vr.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $l(e){const[s,n]=na(),i=x.useContext(ss);return t.jsx(Ql,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(eo),isPresent:s,safeToRemove:n})}const Kl={borderRadius:{..._l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_l,borderTopRightRadius:_l,borderBottomLeftRadius:_l,borderBottomRightRadius:_l,boxShadow:Ul};const Wl=(t,e)=>t.depth-e.depth;class Hl{constructor(){this.children=[],this.isDirty=!1}add(t){os(this.children,t),this.isDirty=!0}remove(t){ls(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Wl),this.isDirty=!1,this.children.forEach(t)}}const Yl=["TopLeft","TopRight","BottomLeft","BottomRight"],Gl=Yl.length,Xl=t=>"string"==typeof t?parseFloat(t):t,Zl=t=>"number"==typeof t||fn.test(t);function Jl(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const tc=sc(0,.5,Ms),ec=sc(.5,.95,fs);function sc(t,e,s){return n=>n<t?0:n>e?1:s(vs(t,e,n))}function nc(t,e){t.min=e.min,t.max=e.max}function ic(t,e){nc(t.x,e.x),nc(t.y,e.y)}function rc(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ac(t,e,s,n,i){return t=mo(t-=e,1/s,n),void 0!==i&&(t=mo(t,1/i,n)),t}function oc(t,e,[s,n,i],r,a){!function(t,e=0,s=1,n=.5,i,r=t,a=t){mn.test(e)&&(e=parseFloat(e),e=Mn(a.min,a.max,e/100)-a.min);if("number"!=typeof e)return;let o=Mn(r.min,r.max,n);t===r&&(o-=e),t.min=ac(t.min,e,s,o,i),t.max=ac(t.max,e,s,o,i)}(t,e[s],e[n],e[i],e.scale,r,a)}const lc=["x","scaleX","originX"],cc=["y","scaleY","originY"];function uc(t,e,s,n){oc(t.x,e,lc,s?s.x:void 0,n?n.x:void 0),oc(t.y,e,cc,s?s.y:void 0,n?n.y:void 0)}function dc(t){return 0===t.translate&&1===t.scale}function hc(t){return dc(t.x)&&dc(t.y)}function pc(t,e){return t.min===e.min&&t.max===e.max}function mc(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fc(t,e){return mc(t.x,e.x)&&mc(t.y,e.y)}function gc(t){return ml(t.x)/ml(t.y)}function yc(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vc{constructor(){this.members=[]}add(t){os(this.members,t),t.scheduleRender()}remove(t){if(ls(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex(e=>t===e);if(0===e)return!1;let s;for(let n=e;n>=0;n--){const t=this.members[n];if(!1!==t.isPresent){s=t;break}}return!!s&&(this.promote(s),!0)}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;!1===n&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const bc=["","X","Y","Z"];let xc=0;function wc(t,e,s,n){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Ec(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=_o(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:e,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Us,!(e||n))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Ec(n)}function Sc({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(t={},s=e?.()){this.id=xc++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cc),this.nodes.forEach(Dc),this.nodes.forEach(Nc),this.nodes.forEach(Tc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hl)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new bs),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const s=this.eventHandlers.get(t);s&&s.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e){if(this.instance)return;var s;this.isSVG=Yr(e)&&!(Yr(s=e)&&"svg"===s.tagName),this.instance=e;const{layoutId:n,layout:i,visualElement:r}=this.options;if(r&&!r.current&&r.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||n)&&(this.isLayoutDirty=!0),t){let s,n=0;const i=()=>this.root.updateBlockedByResize=!1;Us.read(()=>{n=window.innerWidth}),t(e,()=>{const t=window.innerWidth;t!==n&&(n=t,this.root.updateBlockedByResize=!0,s&&s(),s=function(t,e){const s=Hs.now(),n=({timestamp:i})=>{const r=i-s;r>=e&&(qs(n),t(r-e))};return Us.setup(n,!0),()=>qs(n)}(i,250),Bl.hasAnimatedSinceResize&&(Bl.hasAnimatedSinceResize=!1,this.nodes.forEach(Mc)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&r&&(n||i)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeLayoutChanged:s,layout:n})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||r.getDefaultTransition()||zc,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=r.getProps(),l=!this.targetLayout||!fc(this.targetLayout,n),c=!e&&s;if(this.options.layoutRoot||this.resumeFrom||c||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e={...gr(i,"layout"),onPlay:a,onComplete:o};(r.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,c)}else e||Mc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oc),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ec(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:s}=this.options;if(void 0===e&&!s)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ac);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Ic);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rc),this.nodes.forEach(Pc),this.nodes.forEach(jc)):this.nodes.forEach(Ic),this.clearAllSnapshots();const t=Hs.now();Qs.delta=cs(0,1e3/60,t-Qs.timestamp),Qs.timestamp=t,Qs.isProcessing=!0,$s.update.process(Qs),$s.preRender.process(Qs),$s.render.process(Qs),Qs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kc),this.sharedNodes.forEach(Vc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Us.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Us.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ml(this.snapshot.measuredBox.x)||ml(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++){this.path[s].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&this.instance){const e=n(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!hc(this.projectionDelta),s=this.getTransformTemplate(),n=s?s(this.latestValues,""):void 0,r=n!==this.prevTransformTemplateValue;t&&this.instance&&(e||uo(this.latestValues)||r)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const e=this.measurePageBox();let s=this.removeElementScroll(e);var n;return t&&(s=this.removeTransform(s)),qc((n=s).x),qc(n.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($c))){const{scroll:t}=this.root;t&&(xo(e.x,t.offset.x),xo(e.y,t.offset.y))}return e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};if(ic(e,t),this.scroll?.wasRoot)return e;for(let s=0;s<this.path.length;s++){const n=this.path[s],{scroll:i,options:r}=n;n!==this.root&&i&&r.layoutScroll&&(i.wasRoot&&ic(e,t),xo(e.x,i.offset.x),xo(e.y,i.offset.y))}return e}applyTransform(t,e=!1){const s={x:{min:0,max:0},y:{min:0,max:0}};ic(s,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&Eo(s,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),uo(t.latestValues)&&Eo(s,t.latestValues)}return uo(this.latestValues)&&Eo(s,this.latestValues),s}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};ic(e,t);for(let s=0;s<this.path.length;s++){const t=this.path[s];if(!t.instance)continue;if(!uo(t.latestValues))continue;co(t.latestValues)&&t.updateSnapshot();const n=Po();ic(n,t.measurePageBox()),uc(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,n)}return uo(this.latestValues)&&uc(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){const e=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=e.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=e.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=e.isSharedProjectionDirty);const s=Boolean(this.resumingFrom)||this!==e;if(!(t||s&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:n,layoutId:i}=this.options;if(this.layout&&(n||i)){if(this.resolvedRelativeTargetAt=Qs.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},bl(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),ic(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var r,a,o;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r=this.target,a=this.relativeTarget,o=this.relativeParent.target,yl(r.x,a.x,o.x),yl(r.y,a.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ic(this.target,this.layout.layoutBox),yo(this.target,this.targetDelta)):ic(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},bl(this.relativeTargetOrigin,this.target,t.target),ic(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!co(this.parent.latestValues)&&!ho(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const t=this.getLead(),e=Boolean(this.resumingFrom)||this!==t;let s=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(s=!1),e&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Qs.timestamp&&(s=!1),s)return;const{layout:n,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!n&&!i)return;ic(this.layoutCorrected,this.layout.layoutBox);const r=this.treeScale.x,a=this.treeScale.y;!function(t,e,s,n=!1){const i=s.length;if(!i)return;let r,a;e.x=e.y=1;for(let o=0;o<i;o++){r=s[o],a=r.projectionDelta;const{visualElement:i}=r.options;i&&i.props.style&&"contents"===i.props.style.display||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Eo(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,yo(t,a)),n&&uo(r.latestValues)&&Eo(t,r.latestValues))}e.x<bo&&e.x>vo&&(e.x=1),e.y<bo&&e.y>vo&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,e),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=t;o?(this.projectionDelta&&this.prevProjectionDelta?(rc(this.prevProjectionDelta.x,this.projectionDelta.x),rc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),gl(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===r&&this.treeScale.y===a&&yc(this.projectionDelta.x,this.prevProjectionDelta.x)&&yc(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.visualElement?.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t,e=!1){const s=this.snapshot,n=s?s.latestValues:{},i={...this.latestValues},r={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Bc));let d;this.animationProgress=0,this.mixTargetDelta=e=>{const s=e/1e3;var l,h,p,m,f,g;Fc(r.x,t.x,s),Fc(r.y,t.y,s),this.setTargetDelta(r),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bl(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=a,g=s,Lc(p.x,m.x,f.x,g),Lc(p.y,m.y,f.y,g),d&&(l=this.relativeTarget,h=d,pc(l.x,h.x)&&pc(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),ic(d,this.relativeTarget)),o&&(this.animationValues=i,function(t,e,s,n,i,r){i?(t.opacity=Mn(0,s.opacity??1,tc(n)),t.opacityExit=Mn(e.opacity??1,0,ec(n))):r&&(t.opacity=Mn(e.opacity??1,s.opacity??1,n));for(let a=0;a<Gl;a++){const i=`border${Yl[a]}Radius`;let r=Jl(e,i),o=Jl(s,i);void 0===r&&void 0===o||(r||(r=0),o||(o=0),0===r||0===o||Zl(r)===Zl(o)?(t[i]=Math.max(Mn(Xl(r),Xl(o),n),0),(mn.test(o)||mn.test(r))&&(t[i]+="%")):t[i]=o)}(e.rotate||s.rotate)&&(t.rotate=Mn(e.rotate||0,s.rotate||0,n))}(i,n,this.latestValues,s,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Us.update(()=>{Bl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Or(0)),this.currentAnimation=function(t,e,s){const n=Gr(t)?t:Or(t);return n.start(Wo("",n,e,s)),n.animation}(this.motionValue,[0,1e3],{...t,velocity:0,isSync:!0,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onStop:()=>{},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:s,layout:n,latestValues:i}=t;if(e&&s&&n){if(this!==t&&this.layout&&n&&Qc(this.options.animationType,this.layout.layoutBox,n.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=ml(this.layout.layoutBox.x);s.x.min=t.target.x.min,s.x.max=s.x.min+e;const n=ml(this.layout.layoutBox.y);s.y.min=t.target.y.min,s.y.max=s.y.min+n}ic(e,s),Eo(e,i),gl(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new vc);this.sharedNodes.get(t).add(e);const s=e.options.initialPromotionConfig;e.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){const{layoutId:t}=this.options;return t&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:t}=this.options;return t?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:s}={}){const n=this.getStack();n&&n.promote(this,s),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:s}=t;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(e=!0),!e)return;const n={};s.z&&wc("z",t,n,this.animationValues);for(let i=0;i<bc.length;i++)wc(`rotate${bc[i]}`,t,n,this.animationValues),wc(`skew${bc[i]}`,t,n,this.animationValues);t.render();for(const i in n)t.setStaticValue(i,n[i]),this.animationValues&&(this.animationValues[i]=n[i]);t.scheduleRender()}applyProjectionStyles(t,e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(t.visibility="hidden");const s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.visibility="",t.opacity="",t.pointerEvents=qa(e?.pointerEvents)||"",void(t.transform=s?s(this.latestValues,""):"none");const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target)return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=qa(e?.pointerEvents)||""),void(this.hasProjected&&!uo(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1));t.visibility="";const i=n.animationValues||n.latestValues;this.applyTransformsToTarget();let r=function(t,e,s){let n="";const i=t.x.translate/e.x,r=t.y.translate/e.y,a=s?.z||0;if((i||r||a)&&(n=`translate3d(${i}px, ${r}px, ${a}px) `),1===e.x&&1===e.y||(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:t,rotate:e,rotateX:i,rotateY:r,skewX:a,skewY:o}=s;t&&(n=`perspective(${t}px) ${n}`),e&&(n+=`rotate(${e}deg) `),i&&(n+=`rotateX(${i}deg) `),r&&(n+=`rotateY(${r}deg) `),a&&(n+=`skewX(${a}deg) `),o&&(n+=`skewY(${o}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return 1===o&&1===l||(n+=`scale(${o}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);s&&(r=s(i,r)),t.transform=r;const{x:a,y:o}=this.projectionDelta;t.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,n.animationValues?t.opacity=n===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=n===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const l in Sa){if(void 0===i[l])continue;const{correct:e,applyTo:s,isCSSVariable:a}=Sa[l],o="none"===r?i[l]:e(i[l],n);if(s){const e=s.length;for(let n=0;n<e;n++)t[s[n]]=o}else a?this.options.visualElement.renderState.vars[l]=o:t[l]=o}this.options.layoutId&&(t.pointerEvents=n===this?qa(e?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>t.currentAnimation?.stop()),this.root.nodes.forEach(Ac),this.root.sharedNodes.clear()}}}function Pc(t){t.updateLayout()}function jc(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=t.layout,{animationType:i}=t.options,r=e.source!==t.layout.source;"size"===i?xl(t=>{const n=r?e.measuredBox[t]:e.layoutBox[t],i=ml(n);n.min=s[t].min,n.max=n.min+i}):Qc(i,e.layoutBox,s)&&xl(n=>{const i=r?e.measuredBox[n]:e.layoutBox[n],a=ml(s[n]);i.max=i.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[n].max=t.relativeTarget[n].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};gl(a,s,e.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};r?gl(o,t.applyTransform(n,!0),e.measuredBox):gl(o,s,e.layoutBox);const l=!hc(a);let c=!1;if(!t.resumeFrom){const n=t.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:i,layout:r}=n;if(i&&r){const a={x:{min:0,max:0},y:{min:0,max:0}};bl(a,e.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};bl(o,s,r.layoutBox),fc(a,o)||(c=!0),n.options.layoutRoot&&(t.relativeTarget=o,t.relativeTargetOrigin=a,t.relativeParent=n)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function Cc(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Tc(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kc(t){t.clearSnapshot()}function Ac(t){t.clearMeasurements()}function Ic(t){t.isLayoutDirty=!1}function Rc(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mc(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Dc(t){t.resolveTargetDelta()}function Nc(t){t.calcProjection()}function Oc(t){t.resetSkewAndRotation()}function Vc(t){t.removeLeadSnapshot()}function Fc(t,e,s){t.translate=Mn(e.translate,0,s),t.scale=Mn(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Lc(t,e,s,n){t.min=Mn(e.min,s.min,n),t.max=Mn(e.max,s.max,n)}function Bc(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const zc={duration:.45,ease:[.4,0,.1,1]},_c=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Uc=_c("applewebkit/")&&!_c("chrome/")?Math.round:fs;function qc(t){t.min=Uc(t.min),t.max=Uc(t.max)}function Qc(t,e,s){return"position"===t||"preserve-aspect"===t&&(n=gc(e),i=gc(s),r=.2,!(Math.abs(n-i)<=r));var n,i,r}function $c(t){return t!==t.root&&t.scroll?.wasRoot}const Kc=Sc({attachResizeListener:(t,e)=>dl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wc={current:void 0},Hc=Sc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wc.current){const t=new Kc({});t.mount(window),t.setOptions({layoutScroll:!0}),Wc.current=t}return Wc.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Yc={pan:{Feature:class extends ll{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(t){this.session=new Sl(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wl(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:Ll(t),onStart:Ll(e),onMove:s,onEnd:(t,e)=>{delete this.session,n&&Us.postRender(()=>n(t,e))}}}mount(){this.removePointerDownListener=pl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ll{constructor(t){super(t),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new Vl(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Hc,MeasureLayout:$l}};function Gc(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover","Start"===s);const i=n["onHover"+s];i&&Us.postRender(()=>i(e,hl(e)))}function Xc(t,e,s){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap","Start"===s);const i=n["onTap"+("End"===s?"":s)];i&&Us.postRender(()=>i(e,hl(e)))}const Zc=new WeakMap,Jc=new WeakMap,tu=t=>{const e=Zc.get(t.target);e&&e(t)},eu=t=>{t.forEach(tu)};function su(t,e,s){const n=function({root:t,...e}){const s=t||document;Jc.has(s)||Jc.set(s,{});const n=Jc.get(s),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(eu,{root:t,...e})),n[i]}(e);return Zc.set(t,s),n.observe(t),()=>{Zc.delete(t),n.unobserve(t)}}const nu={some:0,all:1};const iu=ao({...ul,...{inView:{Feature:class extends ll{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:n="some",once:i}=t,r={root:e?e.current:void 0,rootMargin:s,threshold:"number"==typeof n?n:nu[n]};return su(this.node.current,r,t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:s,onViewportLeave:n}=this.node.getProps(),r=e?s:n;r&&r(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ll{mount(){const{current:t}=this.node;t&&(this.unmount=Hr(t,(t,e)=>(Xc(this.node,e,"Start"),(t,{success:e})=>Xc(this.node,t,e?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ll{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ys(dl(this.node.current,"focus",()=>this.onFocus()),dl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends ll{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e,s={}){const[n,i,r]=Br(t,s),a=t=>{if(!zr(t))return;const{target:s}=t,n=e(s,t);if("function"!=typeof n||!s)return;const r=t=>{zr(t)&&(n(t),s.removeEventListener("pointerleave",r))};s.addEventListener("pointerleave",r,i)};return n.forEach(t=>{t.addEventListener("pointerenter",a,i)}),r}(t,(t,e)=>(Gc(this.node,e,"Start"),t=>Gc(this.node,t,"End"))))}unmount(){}}}},...Yc,...{layout:{ProjectionNode:Hc,MeasureLayout:$l}}},Oo),ru=x.createContext(void 0),au={success:l,error:o,warning:a,info:r,ai:i,camera:n,plant:s,sync:e},ou={success:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:"text-green-500",title:"text-green-800 dark:text-green-200",message:"text-green-700 dark:text-green-300"},error:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:"text-red-500",title:"text-red-800 dark:text-red-200",message:"text-red-700 dark:text-red-300"},warning:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",icon:"text-amber-500",title:"text-amber-800 dark:text-amber-200",message:"text-amber-700 dark:text-amber-300"},info:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-500",title:"text-blue-800 dark:text-blue-200",message:"text-blue-700 dark:text-blue-300"},ai:{bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-200 dark:border-purple-800",icon:"text-purple-500",title:"text-purple-800 dark:text-purple-200",message:"text-purple-700 dark:text-purple-300"},camera:{bg:"bg-indigo-50 dark:bg-indigo-900/20",border:"border-indigo-200 dark:border-indigo-800",icon:"text-indigo-500",title:"text-indigo-800 dark:text-indigo-200",message:"text-indigo-700 dark:text-indigo-300"},plant:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:"text-green-500",title:"text-green-800 dark:text-green-200",message:"text-green-700 dark:text-green-300"},sync:{bg:"bg-gray-50 dark:bg-gray-900/20",border:"border-gray-200 dark:border-gray-800",icon:"text-gray-500",title:"text-gray-800 dark:text-gray-200",message:"text-gray-700 dark:text-gray-300"}},lu=({children:e})=>{const[s,n]=x.useState([]),i=x.useCallback(t=>{const e=Math.random().toString(36).substring(2,9),s={id:e,duration:5e3,...t};return n(t=>[...t,s]),!s.persistent&&s.duration&&s.duration>0&&setTimeout(()=>{r(e)},s.duration),e},[]),r=x.useCallback(t=>{n(e=>e.filter(e=>e.id!==t))},[]),a=x.useCallback(()=>{n([])},[]),o=x.useCallback((t,e,s)=>i({type:"success",title:t,message:e,...s}),[i]),l=x.useCallback((t,e,s)=>i({type:"error",title:t,message:e,duration:8e3,...s}),[i]),c=x.useCallback((t,e,s)=>i({type:"warning",title:t,message:e,duration:6e3,...s}),[i]),u=x.useCallback((t,e,s)=>i({type:"info",title:t,message:e,...s}),[i]),d=x.useCallback((t,e,s)=>i({type:"ai",title:t,message:e,...s}),[i]),h={toasts:s,addToast:i,removeToast:r,clearAll:a,showSuccess:o,showError:l,showWarning:c,showInfo:u,showAI:d};return t.jsxs(ru.Provider,{value:h,children:[e,t.jsx(cu,{})]})},cu=()=>{const e=x.useContext(ru);if(!e)return null;const{toasts:s,removeToast:n}=e;return t.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-2 max-w-sm w-full",children:t.jsx(aa,{children:s.map(e=>t.jsx(uu,{toast:e,onRemove:n},e.id))})})},uu=({toast:e,onRemove:s})=>{const n=e.icon||au[e.type],i=ou[e.type];return t.jsx(iu.div,{initial:{opacity:0,x:300,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.95},transition:{duration:.2,ease:"easeOut"},className:`\n        ${i.bg} ${i.border}\n        border rounded-lg p-4 shadow-lg backdrop-blur-sm\n        max-w-sm w-full\n      `,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`${i.icon} flex-shrink-0 mt-0.5`,children:t.jsx(n,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:`${i.title} text-sm font-medium mb-1`,children:e.title}),e.message&&t.jsx("p",{className:`${i.message} text-sm leading-relaxed`,children:e.message}),e.actions&&e.actions.length>0&&t.jsx("div",{className:"flex gap-2 mt-3",children:e.actions.map((n,r)=>t.jsx("button",{onClick:()=>{n.onClick(),s(e.id)},className:`\n                    text-xs font-medium px-2 py-1 rounded transition-colors\n                    ${"primary"===n.variant?`${i.icon} bg-white/20 hover:bg-white/30`:`${i.message} hover:${i.title}`}\n                  `,children:n.label},r))})]}),t.jsx("button",{onClick:()=>s(e.id),className:`${i.icon} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Cerrar notificaciÃ³n",children:t.jsx(c,{className:"w-4 h-4"})})]})})};const du=new class{listeners=new Set;subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}emit(t){this.listeners.forEach(e=>e(t))}success(t,e,s){this.emit({type:"success",title:t,message:e,duration:s})}error(t,e,s){this.emit({type:"error",title:t,message:e,duration:s})}warning(t,e,s){this.emit({type:"warning",title:t,message:e,duration:s})}info(t,e,s){this.emit({type:"info",title:t,message:e,duration:s})}},hu=x.createContext(void 0),pu=e=>{switch(e){case"success":return t.jsx(l,{size:20,className:"text-green-500"});case"error":return t.jsx(a,{size:20,className:"text-red-500"});case"warning":return t.jsx(u,{size:20,className:"text-yellow-500"});case"info":return t.jsx(r,{size:20,className:"text-blue-500"})}},mu=t=>{switch(t){case"success":return"border-green-200 bg-green-50 dark:bg-green-900/20 dark:border-green-800";case"error":return"border-red-200 bg-red-50 dark:bg-red-900/20 dark:border-red-800";case"warning":return"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20 dark:border-yellow-800";case"info":return"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800"}},fu=({children:e})=>{const[s,n]=x.useState([]),i=x.useCallback(t=>{const e=`toast-${Date.now()}-${Math.random()}`,s={id:e,duration:5e3,...t};n(t=>[...t,s]),0!==s.duration&&setTimeout(()=>{r(e)},s.duration)},[]);x.useEffect(()=>du.subscribe(t=>{i(t)}),[i]);const r=x.useCallback(t=>{n(e=>e.filter(e=>e.id!==t))},[]),a=x.useCallback(()=>{n([])},[]);return t.jsxs(hu.Provider,{value:{toasts:s,addToast:i,removeToast:r,clearToasts:a},children:[e,t.jsx(gu,{})]})},gu=()=>{const{toasts:e,removeToast:s}=(()=>{const t=x.useContext(hu);if(!t)throw new Error("useToast must be used within a ToastProvider");return t})();return t.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.jsx(aa,{children:e.map(e=>t.jsx(iu.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{type:"spring",damping:25,stiffness:300},className:`max-w-sm w-full rounded-lg border p-4 shadow-lg ${mu(e.type)}`,role:"alert","aria-live":"assertive",tabIndex:0,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:pu(e.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.title}),e.message&&t.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:e.message})]}),t.jsx("button",{onClick:()=>s(e.id),className:"flex-shrink-0 ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Cerrar notificaciÃ³n",children:t.jsx(c,{size:16})})]})},e.id))})})},yu={QUERY:{STALE_TIME:{MEDIUM:9e5},GC_TIME:{MEDIUM:18e5},RETRY:{COUNT:1,DELAY:1e3}}};var vu=()=>{const[e,s]=x.useState(!1),[n,i]=x.useState({config:!1,auth:!1,firestore:!1,user:!1});return x.useEffect(()=>{i({config:!0,auth:!0,firestore:!0,user:!1})},[]),e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full max-h-96 overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[t.jsx("h3",{className:"font-semibold",children:"Debug Panel"}),t.jsx("button",{onClick:()=>s(!1),children:t.jsx(c,{size:20})})]}),t.jsx("div",{className:"p-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Network:"}),t.jsx(d,{size:16,className:"text-green-400"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Config:"}),n.config?t.jsx(l,{size:12,className:"text-green-400"}):t.jsx(a,{size:12,className:"text-red-400"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Auth:"}),n.auth?t.jsx(l,{size:12,className:"text-green-400"}):t.jsx(a,{size:12,className:"text-red-400"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Firestore:"}),n.firestore?t.jsx(l,{size:12,className:"text-green-400"}):t.jsx(a,{size:12,className:"text-red-400"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"User:"}),n.user?t.jsx(l,{size:12,className:"text-green-400"}):t.jsx(a,{size:12,className:"text-gray-400"})]})]})})]})}):t.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-4 right-4 bg-blue-600 text-white p-2 rounded-full shadow-lg z-50",children:"Debug"})};const bu=()=>{const[e,s]=x.useState(!1),[n,i]=x.useState(null);if(x.useEffect(()=>{const t=setTimeout(()=>{const t={timestamp:(new Date).toISOString(),url:window.location.href,userAgent:navigator.userAgent,screenSize:`${window.screen.width}x${window.screen.height}`,firebaseEnv:{apiKey:"MISSING",projectId:"MISSING",authDomain:"MISSING"},errors:[]};try{window.__consoleErrors&&(t.errors=window.__consoleErrors)}catch(e){t.errors.push(`Error getting console errors: ${e}`)}i(t),s(!0)},2e3);return()=>clearTimeout(t)},[]),!e||!n)return null;return t.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/95 text-white p-4 overflow-y-auto text-xs",children:t.jsxs("div",{className:"max-w-full",children:[t.jsxs("div",{className:"bg-red-600 text-white p-3 rounded mb-4 text-center",children:[t.jsx("h1",{className:"text-lg font-bold",children:"ðŸ†˜ EMERGENCY DEBUG"}),t.jsx("p",{children:"App appears to be stuck. Here's the debug info:"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[t.jsx("h3",{className:"font-bold text-yellow-400 mb-2",children:"ðŸ“± Device Info"}),t.jsxs("div",{children:["Time: ",n.timestamp]}),t.jsxs("div",{children:["URL: ",n.url]}),t.jsxs("div",{children:["Screen: ",n.screenSize]}),t.jsxs("div",{className:"mt-2 text-[10px] break-all",children:["User Agent: ",n.userAgent]})]}),t.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[t.jsx("h3",{className:"font-bold text-blue-400 mb-2",children:"ðŸ”¥ Firebase Config"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"SET"===n.firebaseEnv.apiKey?"text-green-400":"text-red-400",children:["API Key: ",n.firebaseEnv.apiKey]}),t.jsxs("div",{className:"MISSING"!==n.firebaseEnv.projectId?"text-green-400":"text-red-400",children:["Project ID: ",n.firebaseEnv.projectId]}),t.jsxs("div",{className:"MISSING"!==n.firebaseEnv.authDomain?"text-green-400":"text-red-400",children:["Auth Domain: ",n.firebaseEnv.authDomain]})]})]}),n.errors.length>0&&t.jsxs("div",{className:"bg-red-900 p-3 rounded",children:[t.jsx("h3",{className:"font-bold text-red-400 mb-2",children:"âŒ Errors"}),n.errors.map((e,s)=>t.jsx("div",{className:"mb-1 text-red-200",children:e},s))]}),t.jsxs("div",{className:"bg-yellow-900 p-3 rounded",children:[t.jsx("h3",{className:"font-bold text-yellow-400 mb-2",children:"ðŸ’¡ Next Steps"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-yellow-200",children:[t.jsx("li",{children:"Copy this info using the button below"}),t.jsx("li",{children:"Share it with the developer"}),t.jsx("li",{children:"Try refreshing the page"}),t.jsx("li",{children:"Check your internet connection"})]})]})]}),t.jsxs("div",{className:"mt-6 flex gap-2",children:[t.jsx("button",{onClick:()=>{const t=`\nðŸ†˜ EMERGENCY DEBUG INFO\nTime: ${n.timestamp}\nURL: ${n.url}\nUser Agent: ${n.userAgent}\nScreen: ${n.screenSize}\n\nðŸ”¥ Firebase Config:\n- API Key: ${n.firebaseEnv.apiKey}\n- Project ID: ${n.firebaseEnv.projectId}\n- Auth Domain: ${n.firebaseEnv.authDomain}\n\nâŒ Errors: ${n.errors.length>0?n.errors.join("\n"):"None captured"}\n    `;navigator.clipboard?.writeText(t).then(()=>{alert("ðŸ“‹ Debug info copied to clipboard!")}).catch(()=>{})},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded font-bold",children:"ðŸ“‹ Copy Debug Info"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded font-bold",children:"ðŸ”„ Refresh Page"})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white underline",children:"Close Emergency Panel"})})]})})},xu="Plantitas",wu="1.0.3",Eu="4 de agosto de 2025, 03:16",Su="2025-08-04T03:16:50.399Z",Pu="Felipe Aurelio",ju="https://github.com/felipeaurelio13/plantitas-app";var Cu=({className:e="",showVersion:s=!0,showBuildInfo:n=!1})=>t.jsxs("footer",{className:`text-center py-4 text-sm text-muted-foreground ${e}`,children:[s&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium text-foreground",children:xu}),t.jsx("p",{className:"text-xs opacity-75",children:`${xu} v${wu} (${Eu})`})]}),n&&t.jsxs("div",{className:"mt-2 text-xs opacity-50",children:[t.jsxs("p",{children:["Build: ",Su]}),t.jsxs("p",{children:["Repo: ",ju]})]}),t.jsx("div",{className:"mt-2 text-xs opacity-60",children:t.jsxs("p",{children:["Â© 2024 ",Pu,". Todos los derechos reservados."]})})]});const Tu=()=>t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:[t.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(u,{className:"w-8 h-8 text-yellow-600"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ðŸ”¥ Firebase Configuration Required"}),t.jsx("p",{className:"text-gray-600",children:"Your PlantCare app needs to be connected to Firebase to work properly."})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"âš ï¸ Missing Configuration"}),t.jsx("p",{className:"text-red-700 text-sm",children:"Firebase environment variables are not configured. The app cannot connect to your Firebase project for authentication and data storage."})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center gap-2",children:[t.jsx(h,{className:"w-4 h-4"}),"Quick Setup Guide"]}),t.jsxs("ol",{className:"text-blue-700 text-sm space-y-2",children:[t.jsxs("li",{children:["1. Create a Firebase project at ",t.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"underline inline-flex items-center gap-1",children:["console.firebase.google.com ",t.jsx(p,{className:"w-3 h-3"})]})]}),t.jsx("li",{children:"2. Enable Authentication and Firestore Database"}),t.jsx("li",{children:"3. Get your Firebase config from Project Settings"}),t.jsx("li",{children:"4. Add environment variables to your deployment"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"ðŸ”§ Environment Variables Template"}),t.jsx("div",{className:"bg-gray-800 text-green-400 rounded p-3 text-xs font-mono overflow-x-auto mb-3",children:t.jsx("pre",{children:"# Firebase Configuration\nVITE_FIREBASE_API_KEY=your_api_key_here\nVITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com\nVITE_FIREBASE_PROJECT_ID=your_project_id\nVITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com\nVITE_FIREBASE_MESSAGING_SENDER_ID=123456789\nVITE_FIREBASE_APP_ID=1:123456789:web:abcdef123456\nVITE_OPENAI_API_KEY=your_openai_key_here"})}),t.jsx("button",{onClick:()=>{navigator.clipboard?.writeText("# Firebase Configuration\nVITE_FIREBASE_API_KEY=your_api_key_here\nVITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com\nVITE_FIREBASE_PROJECT_ID=your_project_id\nVITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com\nVITE_FIREBASE_MESSAGING_SENDER_ID=123456789\nVITE_FIREBASE_APP_ID=1:123456789:web:abcdef123456\nVITE_OPENAI_API_KEY=your_openai_key_here").then(()=>{alert("ðŸ“‹ Environment variables template copied to clipboard!")}).catch(()=>{})},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors",children:"ðŸ“‹ Copy Template to Clipboard"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"âœ… For GitHub Pages Deployment"}),t.jsx("p",{className:"text-green-700 text-sm mb-2",children:"Add these variables as GitHub Secrets in your repository:"}),t.jsx("p",{className:"text-green-600 text-sm",children:"Repository Settings â†’ Secrets and Variables â†’ Actions â†’ New repository secret"})]})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsx("p",{className:"text-gray-500 text-sm",children:"ðŸŒ± Once configured, your PlantCare app will be ready to help you manage your plants!"})})]}),t.jsx(Cu,{className:"mt-8",showVersion:!0})]});function ku(t){var e,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=ku(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function Au(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=ku(t))&&(n&&(n+=" "),n+=e);return n}const Iu=t=>{const e=Nu(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:t=>{const s=t.split("-");return""===s[0]&&1!==s.length&&s.shift(),Ru(s,e)||Du(t)},getConflictingClassGroupIds:(t,e)=>{const i=s[t]||[];return e&&n[t]?[...i,...n[t]]:i}}},Ru=(t,e)=>{if(0===t.length)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),i=n?Ru(t.slice(1),n):void 0;if(i)return i;if(0===e.validators.length)return;const r=t.join("-");return e.validators.find(({validator:t})=>t(r))?.classGroupId},Mu=/^\[(.+)\]$/,Du=t=>{if(Mu.test(t)){const e=Mu.exec(t)[1],s=e?.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},Nu=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return Lu(Object.entries(t.classGroups),s).forEach(([t,s])=>{Ou(s,n,t,e)}),n},Ou=(t,e,s,n)=>{t.forEach(t=>{if("string"==typeof t){return void((""===t?e:Vu(e,t)).classGroupId=s)}if("function"==typeof t)return Fu(t)?void Ou(t(n),e,s,n):void e.validators.push({validator:t,classGroupId:s});Object.entries(t).forEach(([t,i])=>{Ou(i,Vu(e,t),s,n)})})},Vu=(t,e)=>{let s=t;return e.split("-").forEach(t=>{s.nextPart.has(t)||s.nextPart.set(t,{nextPart:new Map,validators:[]}),s=s.nextPart.get(t)}),s},Fu=t=>t.isThemeGetter,Lu=(t,e)=>e?t.map(([t,s])=>[t,s.map(t=>"string"==typeof t?e+t:"object"==typeof t?Object.fromEntries(Object.entries(t).map(([t,s])=>[e+t,s])):t)]):t,Bu=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const i=(i,r)=>{s.set(i,r),e++,e>t&&(e=0,n=s,s=new Map)};return{get(t){let e=s.get(t);return void 0!==e?e:void 0!==(e=n.get(t))?(i(t,e),e):void 0},set(t,e){s.has(t)?s.set(t,e):i(t,e)}}},zu=t=>{const{separator:e,experimentalParseClassName:s}=t,n=1===e.length,i=e[0],r=e.length,a=t=>{const s=[];let a,o=0,l=0;for(let d=0;d<t.length;d++){let c=t[d];if(0===o){if(c===i&&(n||t.slice(d,d+r)===e)){s.push(t.slice(l,d)),l=d+r;continue}if("/"===c){a=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===s.length?t:t.substring(l),u=c.startsWith("!");return{modifiers:s,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return s?t=>s({className:t,parseClassName:a}):a},_u=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(t=>{"["===t[0]?(e.push(...s.sort(),t),s=[]):s.push(t)}),e.push(...s.sort()),e},Uu=/\s+/;function qu(){let t,e,s=0,n="";for(;s<arguments.length;)(t=arguments[s++])&&(e=Qu(t))&&(n&&(n+=" "),n+=e);return n}const Qu=t=>{if("string"==typeof t)return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=Qu(t[n]))&&(s&&(s+=" "),s+=e);return s};function $u(t,...e){let s,n,i,r=function(o){const l=e.reduce((t,e)=>e(t),t());return s=(t=>({cache:Bu(t.cacheSize),parseClassName:zu(t),...Iu(t)}))(l),n=s.cache.get,i=s.cache.set,r=a,a(o)};function a(t){const e=n(t);if(e)return e;const r=((t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=e,r=[],a=t.trim().split(Uu);let o="";for(let l=a.length-1;l>=0;l-=1){const t=a[l],{modifiers:e,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=s(t);let h=Boolean(d),p=n(h?u.substring(0,d):u);if(!p){if(!h){o=t+(o.length>0?" "+o:o);continue}if(p=n(u),!p){o=t+(o.length>0?" "+o:o);continue}h=!1}const m=_u(e).join(":"),f=c?m+"!":m,g=f+p;if(r.includes(g))continue;r.push(g);const y=i(p,h);for(let s=0;s<y.length;++s){const t=y[s];r.push(f+t)}o=t+(o.length>0?" "+o:o)}return o})(t,s);return i(t,r),r}return function(){return r(qu.apply(null,arguments))}}const Ku=t=>{const e=e=>e[t]||[];return e.isThemeGetter=!0,e},Wu=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hu=/^\d+\/\d+$/,Yu=new Set(["px","full","screen"]),Gu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ju=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,td=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ed=t=>nd(t)||Yu.has(t)||Hu.test(t),sd=t=>gd(t,"length",yd),nd=t=>Boolean(t)&&!Number.isNaN(Number(t)),id=t=>gd(t,"number",nd),rd=t=>Boolean(t)&&Number.isInteger(Number(t)),ad=t=>t.endsWith("%")&&nd(t.slice(0,-1)),od=t=>Wu.test(t),ld=t=>Gu.test(t),cd=new Set(["length","size","percentage"]),ud=t=>gd(t,cd,vd),dd=t=>gd(t,"position",vd),hd=new Set(["image","url"]),pd=t=>gd(t,hd,xd),md=t=>gd(t,"",bd),fd=()=>!0,gd=(t,e,s)=>{const n=Wu.exec(t);return!!n&&(n[1]?"string"==typeof e?n[1]===e:e.has(n[1]):s(n[2]))},yd=t=>Xu.test(t)&&!Zu.test(t),vd=()=>!1,bd=t=>Ju.test(t),xd=t=>td.test(t),wd=()=>{const t=Ku("colors"),e=Ku("spacing"),s=Ku("blur"),n=Ku("brightness"),i=Ku("borderColor"),r=Ku("borderRadius"),a=Ku("borderSpacing"),o=Ku("borderWidth"),l=Ku("contrast"),c=Ku("grayscale"),u=Ku("hueRotate"),d=Ku("invert"),h=Ku("gap"),p=Ku("gradientColorStops"),m=Ku("gradientColorStopPositions"),f=Ku("inset"),g=Ku("margin"),y=Ku("opacity"),v=Ku("padding"),b=Ku("saturate"),x=Ku("scale"),w=Ku("sepia"),E=Ku("skew"),S=Ku("space"),P=Ku("translate"),j=()=>["auto",od,e],C=()=>[od,e],T=()=>["",ed,sd],k=()=>["auto",nd,od],A=()=>["","0",od],I=()=>[nd,od];return{cacheSize:500,separator:":",theme:{colors:[fd],spacing:[ed,sd],blur:["none","",ld,od],brightness:I(),borderColor:[t],borderRadius:["none","","full",ld,od],borderSpacing:C(),borderWidth:T(),contrast:I(),grayscale:A(),hueRotate:I(),invert:A(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[ad,sd],inset:j(),margin:j(),opacity:I(),padding:C(),saturate:I(),scale:I(),sepia:A(),skew:I(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",od]}],container:["container"],columns:[{columns:[ld]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",od]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rd,od]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",od]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",rd,od]}],"grid-cols":[{"grid-cols":[fd]}],"col-start-end":[{col:["auto",{span:["full",rd,od]},od]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[fd]}],"row-start-end":[{row:["auto",{span:[rd,od]},od]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",od]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",od]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",od,e]}],"min-w":[{"min-w":[od,e,"min","max","fit"]}],"max-w":[{"max-w":[od,e,"none","full","min","max","fit","prose",{screen:[ld]},ld]}],h:[{h:[od,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[od,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[od,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[od,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ld,sd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",id]}],"font-family":[{font:[fd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",od]}],"line-clamp":[{"line-clamp":["none",nd,id]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ed,od]}],"list-image":[{"list-image":["none",od]}],"list-style-type":[{list:["none","disc","decimal",od]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ed,sd]}],"underline-offset":[{"underline-offset":["auto",ed,od]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",od]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",od]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",dd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ud]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pd]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[ed,od]}],"outline-w":[{outline:[ed,sd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ed,sd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ld,md]}],"shadow-color":[{shadow:[fd]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ld,od]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",od]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",od]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",od]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[rd,od]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",od]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",od]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",od]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ed,sd,id]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ed=$u(wd);function Sd(...t){return Ed(Au(t))}const Pd="/auth",jd="/",Cd="/camera",Td="/settings",kd="/garden-chat",Ad=t=>`/plant/${t}`,Id=t=>`/plant/${t}/chat`,Rd={toDashboard:()=>jd,toCamera:()=>Cd,toSettings:()=>Td,toGardenChat:()=>kd,toPlantDetail:t=>Ad(t),toPlantChat:t=>Id(t),toAuth:()=>Pd};var Md=()=>t.jsx("div",{className:"p-4 text-center",children:t.jsx("p",{className:"text-gray-500",children:"FunciÃ³n de agregar planta temporalmente deshabilitada"})});const Dd=[{icon:m,path:jd,label:"Inicio",description:"Tu jardÃ­n personal"},{icon:f,path:kd,label:"Chat IA",description:"Asistente de plantas"},{icon:h,path:Td,label:"Ajustes",description:"ConfiguraciÃ³n"}];var Nd=()=>{const e=S(),s=e.pathname.startsWith("/plant/");return t.jsxs(t.Fragment,{children:[t.jsx("nav",{className:"safe-bottom fixed bottom-0 left-0 right-0 z-50 glass-enhanced border-t border-contrast","data-tour":"bottom-navigation",children:t.jsx("div",{className:"flex justify-around items-center h-20 max-w-lg mx-auto px-2",children:Dd.map(s=>{const n=(i=e.pathname,r=s.path,i===r||(r===jd?"/"===i||i.startsWith("/plant/"):r===kd?i===kd||i.includes("/chat")||i.includes("/garden-chat"):r===Td&&i.startsWith("/settings")));var i,r;return t.jsx(iu.div,{className:"relative flex-1 h-full",whileTap:{scale:.92},whileHover:{scale:1.02},children:t.jsxs(P,{to:s.path,className:Sd("touch-target relative flex flex-col items-center justify-center w-full h-full rounded-2xl transition-all duration-200","focus-contrast",n?"text-primary-700 dark:text-primary-400":"text-neutral-700 dark:text-neutral-300 hover:text-primary-600 dark:hover:text-primary-400"),"aria-label":`${s.label} - ${s.description}`,...n?{"aria-current":"page"}:{},...s.path===kd?{"data-tour":"chat-tab"}:{},children:[t.jsx(aa,{children:n&&t.jsx(iu.div,{layoutId:"nav-background",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:400,damping:30},className:"absolute inset-1 bg-primary-500/10 dark:bg-primary-400/10 rounded-xl"})}),t.jsx(iu.div,{animate:{scale:n?1.1:1,y:n?-2:0},transition:{duration:.2},className:Sd("relative z-10",n?"text-[#2A7F3E]":"text-[#888]"),children:t.jsx(s.icon,{size:24,strokeWidth:n?2.5:2,className:"drop-shadow-sm"})}),t.jsx(iu.span,{animate:{scale:n?1.05:1,fontWeight:n?600:500},transition:{duration:.2},className:"text-xs mt-1 relative z-10",children:s.label}),t.jsx(aa,{children:n&&t.jsx(iu.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{delay:.1},className:"absolute left-1/2 -translate-x-1/2 w-1 h-1 bg-primary-500 dark:bg-primary-400 rounded-full mt-1.5"})})]})},s.path)})})}),!s&&t.jsx("div",{className:"fixed bottom-20 sm:bottom-24 right-4 sm:right-6 z-40","data-tour":"add-plant-fab",children:t.jsx(Md,{})})]})};var Od=()=>{const e=(()=>{const[t,e]=x.useState(navigator.onLine);return x.useEffect(()=>{const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",s),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}},[]),t})();return t.jsxs(aa,{children:[!e&&t.jsx(iu.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-0 left-0 right-0 z-50 safe-area-top",children:t.jsx("div",{className:"bg-red-500 text-white px-4 py-2 text-center text-sm font-medium",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(g,{size:16}),t.jsx("span",{children:"Sin conexiÃ³n - Modo offline"})]})})}),e&&t.jsx(iu.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-0 left-0 right-0 z-50 safe-area-top",onAnimationComplete:()=>{setTimeout(()=>{const t=document.querySelector("[data-online-indicator]");t&&t.remove()},2e3)},children:t.jsx("div",{className:"bg-green-500 text-white px-4 py-2 text-center text-sm font-medium","data-online-indicator":!0,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(d,{size:16}),t.jsx("span",{children:"ConexiÃ³n restaurada"})]})})})]})};const Vd=R()(ut((t,e)=>({isDark:"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches,toggleTheme:()=>{const{isDark:s}=e(),n=!s;t({isDark:n}),Fd(n),"vibrate"in navigator&&navigator.vibrate(50)},setTheme:e=>{t({isDark:e}),Fd(e)}}),{name:"theme-storage",onRehydrateStorage:()=>t=>{t&&Fd(t.isDark)}})),Fd=t=>{if("undefined"==typeof window)return;const e=t?"dark":"light";document.documentElement.setAttribute("data-theme",e),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};var Ld=()=>{const e=S(),{isDark:s}=Vd(),n="/camera"===e.pathname;x.useEffect(()=>{(()=>{const t={"/":"PÃ¡gina de inicio - Tu jardÃ­n personal","/camera":"CÃ¡mara - Agregar nueva planta","/chat":"Chat con IA - Asistente de plantas","/garden-chat":"Chat del jardÃ­n - Consultas generales","/settings":"ConfiguraciÃ³n - Ajustes de la aplicaciÃ³n"},s=t[e.pathname.includes("/plant/")?"/plant":e.pathname]||t[e.pathname]||"PÃ¡gina",n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.setAttribute("class","sr-only"),n.textContent=`Navegando a ${s}`,document.body.appendChild(n),setTimeout(()=>{document.body.removeChild(n)},1e3)})()},[e.pathname]),x.useEffect(()=>{const t=s?"dark":"light";document.documentElement.setAttribute("data-theme",t)},[s]);const i=()=>t.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only fixed top-4 left-4 z-50 bg-primary-600 text-white px-4 py-2 rounded-md font-medium transition-all duration-200 focus:shadow-lg",onFocus:t=>{t.currentTarget.scrollIntoView({behavior:"smooth"})},children:"Saltar al contenido principal"});return t.jsxs("div",{className:"min-h-screen bg-background text-text-primary",children:[t.jsx(i,{}),t.jsx("h1",{className:"sr-only",children:"Plantitas - AplicaciÃ³n de cuidado de plantas"}),t.jsx("main",{id:"main-content",role:"main","aria-label":"Contenido principal",className:"pb-28 min-h-screen focus:outline-none",tabIndex:-1,children:t.jsx(aa,{mode:"wait",children:t.jsx(iu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"easeOut"},className:"w-full h-full",children:t.jsx(j,{})},e.pathname)})}),t.jsx("aside",{role:"complementary","aria-label":"InformaciÃ³n de estado",children:t.jsx(Od,{})}),!n&&t.jsx("nav",{role:"navigation","aria-label":"NavegaciÃ³n inferior",children:t.jsx(Nd,{})}),!n&&t.jsx(Cu,{className:"mt-auto pt-4 pb-20",showVersion:!0,showBuildInfo:!1}),t.jsx("style",{children:"\n        @media (prefers-contrast: high) {\n          :root {\n            --color-background: #000000;\n            --color-surface: #111111;\n            --color-text-primary: #ffffff;\n            --color-text-secondary: #ffffff;\n            --color-border: #ffffff;\n            --color-accent: #00ff00;\n          }\n        }\n\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n          }\n        }\n\n        /* Screen reader only utility */\n        .sr-only {\n          position: absolute;\n          width: 1px;\n          height: 1px;\n          padding: 0;\n          margin: -1px;\n          overflow: hidden;\n          clip: rect(0, 0, 0, 0);\n          white-space: nowrap;\n          border: 0;\n        }\n\n        .sr-only.focus\\:not-sr-only:focus {\n          position: static;\n          width: auto;\n          height: auto;\n          padding: inherit;\n          margin: inherit;\n          overflow: visible;\n          clip: auto;\n          white-space: normal;\n        }\n\n        /* Enhanced focus indicators */\n        *:focus-visible {\n          outline: 3px solid var(--color-accent) !important;\n          outline-offset: 2px !important;\n          border-radius: 4px;\n        }\n\n        /* High contrast focus ring */\n        @media (prefers-contrast: high) {\n          *:focus-visible {\n            outline: 4px solid #00ff00 !important;\n            outline-offset: 3px !important;\n          }\n        }\n      "})]})};class Bd extends x.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){this.setState({error:t,errorInfo:e});navigator.userAgent,navigator.platform,navigator.onLine,window.innerWidth,window.innerHeight,window.location.href,(new Date).toISOString()}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/plantitas-app/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsxs("div",{className:"glass-effect rounded-2xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:t.jsx(u,{size:32,className:"text-red-500"})}),t.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Â¡Oops! Algo saliÃ³ mal"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ha ocurrido un error inesperado. No te preocupes, tus plantas estÃ¡n seguras."}),!1,t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:this.handleReload,className:"w-full px-4 py-3 bg-primary-500 text-white rounded-xl font-medium ios-button flex items-center justify-center space-x-2",children:[t.jsx(y,{size:18}),t.jsx("span",{children:"Recargar PÃ¡gina"})]}),t.jsxs("button",{onClick:this.handleGoHome,className:"w-full px-4 py-3 bg-gray-600 text-white rounded-xl font-medium ios-button flex items-center justify-center space-x-2",children:[t.jsx(m,{size:18}),t.jsx("span",{children:"Ir al Inicio"})]})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-4",children:"Si el problema persiste, intenta limpiar el cachÃ© del navegador."})]})})}):this.props.children}}var zd=Bd;const _d=()=>{const{user:t}=yt();return Ve({queryKey:["plants",t?.id],queryFn:async()=>{if(!t?.id)throw new Error("User not authenticated");try{return await Nt.getUserPlants(t.id)}catch(e){throw e}},enabled:!!t?.id,staleTime:3e5},Ce)};var Ud=({plant:e})=>{const s=C(),n=e.healthScore>=80?"text-green-600":e.healthScore>=60?"text-yellow-600":"text-red-600";return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>s(`/plant/${e.id}`),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-lg",children:e.name}),t.jsxs("span",{className:`text-sm font-medium ${n}`,children:[e.healthScore,"%"]})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-2",children:e.species}),t.jsx("p",{className:"text-gray-500 text-xs",children:e.location}),e.imageCount>0&&t.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[e.imageCount," imagen",1!==e.imageCount?"es":""]})]})};var qd=()=>{const[e,s]=x.useState(""),{data:n=[],isLoading:i,error:r}=_d(),a=x.useMemo(()=>n.map(t=>({id:t.id,name:t.name,nickname:t.nickname,species:t.species,location:t.location,plantEnvironment:t.plantEnvironment,lightRequirements:t.lightRequirements,healthScore:t.healthScore,lastWatered:t.lastWatered,dateAdded:t.dateAdded,profileImageUrl:void 0,imageCount:t.images?.length||0,lastChatMessage:t.chatMessages?.[t.chatMessages?.length-1]?.content,notificationCount:t.notifications?.length||0})),[n]),o=x.useMemo(()=>a.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.species.toLowerCase().includes(e.toLowerCase())).sort((t,e)=>t.healthScore!==e.healthScore?e.healthScore-t.healthScore:new Date(e.dateAdded).getTime()-new Date(t.dateAdded).getTime()),[a,e]);return i?t.jsx("div",{className:"p-4",children:"Cargando plantas..."}):r?t.jsxs("div",{className:"p-4 text-red-500",children:["Error cargando plantas: ",r.message]}):t.jsx("div",{className:"flex flex-col h-full bg-background",children:t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Mi JardÃ­n"}),t.jsx("input",{type:"text",placeholder:"Buscar plantas...",value:e,onChange:t=>s(t.target.value),className:"w-full p-2 border rounded-lg"})]}),0===o.length?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-500",children:"No se encontraron plantas"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((e,s)=>t.jsx(Ud,{plant:e,index:Math.min(s,8)},e.id))})]})})})};const Qd=x.lazy(()=>ot(()=>import("./PlantDetail-B1FmGjbh.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>(ot(()=>import("./Chat-DGhNpxQf.js"),__vite__mapDeps([6,1,2,3])),t))),$d=x.lazy(()=>ot(()=>import("./Camera-DvTpJASt.js"),__vite__mapDeps([7,1,2,3]))),Kd=x.lazy(()=>ot(()=>import("./Chat-DGhNpxQf.js"),__vite__mapDeps([6,1,2,3]))),Wd=x.lazy(()=>ot(()=>import("./GardenChat-BWe0PfT5.js"),__vite__mapDeps([8,1,2,3,4,5]))),Hd=x.lazy(()=>ot(()=>import("./Settings-DGrrQmQa.js"),__vite__mapDeps([9,1,2,3,4,5]))),Yd=x.lazy(()=>ot(()=>import("./Auth-CwhyMbJC.js"),__vite__mapDeps([10,1,2,3,4,5]))),Gd=()=>t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>t.jsx("div",{className:"h-48 bg-gray-200 rounded animate-pulse"},e))})]}),Xd=({message:e,progress:n})=>t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground",children:[t.jsx(s,{className:"w-12 h-12 text-green-500 animate-bounce mb-4"}),t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(v,{className:"w-4 h-4 animate-spin"}),t.jsx("p",{className:"text-lg text-muted-foreground",children:e})]}),void 0!==n&&t.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})})]});var Zd=()=>{const{user:e,isInitialized:s,initialize:n}=yt(),{loadPlants:i}=Vt(),[r,a]=x.useState("starting"),[o,l]=x.useState(0),[c,u]=x.useState(!1),d=x.useMemo(()=>new je({defaultOptions:{queries:{staleTime:yu.QUERY.STALE_TIME.MEDIUM,gcTime:yu.QUERY.GC_TIME.MEDIUM,refetchOnWindowFocus:!1,refetchOnReconnect:"always",retry:(t,e)=>!e?.message?.includes("auth")&&!e?.message?.includes("permission")&&t<yu.QUERY.RETRY.COUNT,retryDelay:t=>Math.min(yu.QUERY.RETRY.DELAY*2**t,3e4)},mutations:{retry:yu.QUERY.RETRY.COUNT,retryDelay:yu.QUERY.RETRY.DELAY}}}),[]),h=x.useMemo(()=>!1,[]);if(x.useEffect(()=>{},[]),x.useEffect(()=>{let t=!0;return(async()=>{try{a("firebase"),l(20);const o=(()=>{const t=()=>{const t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`),"undefined"!=typeof CSS&&CSS.supports&&CSS.supports("padding","env(safe-area-inset-top)")?(document.documentElement.style.setProperty("--safe-area-top","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--safe-area-bottom","env(safe-area-inset-bottom)"),document.documentElement.style.setProperty("--safe-area-left","env(safe-area-inset-left)"),document.documentElement.style.setProperty("--safe-area-right","env(safe-area-inset-right)")):(document.documentElement.style.setProperty("--safe-area-top","0px"),document.documentElement.style.setProperty("--safe-area-bottom","0px"),document.documentElement.style.setProperty("--safe-area-left","0px"),document.documentElement.style.setProperty("--safe-area-right","0px"))};return t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",()=>{setTimeout(t,100)}),"visualViewport"in window&&window.visualViewport?.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t),"visualViewport"in window&&window.visualViewport?.removeEventListener("resize",t)}})();0;let c=!1,u=0;for(;!c&&u<10&&t;)c=ft(),c||(await new Promise(t=>setTimeout(t,500)),u++);if(!t)return;a("auth"),l(50),n();let d=!1;for(u=0;!d&&u<20&&t;)d=s,d||(await new Promise(t=>setTimeout(t,250)),u++);if(!t)return;if(e?.id){a("data"),l(80);try{await Promise.allSettled([i(e.id)])}catch(r){}}return a("complete"),l(100),()=>{o()}}catch(r){r instanceof Error||new Error(String(r)),u(!0)}})(),()=>{t=!1}},[n,s,e?.id,i]),x.useEffect(()=>{const t=setTimeout(()=>{"complete"!==r&&u(!0)},8e3);return()=>clearTimeout(t)},[r]),!h)return t.jsxs(t.Fragment,{children:[t.jsx(vu,{}),t.jsx(bu,{}),t.jsx(Tu,{})]});if("complete"!==r&&!c){const e=()=>{switch(r){case"starting":return"Iniciando aplicaciÃ³n...";case"firebase":return"Conectando con Firebase...";case"auth":return"Verificando autenticaciÃ³n...";case"data":return"Cargando tus plantas...";default:return"Finalizando carga..."}};return t.jsx(Xd,{message:e(),progress:o})}const p=()=>t.jsx(k,{children:t.jsxs(A,{path:"/",element:t.jsx(Ld,{}),children:[t.jsx(A,{index:!0,element:t.jsx(x.Suspense,{fallback:t.jsx(Gd,{}),children:t.jsx(qd,{})})}),t.jsx(A,{path:"camera",element:t.jsx(x.Suspense,{fallback:t.jsx(Xd,{message:"Preparando cÃ¡mara..."}),children:t.jsx($d,{})})}),t.jsx(A,{path:"settings",element:t.jsx(x.Suspense,{fallback:t.jsx(Xd,{message:"Cargando configuraciÃ³n..."}),children:t.jsx(Hd,{})})}),t.jsx(A,{path:"garden-chat",element:t.jsx(x.Suspense,{fallback:t.jsx(Xd,{message:"Cargando chat del jardÃ­n..."}),children:t.jsx(Wd,{})})}),t.jsx(A,{path:"plant/:plantId",element:t.jsx(x.Suspense,{fallback:t.jsx(Xd,{message:"Cargando planta..."}),children:t.jsx(Qd,{})})}),t.jsx(A,{path:"plant/:plantId/chat",element:t.jsx(x.Suspense,{fallback:t.jsx(Xd,{message:"Preparando chat..."}),children:t.jsx(Kd,{})})}),t.jsx(A,{path:"*",element:t.jsx(I,{to:jd,replace:!0})})]})});return t.jsx(Me,{client:d,children:t.jsx(lu,{children:t.jsx(fu,{children:t.jsx(zd,{children:t.jsxs(T,{basename:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"/":window.location.pathname.startsWith("/plantitas-app")?"/plantitas-app/":"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[t.jsx(es,{position:"top-center",richColors:!0}),t.jsx(vu,{}),t.jsx(bu,{}),t.jsx(x.Suspense,{fallback:t.jsx(Xd,{message:"Cargando..."}),children:t.jsxs(k,{children:[t.jsx(A,{path:Pd,element:e?t.jsx(I,{to:jd,replace:!0}):t.jsx(x.Suspense,{fallback:t.jsx(Xd,{message:"Cargando autenticaciÃ³n..."}),children:t.jsx(Yd,{})})}),t.jsx(A,{path:"/*",element:e?t.jsx(p,{}):t.jsx(I,{to:Pd,replace:!0})})]})})]})})})})})};const Jd=x.createContext(void 0),th=({children:e,defaultTheme:s="system",storageKey:n="vite-ui-theme"})=>{const[i,r]=x.useState(()=>localStorage.getItem(n)||s),a=x.useMemo(()=>"system"===i?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i,[i]);x.useEffect(()=>{const t=window.document.documentElement;t.classList.remove("light","dark"),t.classList.add(a),localStorage.setItem(n,i)},[a,i,n]);const o={theme:i,setTheme:r,resolvedTheme:a};return t.jsx(Jd.Provider,{value:o,children:e})},eh=(t,e)=>e.some(e=>t instanceof e);let sh,nh;const ih=new WeakMap,rh=new WeakMap,ah=new WeakMap;let oh={get(t,e,s){if(t instanceof IDBTransaction){if("done"===e)return ih.get(t);if("store"===e)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return dh(t[e])},set:(t,e,s)=>(t[e]=s,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lh(t){oh=t(oh)}function ch(t){return(nh||(nh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(hh(this),e),dh(this.request)}:function(...e){return dh(t.apply(hh(this),e))}}function uh(t){return"function"==typeof t?ch(t):(t instanceof IDBTransaction&&function(t){if(ih.has(t))return;const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",r),t.removeEventListener("abort",r)},i=()=>{e(),n()},r=()=>{s(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",r),t.addEventListener("abort",r)});ih.set(t,e)}(t),eh(t,sh||(sh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,oh):t)}function dh(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",r)},i=()=>{e(dh(t.result)),n()},r=()=>{s(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",r)});return ah.set(e,t),e}(t);if(rh.has(t))return rh.get(t);const e=uh(t);return e!==t&&(rh.set(t,e),ah.set(e,t)),e}const hh=t=>ah.get(t);const ph=["get","getKey","getAll","getAllKeys","count"],mh=["put","add","delete","clear"],fh=new Map;function gh(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(fh.get(e))return fh.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,i=mh.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!ph.includes(s))return;const r=async function(t,...e){const r=this.transaction(t,i?"readwrite":"readonly");let a=r.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[s](...e),i&&r.done]))[0]};return fh.set(e,r),r}lh(t=>({...t,get:(e,s,n)=>gh(e,s)||t.get(e,s,n),has:(e,s)=>!!gh(e,s)||t.has(e,s)}));const yh=["continue","continuePrimaryKey","advance"],vh={},bh=new WeakMap,xh=new WeakMap,wh={get(t,e){if(!yh.includes(e))return t[e];let s=vh[e];return s||(s=vh[e]=function(...t){bh.set(this,xh.get(this)[e](...t))}),s}};async function*Eh(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;const s=new Proxy(e,wh);for(xh.set(s,e),ah.set(s,hh(e));e;)yield s,e=await(bh.get(s)||e.continue()),bh.delete(s)}function Sh(t,e){return e===Symbol.asyncIterator&&eh(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&eh(t,[IDBIndex,IDBObjectStore])}lh(t=>({...t,get:(e,s,n)=>Sh(e,s)?Eh:t.get(e,s,n),has:(e,s)=>Sh(e,s)||t.has(e,s)}));const Ph=new class{db=null;DB_NAME="plantitas-cache";DB_VERSION=1;CACHE_DURATION=864e5;syncQueue=new Map;async initialize(){try{this.db=await function(t,e,{blocked:s,upgrade:n,blocking:i,terminated:r}={}){const a=indexedDB.open(t,e),o=dh(a);return n&&a.addEventListener("upgradeneeded",t=>{n(dh(a.result),t.oldVersion,t.newVersion,dh(a.transaction),t)}),s&&a.addEventListener("blocked",t=>s(t.oldVersion,t.newVersion,t)),o.then(t=>{r&&t.addEventListener("close",()=>r()),i&&t.addEventListener("versionchange",t=>i(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}(this.DB_NAME,this.DB_VERSION,{upgrade(t){if(!t.objectStoreNames.contains("plants")){const e=t.createObjectStore("plants",{keyPath:"id"});e.createIndex("userId","userId"),e.createIndex("syncStatus","syncStatus"),e.createIndex("timestamp","timestamp")}if(!t.objectStoreNames.contains("chatMessages")){const e=t.createObjectStore("chatMessages",{keyPath:"id"});e.createIndex("plantId","plantId"),e.createIndex("timestamp","timestamp")}if(!t.objectStoreNames.contains("syncQueue")){const e=t.createObjectStore("syncQueue",{keyPath:"id"});e.createIndex("timestamp","timestamp"),e.createIndex("operation","operation")}t.objectStoreNames.contains("metadata")||t.createObjectStore("metadata",{keyPath:"key"})}}),await this.loadSyncQueue()}catch(t){throw t}}async loadSyncQueue(){if(this.db)try{const t=await this.db.getAll("syncQueue");this.syncQueue.clear(),t.forEach(t=>{this.syncQueue.set(t.id,t)})}catch(t){}}async cachePlants(t,e){if(!this.db)throw new Error("Cache not initialized");const s=this.db.transaction("plants","readwrite"),n=s.objectStore("plants");try{const i=n.index("userId"),r=await i.getAllKeys(t);for(const t of r)await n.delete(t);const a=Date.now();for(const s of e){const e={data:s,timestamp:a,version:1,syncStatus:"synced",lastModified:new Date};await n.put({...e,id:s.id,userId:t})}await s.done}catch(i){throw i}}async getCachedPlants(t){if(!this.db)throw new Error("Cache not initialized");try{const e=this.db.transaction("plants").objectStore("plants").index("userId"),s=await e.getAll(t),n=Date.now(),i=s.filter(t=>n-t.timestamp<this.CACHE_DURATION);return i.map(t=>t.data)}catch(e){return[]}}async cachePlant(t,e="synced"){if(!this.db)throw new Error("Cache not initialized");try{const s={data:t,timestamp:Date.now(),version:1,syncStatus:e,lastModified:new Date};await this.db.put("plants",{...s,id:t.id,userId:t.userId})}catch(s){throw s}}async addToSyncQueue(t,e,s){const n={id:`${e}_${s.id||Date.now()}_${t}`,operation:t,collection:e,data:s,timestamp:Date.now(),retryCount:0};if(this.syncQueue.set(n.id,n),this.db)try{await this.db.put("syncQueue",n)}catch(i){}}async processSyncQueue(){if(!this.db)throw new Error("Cache not initialized");let t=0,e=0;for(const[n,i]of this.syncQueue)try{await this.processSyncItem(i),this.syncQueue.delete(n),await this.db.delete("syncQueue",n),t++}catch(s){i.retryCount++,i.retryCount>=3?(this.syncQueue.delete(n),await this.db.delete("syncQueue",n)):await this.db.put("syncQueue",i),e++}return{success:t,failed:e}}async processSyncItem(t){const{operation:e,collection:s,data:n}=t;switch(s){case"plants":await this.syncPlant(e,n);break;case"chatMessages":await this.syncChatMessage(e,n);break;default:throw new Error(`Unknown collection: ${s}`)}}async syncPlant(t,e){const{default:s}=await ot(async()=>{const{default:t}=await Promise.resolve().then(()=>Ot);return{default:t}},void 0);switch(t){case"create":await s.createPlant(e);break;case"update":await s.updatePlant(e.id,e);break;case"delete":await s.deletePlant(e.id)}}async syncChatMessage(t,e){const{default:s}=await ot(async()=>{const{default:t}=await Promise.resolve().then(()=>Ot);return{default:t}},void 0);if("create"===t)await s.addChatMessage(e.plantId,e)}async cacheChatMessages(t,e){if(!this.db)throw new Error("Cache not initialized");const s=this.db.transaction("chatMessages","readwrite"),n=s.objectStore("chatMessages");try{const i=n.index("plantId"),r=await i.getAllKeys(t);for(const t of r)await n.delete(t);const a=Date.now();for(const s of e){const e={data:s,timestamp:a,version:1,syncStatus:"synced",lastModified:new Date};await n.put({...e,id:s.id,plantId:t})}await s.done}catch(i){throw i}}async getCachedChatMessages(t){if(!this.db)throw new Error("Cache not initialized");try{const e=this.db.transaction("chatMessages").objectStore("chatMessages").index("plantId"),s=await e.getAll(t);return s.map(t=>t.data).sort((t,e)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}catch(e){return[]}}async clearCache(){if(this.db)try{const t=this.db.transaction(["plants","chatMessages","syncQueue"],"readwrite");await Promise.all([t.objectStore("plants").clear(),t.objectStore("chatMessages").clear(),t.objectStore("syncQueue").clear()]),await t.done,this.syncQueue.clear()}catch(t){throw t}}async getCacheStats(){if(!this.db)return{plantsCount:0,messagesCount:0,queueCount:0,totalSize:0};try{const[t,e,s]=await Promise.all([this.db.count("plants"),this.db.count("chatMessages"),this.db.count("syncQueue")]);return{plantsCount:t,messagesCount:e,queueCount:s,totalSize:5e3*t+1e3*e+2e3*s}}catch(t){return{plantsCount:0,messagesCount:0,queueCount:0,totalSize:0}}}};var jh=Ph;window.logGlobalError=(t,e="GLOBAL")=>{};(async()=>{try{await jh.initialize()}catch(t){}})();const Ch=new je;function Th(){const{user:t}=yt();return w.useEffect(()=>{t?.id&&Ch.prefetchQuery({queryKey:["plants",t.id],queryFn:()=>Nt.getUserPlants(t.id),staleTime:3e5})},[t?.id]),null}const kh=document.getElementById("root");if(!kh)throw new Error("Root container not found");try{it.createRoot(kh).render(t.jsx(w.StrictMode,{children:t.jsx(th,{children:t.jsxs(Me,{client:Ch,children:[t.jsx(Th,{}),t.jsx(Zd,{}),t.jsx(es,{})]})})}))}catch(Ah){throw Ah}export{aa as A,Cu as F,Au as a,yt as b,Sd as c,iu as m,Rd as n,Nt as p,Vt as u};
