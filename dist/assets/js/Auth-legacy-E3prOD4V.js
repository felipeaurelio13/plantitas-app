System.register(["./query-legacy-ZvuW6rIy.js","./vendor-legacy-CMtrHmhA.js","./index-legacy-BWzKXsTd.js","./ui-legacy-BTYIp0tI.js","./supabase-legacy-CwN3zXIV.js","./router-legacy-BP4270OX.js"],function(e,a){"use strict";var t,r,s,l,i,n,o,d,c,g;return{setters:[e=>{t=e.j},e=>{r=e.r},e=>{s=e.a},e=>{l=e.m,i=e.L,n=e.a8,o=e.af,d=e.ag,c=e.E,g=e.l},null,null],execute:function(){e("default",()=>{const[e,a]=r.useState("login"),[u,m]=r.useState(""),[x,h]=r.useState(""),[p,y]=r.useState(""),[b,f]=r.useState(""),[j,w]=r.useState(!1),{signIn:v,signUp:N,isLoading:k,error:C,clearError:S}=s();return r.useEffect(()=>()=>{S()},[e,S]),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:t.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(l.div,{initial:{scale:.8},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full mb-4",children:t.jsx(i,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-contrast-high mb-2",children:"Plantitas"}),t.jsx("p",{className:"text-contrast-medium",children:"login"===e?"Bienvenido de vuelta":"Únete a la comunidad de plantas"})]}),t.jsxs(l.div,{layout:!0,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[t.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),S(),"login"===e)await v({email:u,password:x});else{if(x!==p)return void console.error("Passwords do not match");await N({email:u,password:x,confirmPassword:p,fullName:b})}},className:"space-y-4",children:["signup"===e&&t.jsxs(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre completo"}),t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",value:b,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Tu nombre completo",autoComplete:"name",required:"signup"===e})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(o,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:u,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"tu@email.com",autoComplete:"email",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),t.jsx("input",{type:j?"text":"password",value:x,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"••••••••",autoComplete:"login"===e?"current-password":"new-password",required:!0,minLength:6}),t.jsx("button",{type:"button",onClick:()=>w(!j),className:"absolute right-3 top-3 w-5 h-5 text-gray-400 hover:text-gray-600",children:j?t.jsx(c,{}):t.jsx(g,{})})]}),"signup"===e&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mínimo 6 caracteres"})]}),"signup"===e&&t.jsxs(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Contraseña"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"password",value:p,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"••••••••",autoComplete:"new-password",required:"signup"===e})]})]}),C&&t.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:C})}),t.jsx("button",{type:"submit",disabled:k,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-green-300 text-white font-medium py-3 px-4 rounded-lg transition-colors focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:k?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Procesando..."]}):"login"===e?"Iniciar Sesión":"Crear Cuenta"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["login"===e?"¿No tienes cuenta?":"¿Ya tienes cuenta?",t.jsx("button",{onClick:()=>(a("login"===e?"signup":"login"),void S()),className:"ml-1 text-green-500 hover:text-green-600 font-medium",children:"login"===e?"Regístrate":"Inicia sesión"})]})})]}),t.jsx("div",{className:"text-center mt-8",children:t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Al continuar, aceptas nuestros Términos y Condiciones"})})]})})})}}});
