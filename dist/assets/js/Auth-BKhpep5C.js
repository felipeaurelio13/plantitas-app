import{j as e}from"./query-BtyC95ZO.js";import{r}from"./vendor-ohv-86MT.js";import{a as k}from"./index-DqXxMyML.js";import{m as s,i as C,$ as S,a6 as E,a7 as u,E as P,h as q}from"./ui-BKcRNX0w.js";import"./supabase-ChG5PfJU.js";import"./router-Lz5I7iQY.js";const U=()=>{const[t,x]=r.useState("login"),[l,h]=r.useState(""),[i,p]=r.useState(""),[n,y]=r.useState(""),[c,b]=r.useState(""),[d,f]=r.useState(!1),{signIn:j,signUp:w,isLoading:m,error:g,clearError:o}=k(),N=a=>{x(a),o()};r.useEffect(()=>()=>{o()},[t,o]);const v=async a=>{if(a.preventDefault(),o(),t==="login")await j({email:l,password:i});else{if(i!==n){console.error("Passwords do not match");return}await w({email:l,password:i,confirmPassword:n,fullName:c})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(s.div,{initial:{scale:.8},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full mb-4",children:e.jsx(C,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-contrast-high mb-2",children:"Plantitas"}),e.jsx("p",{className:"text-contrast-medium",children:t==="login"?"Bienvenido de vuelta":"Únete a la comunidad de plantas"})]}),e.jsxs(s.div,{layout:!0,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t==="signup"&&e.jsxs(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:c,onChange:a=>b(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Tu nombre completo",autoComplete:"name",required:t==="signup"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:l,onChange:a=>h(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"tu@email.com",autoComplete:"email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:d?"text":"password",value:i,onChange:a=>p(a.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"••••••••",autoComplete:t==="login"?"current-password":"new-password",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-3 w-5 h-5 text-gray-400 hover:text-gray-600",children:d?e.jsx(P,{}):e.jsx(q,{})})]}),t==="signup"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mínimo 6 caracteres"})]}),t==="signup"&&e.jsxs(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"password",value:n,onChange:a=>y(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"••••••••",autoComplete:"new-password",required:t==="signup"})]})]}),g&&e.jsx(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:g})}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-green-300 text-white font-medium py-3 px-4 rounded-lg transition-colors focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Procesando..."]}):t==="login"?"Iniciar Sesión":"Crear Cuenta"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t==="login"?"¿No tienes cuenta?":"¿Ya tienes cuenta?",e.jsx("button",{onClick:()=>N(t==="login"?"signup":"login"),className:"ml-1 text-green-500 hover:text-green-600 font-medium",children:t==="login"?"Regístrate":"Inicia sesión"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Al continuar, aceptas nuestros Términos y Condiciones"})})]})})};export{U as default};
