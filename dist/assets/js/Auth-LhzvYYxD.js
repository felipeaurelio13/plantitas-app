import{j as e}from"./query-D9cK7eLy.js";import{r as s}from"./vendor-ohv-86MT.js";import{a as Y}from"./index-BQkzON6g.js";import{m as a,L as z,c as G,A as x,a8 as J,af as K,E as v,l as k,ag as C,a as Q}from"./ui-BaGPRaSD.js";import"./supabase-ChG5PfJU.js";import"./router-Lz5I7iQY.js";const ee=()=>{const[t,P]=s.useState("login"),[d,S]=s.useState(""),[r,h]=s.useState(""),[c,p]=s.useState(""),[g,E]=s.useState(""),[o,f]=s.useState(!1),[m,b]=s.useState(!1),{signIn:B,signUp:I,isLoading:w,error:y,clearError:i,isDevelopmentMode:M}=Y(),q=n=>{P(n),i(),h(""),p(""),f(!1),b(!1)};s.useEffect(()=>()=>{i()},[t,i]);const A=async n=>{if(n.preventDefault(),i(),t==="login")try{await B({email:d,password:r})}catch{}else{if(r!==c)return;try{await I({email:d,password:r,confirmPassword:c,fullName:g})}catch{}}},l=({type:n,value:u,onChange:L,placeholder:R,icon:F,required:T=!1,autoComplete:D,rightIcon:j,onRightIconClick:O,label:U,id:N})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:N,className:"block text-sm font-medium text-stone-700 dark:text-stone-300",children:U}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:F}),e.jsx("input",{id:N,type:n,value:u,onChange:H=>L(H.target.value),className:`
            w-full pl-10 pr-4 py-3.5 
            bg-white dark:bg-stone-800 
            border border-stone-200 dark:border-stone-700 
            rounded-xl 
            text-stone-900 dark:text-stone-100 
            placeholder-stone-500 dark:placeholder-stone-400
            focus:ring-2 focus:ring-nature-500 focus:border-transparent
            transition-all duration-200
            text-base
            touch-target
          `,placeholder:R,autoComplete:D,required:T,minLength:n==="password"?6:void 0}),j&&e.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600 dark:hover:text-stone-300 transition-colors touch-target","aria-label":n==="password"?o?"Ocultar contraseña":"Mostrar contraseña":void 0,children:j})]})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-nature-50 via-stone-50 to-nature-100 dark:from-stone-950 dark:via-stone-900 dark:to-stone-950 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,ease:[.16,1,.3,1]},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(a.div,{initial:{scale:.9,rotate:-5},animate:{scale:1,rotate:0},transition:{duration:.5,ease:[.16,1,.3,1],delay:.1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-nature-500 to-nature-600 rounded-2xl mb-6 shadow-lg shadow-nature-200/50 dark:shadow-nature-900/30",children:e.jsx(z,{className:"w-8 h-8 text-white"})}),e.jsx(a.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-3xl font-bold bg-gradient-to-r from-nature-600 to-nature-700 bg-clip-text text-transparent mb-2",children:"Plantitas"}),e.jsx(a.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},className:"text-stone-600 dark:text-stone-400",children:t==="login"?"Bienvenido de vuelta a tu jardín":"Únete a la comunidad de plantas"}),M&&e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.3},className:"mt-4 inline-flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-sm text-blue-700 dark:text-blue-300",children:[e.jsx(G,{className:"w-4 h-4"}),"Modo demo activo"]})]}),e.jsxs(a.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},className:"bg-white/90 dark:bg-stone-900/90 backdrop-blur-xl rounded-3xl shadow-xl shadow-stone-200/20 dark:shadow-stone-950/40 p-8 border border-white/20 dark:border-stone-800/50",children:[e.jsxs("form",{onSubmit:A,className:"space-y-5",children:[e.jsx(x,{mode:"wait",children:t==="signup"&&e.jsx(a.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:20},exit:{opacity:0,height:0,marginBottom:0},transition:{duration:.3,ease:[.16,1,.3,1]},children:e.jsx(l,{id:"fullName",type:"text",value:g,onChange:E,placeholder:"Tu nombre completo",icon:e.jsx(J,{className:"w-5 h-5"}),required:t==="signup",autoComplete:"name",label:"Nombre completo"})})}),e.jsx(l,{id:"email",type:"email",value:d,onChange:S,placeholder:"tu@email.com",icon:e.jsx(K,{className:"w-5 h-5"}),required:!0,autoComplete:"email",label:"Email"}),e.jsx(l,{id:"password",type:o?"text":"password",value:r,onChange:h,placeholder:"••••••••",icon:e.jsx(C,{className:"w-5 h-5"}),required:!0,autoComplete:t==="login"?"current-password":"new-password",rightIcon:o?e.jsx(v,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"}),onRightIconClick:()=>f(!o),label:"Contraseña"}),e.jsx(x,{mode:"wait",children:t==="signup"&&e.jsxs(a.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:20},exit:{opacity:0,height:0,marginBottom:0},transition:{duration:.3,ease:[.16,1,.3,1]},children:[e.jsx(l,{id:"confirmPassword",type:m?"text":"password",value:c,onChange:p,placeholder:"••••••••",icon:e.jsx(C,{className:"w-5 h-5"}),required:t==="signup",autoComplete:"new-password",rightIcon:m?e.jsx(v,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"}),onRightIconClick:()=>b(!m),label:"Confirmar contraseña"}),t==="signup"&&r&&e.jsx(a.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-stone-500 dark:text-stone-400 mt-1",children:"Mínimo 6 caracteres"})]})}),e.jsx(x,{children:y&&e.jsxs(a.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.2},className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:[e.jsx(Q,{className:"w-5 h-5 text-red-500 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 leading-relaxed",children:y})]})}),e.jsx(a.button,{type:"submit",disabled:w,whileTap:{scale:.98},whileHover:{scale:1.01},className:`
                w-full bg-gradient-to-r from-nature-500 to-nature-600 
                hover:from-nature-600 hover:to-nature-700 
                disabled:from-stone-300 disabled:to-stone-300
                dark:disabled:from-stone-700 dark:disabled:to-stone-700
                text-white font-medium py-4 px-6 rounded-xl 
                transition-all duration-200 
                focus:ring-2 focus:ring-nature-500 focus:ring-offset-2 focus:ring-offset-white
                dark:focus:ring-offset-stone-900
                shadow-lg hover:shadow-xl
                touch-target
                disabled:cursor-not-allowed disabled:transform-none
              `,children:w?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Procesando..."})]}):t==="login"?"Iniciar Sesión":"Crear Cuenta"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-stone-600 dark:text-stone-400 text-sm",children:[t==="login"?"¿No tienes cuenta?":"¿Ya tienes cuenta?"," ",e.jsx("button",{onClick:()=>q(t==="login"?"signup":"login"),className:"text-nature-600 dark:text-nature-400 hover:text-nature-700 dark:hover:text-nature-300 font-medium transition-colors underline-offset-4 hover:underline focus:underline focus:outline-none",children:t==="login"?"Regístrate aquí":"Inicia sesión aquí"})]})})]}),e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.4},className:"text-center mt-8",children:e.jsxs("p",{className:"text-xs text-stone-500 dark:text-stone-400 leading-relaxed max-w-sm mx-auto",children:["Al continuar, aceptas nuestros"," ",e.jsx("span",{className:"text-nature-600 dark:text-nature-400",children:"Términos de Servicio"})," ","y"," ",e.jsx("span",{className:"text-nature-600 dark:text-nature-400",children:"Política de Privacidad"})]})})]})})};export{ee as default};
