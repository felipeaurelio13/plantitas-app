import{z as x,r,u as C,j as e,m as s,L as S}from"./index-DJn3qQTM.js";import{U as E}from"./user-CgNKLR_-.js";import{E as P,a as L}from"./eye-Bqpe03M5.js";/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=x("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=x("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),U=()=>{const[t,h]=r.useState("login"),[o,p]=r.useState(""),[i,y]=r.useState(""),[l,b]=r.useState(""),[c,f]=r.useState(""),[d,w]=r.useState(!1),{signIn:j,signUp:N,isLoading:g,error:m,clearError:n}=C(),v=a=>{h(a),n()};r.useEffect(()=>()=>{n()},[t,n]);const k=async a=>{if(a.preventDefault(),n(),t==="login")await j({email:o,password:i});else{if(i!==l){console.error("Passwords do not match");return}await N({email:o,password:i,confirmPassword:l,fullName:c})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(s.div,{initial:{scale:.8},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full mb-4",children:e.jsx(S,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-contrast-high mb-2",children:"Plantitas"}),e.jsx("p",{className:"text-contrast-medium",children:t==="login"?"Bienvenido de vuelta":"Únete a la comunidad de plantas"})]}),e.jsxs(s.div,{layout:!0,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t==="signup"&&e.jsxs(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:c,onChange:a=>f(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Tu nombre completo",autoComplete:"name",required:t==="signup"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:o,onChange:a=>p(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"tu@email.com",autoComplete:"email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:d?"text":"password",value:i,onChange:a=>y(a.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"••••••••",autoComplete:t==="login"?"current-password":"new-password",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>w(!d),className:"absolute right-3 top-3 w-5 h-5 text-gray-400 hover:text-gray-600",children:d?e.jsx(P,{}):e.jsx(L,{})})]}),t==="signup"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mínimo 6 caracteres"})]}),t==="signup"&&e.jsxs(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"password",value:l,onChange:a=>b(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"••••••••",autoComplete:"new-password",required:t==="signup"})]})]}),m&&e.jsx(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:m})}),e.jsx("button",{type:"submit",disabled:g,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-green-300 text-white font-medium py-3 px-4 rounded-lg transition-colors focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:g?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Procesando..."]}):t==="login"?"Iniciar Sesión":"Crear Cuenta"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t==="login"?"¿No tienes cuenta?":"¿Ya tienes cuenta?",e.jsx("button",{onClick:()=>v(t==="login"?"signup":"login"),className:"ml-1 text-green-500 hover:text-green-600 font-medium",children:t==="login"?"Regístrate":"Inicia sesión"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Al continuar, aceptas nuestros Términos y Condiciones"})})]})})};export{U as default};
