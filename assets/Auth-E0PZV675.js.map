{"version":3,"file":"Auth-E0PZV675.js","sources":["../../src/pages/Auth.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Mail, Lock, User, Eye, EyeOff, Leaf, Sprout, Flower2 } from 'lucide-react';\nimport useAuthStore from '../stores/useAuthStore';\n\nconst AuthPage: React.FC = () => {\n  const [mode, setMode] = useState<'login' | 'signup'>('login');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n\n  // Use the store for state and actions\n  const { signIn, signUp, signInWithGoogle, isLoading, error, clearError } = useAuthStore();\n\n  const handleModeChange = (newMode: 'login' | 'signup') => {\n    setMode(newMode);\n    clearError(); // Clear errors when switching modes\n  };\n  \n  // Clear errors when the component unmounts or mode changes\n  useEffect(() => {\n    return () => {\n      clearError?.();\n    };\n  }, [mode, clearError]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    clearError();\n\n    if (mode === 'login') {\n      await signIn(email, password);\n    } else {\n      if (password !== confirmPassword) {\n        console.error(\"Passwords do not match\");\n        return;\n      }\n      await signUp(email, password, confirmPassword, fullName);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    try {\n      await signInWithGoogle();\n    } catch (error) {\n      console.error('Google sign in error:', error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-green-50 flex items-center justify-center p-4\">\n      {/* Background Pattern */}\n      <div className=\"absolute inset-0 opacity-5\">\n        <div className=\"absolute top-20 left-10 text-green-500\">\n          <Leaf size={40} />\n        </div>\n        <div className=\"absolute top-32 right-20 text-green-400\">\n          <Sprout size={30} />\n        </div>\n        <div className=\"absolute bottom-40 left-20 text-green-600\">\n          <Flower2 size={25} />\n        </div>\n        <div className=\"absolute bottom-20 right-10 text-green-300\">\n          <Leaf size={35} />\n        </div>\n      </div>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"w-full max-w-md relative z-10\"\n      >\n        {/* Logo and Title */}\n        <div className=\"text-center mb-8\">\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\n            className=\"w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg\"\n          >\n            <Leaf className=\"w-8 h-8 text-white\" />\n          </motion.div>\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n            Plantitas\n          </h1>\n          <p className=\"text-gray-600\">\n            Tu asistente inteligente para el cuidado de plantas\n          </p>\n        </div>\n\n        {/* Auth Card */}\n        <motion.div\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ delay: 0.3 }}\n          className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-green-100 p-6\"\n        >\n          {/* Mode Toggle */}\n          <div className=\"flex bg-gray-100 rounded-xl p-1 mb-6\">\n            <button\n              onClick={() => handleModeChange('login')}\n              className={`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${\n                mode === 'login'\n                  ? 'bg-white text-green-600 shadow-sm'\n                  : 'text-gray-600 hover:text-gray-800'\n              }`}\n            >\n              Iniciar Sesi贸n\n            </button>\n            <button\n              onClick={() => handleModeChange('signup')}\n              className={`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${\n                mode === 'signup'\n                  ? 'bg-white text-green-600 shadow-sm'\n                  : 'text-gray-600 hover:text-gray-800'\n              }`}\n            >\n              Registrarse\n            </button>\n          </div>\n\n          {/* Error Message */}\n          <AnimatePresence>\n            {error && (\n              <motion.div\n                initial={{ opacity: 0, height: 0 }}\n                animate={{ opacity: 1, height: 'auto' }}\n                exit={{ opacity: 0, height: 0 }}\n                className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-4 text-sm\"\n              >\n                {error}\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Full Name - Only for signup */}\n            <AnimatePresence>\n              {mode === 'signup' && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: 'auto' }}\n                  exit={{ opacity: 0, height: 0 }}\n                  className=\"relative\"\n                >\n                  <div className=\"relative\">\n                    <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Nombre completo\"\n                      value={fullName}\n                      onChange={(e) => setFullName(e.target.value)}\n                      className=\"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all\"\n                      required={mode === 'signup'}\n                    />\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            {/* Email */}\n            <div className=\"relative\">\n              <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n              <input\n                type=\"email\"\n                placeholder=\"Correo electr贸nico\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all\"\n                required\n              />\n            </div>\n\n            {/* Password */}\n            <div className=\"relative\">\n              <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n              <input\n                type={showPassword ? 'text' : 'password'}\n                placeholder=\"Contrase帽a\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full pl-10 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all\"\n                required\n              />\n              <button\n                type=\"button\"\n                onClick={() => setShowPassword(!showPassword)}\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n              >\n                {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n              </button>\n            </div>\n\n            {/* Confirm Password - Only for signup */}\n            <AnimatePresence>\n              {mode === 'signup' && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: 'auto' }}\n                  exit={{ opacity: 0, height: 0 }}\n                  className=\"relative\"\n                >\n                  <div className=\"relative\">\n                    <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                    <input\n                      type=\"password\"\n                      placeholder=\"Confirmar contrase帽a\"\n                      value={confirmPassword}\n                      onChange={(e) => setConfirmPassword(e.target.value)}\n                      className=\"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all\"\n                      required={mode === 'signup'}\n                    />\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            {/* Submit Button */}\n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg\"\n            >\n              {isLoading ? (\n                <div className=\"flex items-center justify-center\">\n                  <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2\"></div>\n                  {mode === 'login' ? 'Iniciando sesi贸n...' : 'Registrando...'}\n                </div>\n              ) : (\n                mode === 'login' ? 'Iniciar Sesi贸n' : 'Crear Cuenta'\n              )}\n            </motion.button>\n          </form>\n\n          {/* Divider */}\n          <div className=\"flex items-center my-6\">\n            <div className=\"flex-1 border-t border-gray-200\"></div>\n            <span className=\"px-4 text-gray-500 text-sm\">o</span>\n            <div className=\"flex-1 border-t border-gray-200\"></div>\n          </div>\n\n          {/* Google Sign In */}\n          <motion.button\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={handleGoogleSignIn}\n            disabled={isLoading}\n            className=\"w-full bg-white border border-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center\"\n          >\n            <svg className=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\">\n              <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n              <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n              <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n              <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n            </svg>\n            Continuar con Google\n          </motion.button>\n\n          {/* Footer */}\n          <div className=\"text-center mt-6\">\n            <p className=\"text-gray-500 text-sm\">\n              Al continuar, aceptas nuestros t茅rminos de servicio y pol铆tica de privacidad\n            </p>\n          </div>\n        </motion.div>\n\n        {/* Additional Info */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.6 }}\n          className=\"text-center mt-6\"\n        >\n          <p className=\"text-gray-600 text-sm\">\n             Cuida tus plantas con inteligencia artificial\n          </p>\n        </motion.div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default AuthPage; "],"names":["Auth_default","mode","setMode","useState","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","fullName","setFullName","showPassword","setShowPassword","signIn","signUp","signInWithGoogle","isLoading","error","clearError","useAuthStore","handleModeChange","newMode","useEffect","jsxs","className","children","jsx","Leaf","size","Sprout","Flower2","motion","div","initial","opacity","y","animate","transition","duration","scale","delay","type","stiffness","onClick","AnimatePresence","height","exit","onSubmit","async","e","preventDefault","User","placeholder","value","onChange","target","required","Mail","Lock","EyeOff","Eye","button","whileHover","whileTap","disabled","viewBox","fill","d"],"mappings":"omBAgSA,IAAOA,EA3RoB,KACzB,MAAOC,EAAMC,GAAWC,EAAAA,SAA6B,UAC9CC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BG,EAAUC,GAAeJ,EAAAA,SAAS,KAClCK,EAAiBC,GAAsBN,EAAAA,SAAS,KAChDO,EAAUC,GAAeR,EAAAA,SAAS,KAClCS,EAAcC,GAAmBV,EAAAA,UAAS,IAG3CW,OAAEA,SAAQC,EAAAC,iBAAQA,EAAAC,UAAkBA,QAAWC,EAAAC,WAAOA,GAAeC,IAErEC,EAAoBC,IACxBpB,EAAQoB,GACRH,KAIFI,EAAAA,UAAU,IACD,KACLJ,OAED,CAAClB,EAAMkB,IAyBV,OACEK,EAAAA,KAAC,MAAA,CAAIC,UAAU,0GAEbC,SAAA,CAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,6BACbC,SAAA,CAAAC,EAAAA,IAAC,OAAIF,UAAU,yCACbC,eAACE,EAAA,CAAKC,KAAM,OAEdF,EAAAA,IAAC,OAAIF,UAAU,0CACbC,eAACI,EAAA,CAAOD,KAAM,OAEhBF,EAAAA,IAAC,OAAIF,UAAU,4CACbC,eAACK,EAAA,CAAQF,KAAM,OAEjBF,EAAAA,IAAC,OAAIF,UAAU,6CACbC,eAACE,EAAA,CAAKC,KAAM,UAIhBL,EAAAA,KAACQ,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,EAAGC,EAAG,IAC1BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BE,WAAY,CAAEC,SAAU,IACxBd,UAAU,gCAGVC,SAAA,CAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,mBACbC,SAAA,CAAAC,EAAAA,IAACK,EAAOC,IAAP,CACCC,QAAS,CAAEM,MAAO,GAClBH,QAAS,CAAEG,MAAO,GAClBF,WAAY,CAAEG,MAAO,GAAKC,KAAM,SAAUC,UAAW,KACrDlB,UAAU,+HAEVC,SAAAC,EAAAA,IAACC,EAAA,CAAKH,UAAU,yBAElBE,EAAAA,IAAC,KAAA,CAAGF,UAAU,wCAAwCC,SAAA,cAGtDC,EAAAA,IAAC,IAAA,CAAEF,UAAU,gBAAgBC,SAAA,2DAM/BF,EAAAA,KAACQ,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,EAAGK,MAAO,IAC9BH,QAAS,CAAEF,QAAS,EAAGK,MAAO,GAC9BF,WAAY,CAAEG,MAAO,IACrBhB,UAAU,iFAGVC,SAAA,CAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,uCACbC,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACCiB,QAAS,IAAMvB,EAAiB,SAChCI,UAAW,2DACA,UAATxB,EACI,oCACA,qCAEPyB,SAAA,mBAGDC,EAAAA,IAAC,SAAA,CACCiB,QAAS,IAAMvB,EAAiB,UAChCI,UAAW,2DACA,WAATxB,EACI,oCACA,qCAEPyB,SAAA,mBAMHC,EAAAA,IAACkB,GACEnB,SAAAR,GACCS,EAAAA,IAACK,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,EAAGW,OAAQ,GAC/BT,QAAS,CAAEF,QAAS,EAAGW,OAAQ,QAC/BC,KAAM,CAAEZ,QAAS,EAAGW,OAAQ,GAC5BrB,UAAU,iFAETC,SAAAR,MAMPM,EAAAA,KAAC,OAAA,CAAKwB,SA/GOC,MAAOC,IAI1B,GAHAA,EAAEC,iBACFhC,IAEa,UAATlB,QACIa,EAAOV,EAAOE,OACf,CACL,GAAIA,IAAaE,EAEf,aAEIO,EAAOX,EAAOE,EAAUE,EAAiBE,EACjD,GAmGoCe,UAAU,YAEtCC,SAAA,CAAAC,EAAAA,IAACkB,EAAA,CACEnB,SAAS,cACRC,EAAAA,IAACK,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,EAAGW,OAAQ,GAC/BT,QAAS,CAAEF,QAAS,EAAGW,OAAQ,QAC/BC,KAAM,CAAEZ,QAAS,EAAGW,OAAQ,GAC5BrB,UAAU,WAEVC,SAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,WACbC,SAAA,CAAAC,EAAAA,IAACyB,EAAA,CAAK3B,UAAU,6EAChBE,EAAAA,IAAC,QAAA,CACCe,KAAK,OACLW,YAAY,kBACZC,MAAO5C,EACP6C,SAAWL,GAAMvC,EAAYuC,EAAEM,OAAOF,OACtC7B,UAAU,mKACVgC,SAAmB,WAATxD,WAQpBuB,EAAAA,KAAC,MAAA,CAAIC,UAAU,WACbC,SAAA,CAAAC,EAAAA,IAAC+B,EAAA,CAAKjC,UAAU,6EAChBE,EAAAA,IAAC,QAAA,CACCe,KAAK,QACLW,YAAY,qBACZC,MAAOlD,EACPmD,SAAWL,GAAM7C,EAAS6C,EAAEM,OAAOF,OACnC7B,UAAU,mKACVgC,UAAQ,OAKZjC,EAAAA,KAAC,MAAA,CAAIC,UAAU,WACbC,SAAA,CAAAC,EAAAA,IAACgC,EAAA,CAAKlC,UAAU,6EAChBE,EAAAA,IAAC,QAAA,CACCe,KAAM9B,EAAe,OAAS,WAC9ByC,YAAY,aACZC,MAAOhD,EACPiD,SAAWL,GAAM3C,EAAY2C,EAAEM,OAAOF,OACtC7B,UAAU,oKACVgC,UAAQ,IAEV9B,EAAAA,IAAC,SAAA,CACCe,KAAK,SACLE,QAAS,IAAM/B,GAAiBD,GAChCa,UAAU,wFAETC,SAAAd,QAAgBgD,EAAA,CAAOnC,UAAU,YAAeE,EAAAA,IAACkC,EAAA,CAAIpC,UAAU,iBAKpEE,EAAAA,IAACkB,EAAA,CACEnB,SAAS,WAATzB,GACC0B,EAAAA,IAACK,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,EAAGW,OAAQ,GAC/BT,QAAS,CAAEF,QAAS,EAAGW,OAAQ,QAC/BC,KAAM,CAAEZ,QAAS,EAAGW,OAAQ,GAC5BrB,UAAU,WAEVC,SAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,WACbC,SAAA,CAAAC,EAAAA,IAACgC,EAAA,CAAKlC,UAAU,6EAChBE,EAAAA,IAAC,QAAA,CACCe,KAAK,WACLW,YAAY,uBACZC,MAAO9C,EACP+C,SAAWL,GAAMzC,EAAmByC,EAAEM,OAAOF,OAC7C7B,UAAU,mKACVgC,SAAmB,WAATxD,WAQpB0B,EAAAA,IAACK,EAAO8B,OAAP,CACCC,WAAY,CAAEvB,MAAO,MACrBwB,SAAU,CAAExB,MAAO,KACnBE,KAAK,SACLuB,SAAUhD,EACVQ,UAAU,4RAETC,SAAAT,EACCO,OAAC,MAAA,CAAIC,UAAU,mCACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,mFACL,UAATxB,EAAmB,sBAAwB,oBAGrC,UAATA,EAAmB,iBAAmB,oBAM5CuB,EAAAA,KAAC,MAAA,CAAIC,UAAU,yBACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,oCACfE,EAAAA,IAAC,OAAA,CAAKF,UAAU,6BAA6BC,SAAA,MAC7CC,EAAAA,IAAC,MAAA,CAAIF,UAAU,uCAIjBD,EAAAA,KAACQ,EAAO8B,OAAP,CACCC,WAAY,CAAEvB,MAAO,MACrBwB,SAAU,CAAExB,MAAO,KACnBI,QAhNiBK,UACzB,UACQjC,GACR,OAASE,GAET,GA4MQ+C,SAAUhD,EACVQ,UAAU,iRAEVC,SAAA,CAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,eAAeyC,QAAQ,YACpCxC,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAKwC,KAAK,UAAUC,EAAE,4HACvBzC,EAAAA,IAAC,OAAA,CAAKwC,KAAK,UAAUC,EAAE,0IACvBzC,EAAAA,IAAC,OAAA,CAAKwC,KAAK,UAAUC,EAAE,kIACvBzC,EAAAA,IAAC,OAAA,CAAKwC,KAAK,UAAUC,EAAE,2IACnB,0BAKRzC,EAAAA,IAAC,OAAIF,UAAU,mBACbC,eAAC,IAAA,CAAED,UAAU,wBAAwBC,SAAA,sFAOzCC,EAAAA,IAACK,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,GACpBE,QAAS,CAAEF,QAAS,GACpBG,WAAY,CAAEG,MAAO,IACrBhB,UAAU,mBAEVC,SAAAC,EAAAA,IAAC,IAAA,CAAEF,UAAU,wBAAwBC,SAAA"}