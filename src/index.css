@import "tailwindcss";

/* 
  Sistema de diseño Plantitas - Enfoque minimalista con tonos naturales
  Tailwind v4 CSS-first configuration
*/
@theme {
  /* === PALETA DE COLORES NATURALES === */
  
  /* Verdes Principales (Tonos de plantas y naturaleza) */
  --color-nature-50: #f0fdf4;   /* Verde muy claro - fondos suaves */
  --color-nature-100: #dcfce7;  /* Verde claro - elementos secundarios */
  --color-nature-200: #bbf7d0;  /* Verde suave - estados hover */
  --color-nature-300: #86efac;  /* Verde medio claro - acentos */
  --color-nature-400: #4ade80;  /* Verde vibrante - CTAs secundarios */
  --color-nature-500: #22c55e;  /* Verde principal - botones primarios */
  --color-nature-600: #16a34a;  /* Verde sólido - estados activos */
  --color-nature-700: #15803d;  /* Verde oscuro - textos sobre fondos claros */
  --color-nature-800: #166534;  /* Verde muy oscuro - elementos fuertes */
  --color-nature-900: #14532d;  /* Verde máximo - contraste alto */
  --color-nature-950: #052e16;  /* Verde casi negro */

  /* Grises Neutros (Inspirados en tierra y piedra) */
  --color-stone-50: #fafaf9;    /* Casi blanco - fondos principales */
  --color-stone-100: #f5f5f4;   /* Gris muy claro - bordes suaves */
  --color-stone-200: #e7e5e4;   /* Gris claro - separadores */
  --color-stone-300: #d6d3d1;   /* Gris medio claro - elementos inactivos */
  --color-stone-400: #a8a29e;   /* Gris medio - textos secundarios */
  --color-stone-500: #78716c;   /* Gris equilibrado - textos normales */
  --color-stone-600: #57534e;   /* Gris oscuro - textos importantes */
  --color-stone-700: #44403c;   /* Gris muy oscuro - headlines */
  --color-stone-800: #292524;   /* Gris casi negro - fondos oscuros */
  --color-stone-900: #1c1917;   /* Negro cálido - máximo contraste */
  --color-stone-950: #0c0a09;   /* Negro absoluto */

  /* Colores de Estado (Sutiles y naturales) */
  --color-success-50: #f0fdf4;
  --color-success-500: #22c55e;
  --color-success-700: #15803d;
  
  --color-warning-50: #fffbeb;
  --color-warning-500: #f59e0b;
  --color-warning-700: #b45309;
  
  --color-error-50: #fef2f2;
  --color-error-500: #ef4444;
  --color-error-700: #b91c1c;

  /* === TIPOGRAFÍA === */
  --font-sans: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: ui-monospace, 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;

  /* Escala tipográfica optimizada para móvil */
  --text-xs: 0.75rem;     /* 12px */
  --text-sm: 0.875rem;    /* 14px */
  --text-base: 1rem;      /* 16px - base */
  --text-lg: 1.125rem;    /* 18px */
  --text-xl: 1.25rem;     /* 20px */
  --text-2xl: 1.5rem;     /* 24px */
  --text-3xl: 1.875rem;   /* 30px */
  --text-4xl: 2.25rem;    /* 36px */

  /* === ESPACIADO Y LAYOUT === */
  --radius-xs: 0.25rem;   /* 4px - elementos pequeños */
  --radius-sm: 0.375rem;  /* 6px - inputs, badges */
  --radius-md: 0.5rem;    /* 8px - cards pequeñas */
  --radius-lg: 0.75rem;   /* 12px - cards principales */
  --radius-xl: 1rem;      /* 16px - modales, containers */
  --radius-2xl: 1.5rem;   /* 24px - elementos grandes */

  /* Sombras suaves y naturales */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
}

/* === VARIANT PARA DARK MODE === */
@variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/* === TOKENS SEMÁNTICOS === */
@layer base {
  :root {
    /* TEMA CLARO - Colores semánticos */
    --color-background: var(--color-stone-50);
    --color-surface: white;
    --color-surface-elevated: white;
    --color-surface-muted: var(--color-stone-100);
    
    --color-text-primary: var(--color-stone-900);
    --color-text-secondary: var(--color-stone-600);
    --color-text-muted: var(--color-stone-500);
    --color-text-disabled: var(--color-stone-400);
    
    --color-border: var(--color-stone-200);
    --color-border-muted: var(--color-stone-100);
    --color-border-strong: var(--color-stone-300);
    
    --color-accent: var(--color-nature-600);
    --color-accent-light: var(--color-nature-500);
    --color-accent-muted: var(--color-nature-100);
    
    /* Estados interactivos */
    --color-hover: var(--color-stone-100);
    --color-active: var(--color-stone-200);
    --color-focus: var(--color-nature-500);
    
    /* Transiciones optimizadas */
    --transition-colors: color 150ms ease, background-color 150ms ease, border-color 150ms ease;
    --transition-transform: transform 150ms ease;
    --transition-opacity: opacity 150ms ease;
  }

  [data-theme="dark"] {
    /* TEMA OSCURO - Colores semánticos */
    --color-background: var(--color-stone-950);
    --color-surface: var(--color-stone-900);
    --color-surface-elevated: var(--color-stone-800);
    --color-surface-muted: var(--color-stone-800);
    
    --color-text-primary: var(--color-stone-100);
    --color-text-secondary: var(--color-stone-300);
    --color-text-muted: var(--color-stone-400);
    --color-text-disabled: var(--color-stone-500);
    
    --color-border: var(--color-stone-700);
    --color-border-muted: var(--color-stone-800);
    --color-border-strong: var(--color-stone-600);
    
    --color-accent: var(--color-nature-400);
    --color-accent-light: var(--color-nature-300);
    --color-accent-muted: var(--color-nature-900);
    
    /* Estados interactivos */
    --color-hover: var(--color-stone-800);
    --color-active: var(--color-stone-700);
    --color-focus: var(--color-nature-400);
  }

  /* === ESTILOS GLOBALES === */
  * {
    box-sizing: border-box;
  }

  html {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    font-family: var(--font-sans);
    background-color: var(--color-background);
    color: var(--color-text-primary);
    line-height: 1.6;
    font-size: var(--text-base);
    transition: var(--transition-colors);
    overflow-x: hidden; /* Prevenir scroll horizontal en móvil */
  }

  /* Mejores defaults para elementos interactivos */
  button, input, select, textarea {
    font-family: inherit;
    font-size: inherit;
  }
}

/* === COMPONENTES UTILITARIOS === */
@layer components {
  /* Focus ring accesible y consistente */
  .focus-ring {
    outline: 2px solid transparent;
    outline-offset: 2px;
    transition: var(--transition-colors);
  }

  .focus-ring:focus-visible {
    outline-color: var(--color-focus);
    outline-offset: 2px;
  }

  /* Touch targets optimizados para móvil */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Glass effect mejorado */
  .glass-enhanced {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: var(--shadow-lg);
  }

  [data-theme="dark"] .glass-enhanced {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Scrollbar estilizado */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: var(--color-surface-muted);
    border-radius: var(--radius-md);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--color-border-strong);
    border-radius: var(--radius-md);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
  }

  /* Animaciones suaves */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
  }

  /* Efectos de botón mejorados */
  .btn-glow {
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
    transition: box-shadow 300ms ease, transform 150ms ease;
  }

  .btn-glow:hover {
    box-shadow: 0 0 30px rgba(34, 197, 94, 0.4);
    transform: translateY(-1px);
  }

  /* Estados de carga */
  .skeleton {
    background: linear-gradient(
      90deg,
      var(--color-surface-muted) 0%,
      var(--color-hover) 50%,
      var(--color-surface-muted) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
}

/* === MOBILE OPTIMIZATIONS === */
:root {
  /* Safe area support for iOS */
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
  
  /* Viewport height fix for mobile browsers */
  --vh: 1vh;
}

/* Safe area utilities */
.pt-safe { padding-top: var(--safe-area-top); }
.pb-safe { padding-bottom: var(--safe-area-bottom); }
.pl-safe { padding-left: var(--safe-area-left); }
.pr-safe { padding-right: var(--safe-area-right); }

/* Mobile viewport utilities */
.h-screen-mobile { height: calc(var(--vh, 1vh) * 100); }
.min-h-screen-mobile { min-height: calc(var(--vh, 1vh) * 100); }

/* === ACCESSIBILITY IMPROVEMENTS === */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

@media (prefers-contrast: high) {
  :root {
    --color-border: var(--color-text-primary);
    --color-border-strong: var(--color-text-primary);
  }
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}